{"config":{"lang":["ru","en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0441\u0442\u0430\u0440\u0442","text":"<p>\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c Python (\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f <code>3.8</code>), Pipenv, Docker \u0438 cookiecutter. \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439.</p> <p>\u0414\u0430\u043b\u0435\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0438\u043b\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439. \u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0430\u043c \u0434\u043b\u044f \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438.</p> <p>\u0415\u0441\u043b\u0438 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f, \u0442\u043e \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043d\u0438\u0436\u0435.</p>"},{"location":"#_2","title":"\u041d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442","text":"<pre><code>cookiecutter https://github.com/garpixcms/garpixcms-empty-template\ncd website\ncp example.env .env\npipenv install\npipenv shell\ndocker-compose up -d\npython3 backend/manage.py makemigrations\npython3 backend/manage.py migrate\npython3 backend/manage.py createsuperuser\npython3 backend/manage.py runserver\n</code></pre>"},{"location":"#_3","title":"\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442","text":"<pre><code>git clone &lt;repo_url&gt;\ncd &lt;directory&gt;\ncp example.env .env\npipenv install\npipenv shell\ndocker-compose up -d\npython3 backend/manage.py migrate\npython3 backend/manage.py createsuperuser\npython3 backend/manage.py runserver\n</code></pre>"},{"location":"#garpix-user","title":"Garpix user","text":"<p>\u041d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 \u0432\u0435\u0440\u0441\u0438\u0438 4.0.0 <code>garpix_auth</code> \u0437\u0430\u043c\u0435\u043d\u0435\u043d \u043d\u0430 <code>garpix_user</code>. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438 <code>garpix_auth</code> \u043d\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u0441 \u0431\u043e\u043b\u0435\u0435 \u043c\u043b\u0430\u0434\u0448\u0435\u0439 \u0432\u0435\u0440\u0441\u0438\u0435\u0439 cms, \u0434\u043b\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0433\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u043b\u0435\u0434\u0443\u0439\u0442\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u043c \u043d\u0438\u0436\u0435.</p> <ol> <li>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u043d\u043e\u0432\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e \u043c\u043e\u0434\u0443\u043b\u044f <code>pipenv install garpixcms==4.0.0</code>.</li> <li>\u0421\u043b\u0435\u0434\u0443\u044f \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u043c \u043f\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 <code>garpix_user</code> (https://github.com/garpixcms/garpix_user#quickstart), \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u043f\u0440\u043e\u0435\u043a\u0442 (\u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0440\u043e\u0443\u0442\u044b \u0438 \u0431\u0430\u0437\u043e\u0432\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0443\u0436\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u044b \u0432 \u043c\u043e\u0434\u0443\u043b\u044c garpixcms \u0432 \u0444\u0430\u0439\u043b\u0430\u0445 <code>garpixcms/settings.py</code> \u0438 <code>garpixcms/urls.py</code> \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e).</li> <li>\u041f\u043e\u0441\u043b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>python3 manage.py update_user_module</code>.</li> <li>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f <code>ENABLE_GARPIX_AUTH</code> \u0432 False \u0438\u043b\u0438 \u043f\u0440\u043e\u0441\u0442\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u0435 \u0435\u0435.</li> </ol>"},{"location":"#enterprise-","title":"Enterprise-\u0432\u0435\u0440\u0441\u0438\u044f","text":"<p>\u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 Enterprise-\u0432\u0435\u0440\u0441\u0438\u0438, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043d\u0430\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443 inbox@garpix.com. 1</p>"},{"location":"faq_cors/","title":"FAQ - \u0412\u043e\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u0432\u0435\u0442\u044b","text":""},{"location":"faq_cors/#cors","title":"\u0415\u0441\u0442\u044c \u043b\u0438 \u0437\u0430\u0449\u0438\u0442\u0430 \u043e\u0442 \u043a\u0440\u043e\u0441\u0441\u0434\u043e\u043c\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 (CORS)?","text":"<p>\u0414\u0430, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043c\u043e\u0434\u0443\u043b\u044c django-cors-headers. \u041f\u0440\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0435 <code>DEBUG</code> \u0440\u0430\u0432\u043d\u043e\u043c <code>True</code>, \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0432\u0441\u0435 \u043a\u0440\u043e\u0441\u0441\u0434\u043e\u043c\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b (<code>CORS_ALLOW_ALL_ORIGINS = True</code>).</p>"},{"location":"faq_list_per_page/","title":"FAQ - \u0412\u043e\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u0432\u0435\u0442\u044b","text":""},{"location":"faq_list_per_page/#_1","title":"\u041a\u0430\u043a \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u044b\u0432\u043e\u0434\u0438\u043c\u044b\u0445 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0432 \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446?","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0432 <code>app/settings.py</code> \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e <code>GARPIX_PAGE_ADMIN_LIST_PER_PAGE</code>.</p> <p>\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0440\u0430\u0432\u043d\u043e 25.</p> <p>\u041c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c:</p> <pre><code># app/settings.py\n\nGARPIX_PAGE_ADMIN_LIST_PER_PAGE = 50\n\n</code></pre>"},{"location":"faq_pack/","title":"FAQ - \u0412\u043e\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u0432\u0435\u0442\u044b","text":""},{"location":"faq_pack/#_1","title":"\u041a\u0430\u043a \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0439 \u043f\u0430\u043a\u0435\u0442?","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043f\u0430\u043a\u0435\u0442\u0430 garpix_package.</p> <p>\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u0430\u043a\u0435\u0442\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>python3 backend/manage.py startpackage my_package</code> (\u0432\u043c\u0435\u0441\u0442\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u044b <code>startapp</code>).</p> <p>\u0414\u043b\u044f \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u043d\u0430 pypi.org, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <code>python3 backend/manage.py pack my_package</code>.</p>"},{"location":"install_deps/","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439","text":""},{"location":"install_deps/#_2","title":"\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438:","text":"<ul> <li>Python (\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c <code>3.8+</code>)</li> <li>Pipenv</li> <li>Docker</li> <li>docker-compose</li> <li>cookiecutter</li> </ul>"},{"location":"install_deps/#_3","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","text":""},{"location":"install_deps/#1-docker-docker-compose","title":"\u0428\u0430\u0433 1. \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c Docker \u0438 docker-compose","text":"<pre><code>su\napt update; apt upgrade -y; apt install -y curl; curl -sSL https://get.docker.com/ | sh; curl -L https://github.com/docker/compose/releases/download/1.28.2/docker-compose-$(uname -s)-$(uname -m) -o /usr/local/bin/docker-compose &amp;&amp; chmod +x /usr/local/bin/docker-compose\nusermod -aG docker $USER\n</code></pre> <p>\u0417\u0430\u0442\u0435\u043c \u043d\u0430\u0436\u043c\u0438\u0442\u0435 Ctrl+D \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0441\u0443\u043f\u0435\u0440\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440.</p>"},{"location":"install_deps/#2-cookiecutter","title":"\u0428\u0430\u0433 2. \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c cookiecutter","text":"<p>Cookiecutter \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0430 \u0438\u0437 \u0448\u0430\u0431\u043b\u043e\u043d\u0430.</p> <pre><code>pip3 install cookiecutter\n</code></pre>"},{"location":"install_deps/#3-pipenv","title":"\u0428\u0430\u0433 3. \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c Pipenv","text":"<p>Pipenv \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0442 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044f\u043c\u0438 \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435. \u041e\u043d \u0434\u0435\u043b\u0430\u0435\u0442 \u044d\u0442\u043e \u043b\u0443\u0447\u0448\u0435, \u0447\u0435\u043c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 <code>pip</code>.</p> <pre><code>pip3 install pipenv\n</code></pre> <p>\u0415\u0441\u043b\u0438 \u0432\u044b \u043d\u0430 MacOS, \u0442\u043e \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c brew:</p> <pre><code>brew install pipenv\n</code></pre>"},{"location":"install_new_project/","title":"\u0421\u0442\u0430\u0440\u0442 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<p>\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b.</p>"},{"location":"install_new_project/#1","title":"\u0428\u0430\u0433 1. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u043e\u0432\u044b\u0439 \u0441\u0430\u0439\u0442 \u0438\u0437 \u0448\u0430\u0431\u043b\u043e\u043d\u0430","text":"<p>\u0411\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0430 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f \u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u043c \u0432 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435.</p> <pre><code>cookiecutter https://github.com/garpixcms/garpixcms-empty-template\ncd website\n</code></pre>"},{"location":"install_new_project/#2","title":"\u0428\u0430\u0433 2. \u041f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f","text":"<p>\u0417\u0430\u0433\u043b\u044f\u043d\u0438\u0442\u0435 \u0432 \u0444\u0430\u0439\u043b <code>.env</code>. \u0412\u043f\u043e\u043b\u043d\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0447\u0442\u043e \u0432\u044b \u0437\u0430\u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435.</p> <pre><code>cp example.env .env\n</code></pre>"},{"location":"install_new_project/#3","title":"\u0428\u0430\u0433 3. \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u044b\u0435 \u043f\u0430\u043a\u0435\u0442\u044b","text":"<p>\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e \u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u043c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438.</p> <pre><code>pipenv install\npipenv shell\n</code></pre>"},{"location":"install_new_project/#4-docker","title":"\u0428\u0430\u0433 4. \u041f\u043e\u0434\u043d\u0438\u043c\u0430\u0435\u043c docker","text":"<p>\u041f\u043e\u0434\u043d\u0438\u043c\u0430\u0435\u043c \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0447\u0435\u0440\u0435\u0437 docker-compose.</p> <pre><code>docker-compose up -d\n</code></pre>"},{"location":"install_new_project/#5","title":"\u0428\u0430\u0433 5. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438","text":"<pre><code>python3 backend/manage.py makemigrations\n</code></pre>"},{"location":"install_start_project/","title":"\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u043f\u0440\u043e\u0435\u043a\u0442","text":"<p>\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b.</p>"},{"location":"install_start_project/#1","title":"\u0428\u0430\u0433 1. \u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u0432 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442","text":"<p>\u0415\u0441\u043b\u0438 \u0432\u044b \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0435\u0442\u0435\u0441\u044c \u043a \u043f\u0440\u043e\u0435\u043a\u0442\u0443, \u0442\u043e \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0435\u0433\u043e \u0441\u043a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f:</p> <pre><code>git clone &lt;repo_url&gt;\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u043a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438\u043b\u0438 \u0435\u0441\u043b\u0438 \u0441\u0430\u0439\u0442 \u0443\u0436\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e, \u0442\u043e \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432 \u0435\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e:</p> <pre><code>cd &lt;website_directory&gt;\n</code></pre>"},{"location":"install_start_project/#2","title":"\u0428\u0430\u0433 2. \u041f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f","text":"<p>\u0417\u0430\u0433\u043b\u044f\u043d\u0438\u0442\u0435 \u0432 \u0444\u0430\u0439\u043b <code>.env</code>. \u0412\u043f\u043e\u043b\u043d\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0447\u0442\u043e \u0432\u044b \u0437\u0430\u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435.</p> <pre><code>cp example.env .env\n</code></pre>"},{"location":"install_start_project/#3","title":"\u0428\u0430\u0433 3. \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u044b\u0435 \u043f\u0430\u043a\u0435\u0442\u044b","text":"<p>\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e \u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u043c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438.</p> <pre><code>pipenv install\npipenv shell\n</code></pre>"},{"location":"install_start_project/#4-docker","title":"\u0428\u0430\u0433 4. \u041f\u043e\u0434\u043d\u0438\u043c\u0430\u0435\u043c docker","text":"<p>\u041f\u043e\u0434\u043d\u0438\u043c\u0430\u0435\u043c \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0447\u0435\u0440\u0435\u0437 docker-compose.</p> <pre><code>docker-compose up -d\n</code></pre>"},{"location":"install_start_project/#5","title":"\u0428\u0430\u0433 5. \u041f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u0438 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0443\u043f\u0435\u0440\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f","text":"<pre><code>python3 backend/manage.py migrate\npython3 backend/manage.py createsuperuser\n</code></pre>"},{"location":"install_start_project/#6","title":"\u0428\u0430\u0433 6. \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0441\u0435\u0440\u0432\u0435\u0440","text":"<pre><code>python3 backend/manage.py runserver\n</code></pre>"},{"location":"deprecated/example_simple_templates_site_deprecated_2021-09-10/","title":"\u041a\u043e\u0440\u043f\u043e\u0440\u0430\u0442 \u043d\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445","text":"<p>\u041f\u0440\u0438\u043c\u0435\u0440 \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e \u043a\u043e\u0440\u043f\u043e\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0430 \u043d\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445.</p> <p>\u0421\u0430\u0439\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0432 \u0441\u0435\u0431\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435:</p> <ul> <li>\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430</li> <li>\u041d\u043e\u0432\u043e\u0441\u0442\u0438 \u0441\u043f\u0438\u0441\u043e\u043a</li> <li>\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0430\u044f</li> <li>\u041e \u043d\u0430\u0441</li> <li>\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</li> </ul>"},{"location":"deprecated/example_simple_templates_site_deprecated_2021-09-10/#1","title":"\u0428\u0430\u0433 1. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<p>\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430, \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u043f\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438.</p> <p>\u0415\u0441\u043b\u0438 \u043f\u043e\u0441\u043b\u0435 \u0432\u0445\u043e\u0434\u0430 \u0443\u0432\u0438\u0434\u0438\u0442\u0435 \u043e\u0448\u0438\u0431\u043a\u0443 \"No template names provided\" - \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442, \u0447\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442\u044c \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u0448\u0430\u0433\u0443.</p>"},{"location":"deprecated/example_simple_templates_site_deprecated_2021-09-10/#2-","title":"\u0428\u0430\u0433 2. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0432 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438","text":"<p>\u0417\u0430\u0445\u043e\u0434\u0438\u043c \u0432 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u044c \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 http://localhost:8000/admin/.</p> <p>2.1. \u0417\u0430\u0445\u043e\u0434\u0438\u043c \u0432 \"\u0421\u0430\u0439\u0442\u044b\". \u041c\u043e\u0436\u043d\u043e \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430 \u043d\u0430 \u0442\u043e\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c. \u041d\u0430 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438 \u0442\u043e\u0442, \u0447\u0442\u043e \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e - <code>example.com</code>.</p> <p>2.2. \u0417\u0430\u0445\u043e\u0434\u0438\u043c \u0432 \"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\". \u041d\u0430\u0436\u0438\u043c\u0430\u0435\u043c \"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c\", \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u043f\u043e\u043b\u044f:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \"\u0413\u043b\u0430\u0432\u043d\u0430\u044f\"</li> <li>\u0427\u041f\u0423: \u0441\u0442\u0438\u0440\u0430\u0435\u043c, \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> <li>\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435: \"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043c\u043e\u0435\u0433\u043e \u0441\u0430\u0439\u0442\u0430\"</li> <li>\u041c\u043e\u0436\u043d\u043e \u0442\u0430\u043a\u0436\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c SEO-\u0442\u0435\u0433\u0438 (\u0434\u0430\u043b\u0435\u0435 \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0445 \u0443\u0432\u0438\u0434\u0435\u0442\u044c, \u0435\u0441\u043b\u0438 \u043e\u0442\u043a\u0440\u043e\u0435\u0442\u0435 \u043a\u043e\u0434 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b http://localhost:8000/)</li> </ul> <p>\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0439\u0442\u0435.</p> <p>2.3. \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0441\u0430\u0439\u0442\u0430 http://localhost:8000/ \u0438 \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u0431\u0443\u0442\u0441\u0442\u0440\u0430\u043f-\u0448\u0430\u0431\u043b\u043e\u043d, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b\u0432\u0435\u043b\u0438\u0441\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f.</p> <p>2.4. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u0441\u044f \u0432 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u0443\u044e \u043f\u0430\u043d\u0435\u043b\u044c \u0438 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0435\u0449\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0447\u0435\u0440\u0435\u0437 \"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\":</p> <p>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \"\u041e \u043d\u0430\u0441\":</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \"\u041e \u043d\u0430\u0441\"</li> <li>\u0427\u041f\u0423: \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> <li>\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435: \"\u0417\u0434\u0435\u0441\u044c \u0442\u0435\u043a\u0441\u0442 \u043e \u043d\u0430\u0441\"</li> </ul> <p>2.5. \u0414\u0430\u043b\u0435\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043c\u0435\u043d\u044e. \u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u0432 \"\u041f\u0443\u043d\u043a\u0442\u044b \u043c\u0435\u043d\u044e\".</p> <p>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u0443\u043d\u043a\u0442\u044b \u043c\u0435\u043d\u044e.</p> <p>\u041c\u0435\u043d\u044e \"\u0413\u043b\u0430\u0432\u043d\u0430\u044f\":</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u0413\u043b\u0430\u0432\u043d\u0430\u044f</li> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u0413\u043b\u0430\u0432\u043d\u0430\u044f</li> <li>\u0422\u0438\u043f \u043c\u0435\u043d\u044e: Header menu</li> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u0435\u0434\u0435\u0442 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430</li> <li>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: 50</li> </ul> <p>\u041c\u0435\u043d\u044e \"\u041e \u043d\u0430\u0441\":</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u041e \u043d\u0430\u0441</li> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041e \u043d\u0430\u0441</li> <li>\u0422\u0438\u043f \u043c\u0435\u043d\u044e: Header menu</li> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u0435\u0434\u0435\u0442 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u041e \u043d\u0430\u0441</li> <li>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: 80</li> </ul> <p>2.6. \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0441\u0430\u0439\u0442\u0430 http://localhost:8000/ \u0438 \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u043c\u0435\u043d\u044e, \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0435 \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446.</p>"},{"location":"deprecated/example_simple_templates_site_deprecated_2021-09-10/#3","title":"\u0428\u0430\u0433 3. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446","text":"<p>3.1. \u041f\u043e\u044f\u0441\u043d\u0435\u043d\u0438\u044f</p> <p>\u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0441\u0430\u0439\u0442\u0430, \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043e\u043c. \u0412 GarpixCMS \u0435\u0441\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0437 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c \u043d\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u043c \u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439 \u0427\u041f\u0423 \u0441 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435\u043c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446.</p> <p>\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043c\u043e\u0434\u0443\u043b\u044c garpix_page \u0441 \u043f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 (\u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0445 \u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0442\u044c).</p> <p>\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0430\u0434\u043e \u043f\u043e\u043d\u044f\u0442\u044c \u0442\u0435\u0440\u043c\u0438\u043d\u043e\u043b\u043e\u0433\u0438\u044e:</p> <ul> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 (Page, Model Page) - \u044d\u0442\u043e \u043c\u043e\u0434\u0435\u043b\u044c, \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0439 \u043a\u043b\u0430\u0441\u0441 \u043e\u0442 <code>BasePage</code>. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0445 \u0441\u0430\u043c\u0438.</li> <li>\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 (Context) - \u0444\u0443\u043d\u043a\u0446\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043b\u043e\u0432\u0430\u0440\u044c. \u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u043c\u043e\u0434\u0435\u043b\u0438. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445. \u0412\u0441\u0435\u0433\u0434\u0430 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u044f <code>object</code> (\u043e\u0431\u044a\u0435\u043a\u0442 \u043a\u043b\u0430\u0441\u0441\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b) \u0438 <code>request</code>.</li> <li>\u0428\u0430\u0431\u043b\u043e\u043d (Template) - \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 Django \u0448\u0430\u0431\u043b\u043e\u043d.</li> </ul> <p>\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0432 <code>garpixcms/models/page.py</code>.</p> <p>3.2. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u044b\u0435 \u0442\u0438\u043f\u044b \u0441\u0442\u0440\u0430\u043d\u0438\u0446</p> <p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u044e\u0449\u0438\u0435 \u0434\u043b\u044f \u043d\u0430\u0441 \u0442\u0438\u043f\u044b \u0441\u0442\u0440\u0430\u043d\u0438\u0446. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0440\u0430\u0437\u0431\u0435\u0440\u0435\u043c \u0442\u043e, \u0447\u0442\u043e \u0435\u0441\u0442\u044c \u0441\u0435\u0439\u0447\u0430\u0441 \u0438 \u0447\u0442\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c/\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c.</p> <p>3.2.1. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\"</p> <p>\u042d\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0432 \u0441\u0435\u0431\u044f \u043a\u0430\u0440\u0442\u0443, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0443 \u043d\u0435\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u0448\u0430\u0431\u043b\u043e\u043d. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u043e\u043b\u044f \"\u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430\", \"\u0435\u043c\u0435\u0439\u043b\", \"\u0430\u0434\u0440\u0435\u0441\", \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0437 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438. \u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e, \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0435\u0449\u0435 \u043e\u0434\u043d\u0430 \u043c\u043e\u0434\u0435\u043b\u044c.</p> <p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043d\u043e\u0432\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043d\u0430\u0448\u0435\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430.</p> <pre><code>cd backend\npython3 manage.py startapp content\n</code></pre> <p>\u0423\u0434\u0430\u043b\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>models.py</code>, \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e <code>content/models</code>.</p> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/models</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>contact_page.py</code> \u0438 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043c\u043e\u0434\u0435\u043b\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b (\u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u043d\u0430 \u0442\u043e, \u0447\u0442\u043e \u044d\u0442\u043e \u043d\u0430\u0441\u043b\u0435\u0434\u043d\u0438\u043a <code>BasePage</code>):</p> <pre><code>from garpix_page.models import BasePage\nfrom django.db import models\n\n\nclass ContactPage(BasePage):\n    address = models.CharField(max_length=250, verbose_name='\u0410\u0434\u0440\u0435\u0441', blank=True, default='', null=False)\n    phone = models.CharField(max_length=30, verbose_name='\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430', blank=True, default='', null=False)\n    email = models.CharField(max_length=100, verbose_name='E-mail', blank=True, default='', null=False)\n\n    template = 'pages/contact_page.html'\n\n    class Meta:\n        verbose_name = \"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\"\n        verbose_name_plural = \"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\"\n        ordering = ('-created_at',)\n\n</code></pre> <p>\u0417\u0430\u0442\u0435\u043c \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e <code>content/models</code> \u0444\u0430\u0439\u043b <code>__init__.py</code> \u0441\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c:</p> <pre><code>from .contact_page import ContactPage\n\n</code></pre> <p>\u0423\u0434\u0430\u043b\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>admin.py</code>. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e <code>content/admin/</code> \u0441 \u0444\u0430\u0439\u043b\u043e\u043c <code>contact_page.py</code> \u0438 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c:</p> <pre><code>from ..models.contact_page import ContactPage\nfrom django.contrib import admin\nfrom garpix_page.admin import BasePageAdmin\n\n\n@admin.register(ContactPage)\nclass ContactPageAdmin(BasePageAdmin):\n    pass\n\n</code></pre> <p>\u0417\u0430\u0442\u0435\u043c \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e <code>content/admin</code> \u0444\u0430\u0439\u043b <code>__init__.py</code> \u0441\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c:</p> <pre><code>from .contact_page import ContactPageAdmin\n\n</code></pre> <p>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u044b. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e, \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e <code>content/translation/</code> \u0438 \u0432 \u043d\u0435\u0439 \u0444\u0430\u0439\u043b <code>contact_page.py</code> \u0441 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c (\u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u043f\u043e\u043b\u0435 <code>title</code> \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0438 \u0435\u0433\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f):</p> <pre><code>from modeltranslation.translator import TranslationOptions, register\nfrom ..models import ContactPage\n\n\n@register(ContactPage)\nclass ContactPageTranslationOptions(TranslationOptions):\n    fields = ('address',)\n\n</code></pre> <p>\u0417\u0430\u0442\u0435\u043c \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e <code>content/translation</code> \u0444\u0430\u0439\u043b <code>__init__.py</code> \u0441\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c:</p> <pre><code>from .contact_page import ContactPageTranslationOptions\n\n</code></pre> <p>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 <code>content</code> \u0432 <code>app/settings.py</code>:</p> <pre><code># app/settings.py\n\nINSTALLED_APPS += ['content']\n\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u0447\u0435\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u0438\u0445:</p> <pre><code>python3 manage.py makemigrations\npython3 manage.py migrate\n</code></pre> <p>\u0422\u0430\u043a\u0436\u0435, \u0443 \u043d\u0430\u0441 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u0448\u0430\u0431\u043b\u043e\u043d, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e <code>content/templates/pages/</code> \u0438 \u0432 \u043d\u0435\u0439 \u0444\u0430\u0439\u043b <code>contact_page.html</code> \u0441 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c:</p> <pre><code>{% extends 'garpixcms/base.html' %}\n\n{% block content %}\n&lt;h1&gt;{{object.title}}&lt;/h1&gt;\n&lt;div&gt;\n    &lt;p&gt;\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430: {{object.phone}}&lt;/p&gt;\n    &lt;p&gt;E-mail: {{object.email}}&lt;/p&gt;\n    &lt;p&gt;\u0410\u0434\u0440\u0435\u0441: {{object.address}}&lt;/p&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0438\u0434\u0435\u043c \u0432 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u044c \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0447\u0435\u0440\u0435\u0437 \"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\":</p> <p>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\" (\u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u043c\u043e\u0434\u0435\u043b\u044c \"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\").</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\"</li> <li>\u0427\u041f\u0423: \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> <li>E-mail: \"example@gmail.com\"</li> <li>\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430: \"8 999 999 99 99\"</li> <li>\u0410\u0434\u0440\u0435\u0441: \"\u0433. \u041c\u043e\u0441\u043a\u0432\u0430\"</li> </ul> <p>\u0417\u0430\u0442\u0435\u043c \u0438\u0434\u0435\u043c \u0432 \"\u041f\u0443\u043d\u043a\u0442\u044b \u043c\u0435\u043d\u044e\" \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u044b\u0439:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</li> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</li> <li>\u0422\u0438\u043f \u043c\u0435\u043d\u044e: Header menu</li> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u0435\u0434\u0435\u0442 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</li> <li>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: 100</li> </ul> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u0430\u0439\u0442\u0430 \u0438 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b. \u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e \"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\", \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0435 \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435\u0439.</p> <p>3.2.2. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \"\u041d\u043e\u0432\u043e\u0441\u0442\u044c\" (\u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u043e\u0432\u043e\u0441\u0442\u0438)</p> <p>\u0414\u043e\u0431\u0430\u0432\u0438\u043c \u043d\u043e\u0432\u0443\u044e \u043c\u043e\u0434\u0435\u043b\u044c \u0438 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0442\u0438\u043f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b.</p> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/models</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>news_page.py</code> (\u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u043f\u043e\u043b\u044f \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442 \u0441 \u043e\u0431\u044b\u0447\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435\u0439 (<code>garpixcms.Page</code>), \u043d\u043e \u043c\u044b \u0441\u043e\u0437\u0434\u0430\u043b\u0438 \u043d\u043e\u0432\u0443\u044e \u043c\u043e\u0434\u0435\u043b\u044c. \u042d\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u043b\u0438 \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0443\u0434\u043e\u0431\u043d\u0435\u0435 \u0431\u044b\u043b\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c. \u041f\u043b\u044e\u0441, \u0432\u043f\u043e\u043b\u043d\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0447\u0442\u043e \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043e\u0441\u043e\u0431\u0443\u044e \u043b\u043e\u0433\u0438\u043a\u0443, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u0443\u044e \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044e \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439.</p> <pre><code>from garpix_page.models import BasePage\nfrom ckeditor_uploader.fields import RichTextUploadingField\n\n\nclass NewsPage(BasePage):\n    content = RichTextUploadingField(verbose_name='\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435', blank=True, default='')\n\n    template = 'pages/news_page.html'\n\n    class Meta:\n        verbose_name = \"\u041d\u043e\u0432\u043e\u0441\u0442\u044c\"\n        verbose_name_plural = \"\u041d\u043e\u0432\u043e\u0441\u0442\u0438\"\n        ordering = ('-created_at',)\n\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>content/models/__init__.py</code>:</p> <pre><code>from .contact_page import ContactPage\nfrom .news_page import NewsPage\n\n</code></pre> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/admin</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>news_page.py</code>:</p> <pre><code>from ..models.news_page import NewsPage\nfrom django.contrib import admin\nfrom garpix_page.admin import BasePageAdmin\n\n\n@admin.register(NewsPage)\nclass NewsPageAdmin(BasePageAdmin):\n    pass\n\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>content/admin/__init__.py</code>:</p> <pre><code>from .contact_page import ContactPageAdmin\nfrom .news_page import NewsPageAdmin\n\n</code></pre> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/translation</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>news_page.py</code>:</p> <pre><code>from modeltranslation.translator import TranslationOptions, register\nfrom ..models import NewsPage\n\n\n@register(NewsPage)\nclass NewsPageTranslationOptions(TranslationOptions):\n    fields = ('content',)\n\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>content/translation/__init__.py</code>:</p> <pre><code>from .contact_page import ContactPageTranslationOptions\nfrom .news_page import NewsPageTranslationOptions\n\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043e\u043f\u044f\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u0438\u0445:</p> <pre><code>python3 manage.py makemigrations\npython3 manage.py migrate\n</code></pre> <p>\u0422\u0430\u043a\u0436\u0435, \u043c\u043e\u0436\u0435\u043c \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u0448\u0430\u0431\u043b\u043e\u043d, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0444\u0430\u0439\u043b <code>content/templates/pages/news_detail.html</code>:</p> <pre><code>{% extends 'garpixcms/base.html' %}\n\n{% block content %}\n&lt;h1&gt;{{object.title}}&lt;/h1&gt;\n&lt;div&gt;{{object.created_at|date:\"d.m.Y\"}}&lt;/div&gt;\n&lt;div&gt;\n    {{object.content|safe}}\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>\u041f\u043e\u043a\u0430 \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0438 \u0432 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438. \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u0438\u0445 \u0441\u043f\u0438\u0441\u043e\u0447\u043d\u043e\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435, \u0441\u043c. \u0434\u0430\u043b\u044c\u0448\u0435.</p> <p>3.2.3. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \"\u0421\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439\"</p> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u0435\u0449\u0435 \u043e\u0434\u0438\u043d \u0442\u0438\u043f \u0441\u0442\u0440\u0430\u043d\u0438\u0446.</p> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/models</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>news_list_page.py</code> \u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u043c\u043e\u0434\u0435\u043b\u0438 \u043e\u0441\u043e\u0431\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 (\u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>get_context</code>).</p> <pre><code>from garpix_page.models import BasePage\nfrom .news_page import NewsPage\n\n\nclass NewsListPage(BasePage):\n    template = 'pages/news_list_page.html'\n\n    def get_context(self, request=None, *args, **kwargs):\n        context = super().get_context(request, *args, **kwargs)\n        posts = NewsPage.on_site.filter(is_active=True, parent=kwargs['object'])\n        context.update({\n            'posts': posts\n        })\n        return context\n\n    class Meta:\n        verbose_name = \"\u0421\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439\"\n        verbose_name_plural = \"\u0421\u043f\u0438\u0441\u043a\u0438 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439\"\n        ordering = ('-created_at',)\n\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>content/models/__init__.py</code>:</p> <pre><code>from .contact_page import ContactPage\nfrom .news_page import NewsPage\nfrom .news_list_page import NewsListPage\n\n</code></pre> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/admin</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>news_list_page.py</code>:</p> <pre><code>from ..models.news_list_page import NewsListPage\nfrom django.contrib import admin\nfrom garpix_page.admin import BasePageAdmin\n\n\n@admin.register(NewsListPage)\nclass NewsListPageAdmin(BasePageAdmin):\n    pass\n\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>content/admin/__init__.py</code>:</p> <pre><code>from .contact_page import ContactPageAdmin\nfrom .news_page import NewsPageAdmin\nfrom .news_list_page import NewsListPage\n\n</code></pre> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/translation</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>news_list_page.py</code>:</p> <pre><code>from modeltranslation.translator import TranslationOptions, register\nfrom ..models import NewsListPage\n\n\n@register(NewsListPage)\nclass NewsListPageTranslationOptions(TranslationOptions):\n    pass\n\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>content/translation/__init__.py</code>:</p> <pre><code>from .contact_page import ContactPageTranslationOptions\nfrom .news_page import NewsPageTranslationOptions\nfrom .news_list_page import NewsListPageTranslationOptions\n\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043e\u043f\u044f\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u0438\u0445:</p> <pre><code>python3 manage.py makemigrations\npython3 manage.py migrate\n</code></pre> <p>\u0422\u0430\u043a\u0436\u0435, \u043c\u043e\u0436\u0435\u043c \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u0448\u0430\u0431\u043b\u043e\u043d, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0444\u0430\u0439\u043b <code>content/templates/pages/news_list_page.html</code>:</p> <pre><code>{% extends 'garpixcms/base.html' %}\n\n{% block content %}\n&lt;h1&gt;{{object.title}}&lt;/h1&gt;\n{% for post in posts %}\n    &lt;div&gt;\n        &lt;h3&gt;&lt;a href=\"{{post.get_absolute_url}}\"&gt;{{post.title}}&lt;/a&gt;&lt;/h3&gt;\n    &lt;/div&gt;\n{% endfor %}\n{% endblock %}\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0445\u043e\u0434\u0438\u0442\u044c \u0432 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u0443\u044e \u043f\u0430\u043d\u0435\u043b\u044c, \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442 \"\u0421\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439\" \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0435\u0433\u043e \u0434\u0430\u043d\u043d\u044b\u0435.</p> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e, \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \"\u041d\u043e\u0432\u043e\u0441\u0442\u044c\" \u0438 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u043b\u0435 \"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\" \u0443 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u0441\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e \u0441\u043e\u0437\u0434\u0430\u043b\u0438.</p> <p>\u041e\u0441\u0442\u0430\u0435\u0442\u0441\u044f \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u043d\u044e:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u041d\u043e\u0432\u043e\u0441\u0442\u0438</li> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041d\u043e\u0432\u043e\u0441\u0442\u0438</li> <li>\u0422\u0438\u043f \u043c\u0435\u043d\u044e: Header menu</li> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u0435\u0434\u0435\u0442 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u0421\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439</li> <li>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: 100</li> </ul> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e, \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 http://localhost:8000 \u0438 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0447\u0442\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c.</p> <p>P.S. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0434\u043b\u044f \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 <code>templates/garpixcms/pages/default.html</code>, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435:</p> <pre><code>{% extends 'garpixcms/base.html' %}\n\n{% block content %}\n&lt;h1&gt;{{object.title}}&lt;/h1&gt;\n&lt;div&gt;\n    {{object.content|safe}}\n&lt;/div&gt;\n{% endblock %}\n</code></pre>"},{"location":"examples/auth_spa/","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0432\u0445\u043e\u0434\u0430 \u043d\u0430 SPA-\u0441\u0430\u0439\u0442 (React, Vue.js, Angular)","text":""},{"location":"examples/auth_spa/#1","title":"\u0428\u0430\u0433 1. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<p>\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430, \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u043f\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438.</p>"},{"location":"examples/auth_spa/#2","title":"\u0428\u0430\u0433 2. \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0432\u0445\u043e\u0434","text":"<p>\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0445\u043e\u0434 \u0432 <code>.env</code>:</p> <pre><code># ...\n\nENABLE_GARPIX_AUTH=True\n\n</code></pre> <p>\u042d\u0442\u043e \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0442\u043e\u0447\u043a\u0438:</p> <ul> <li><code>/login/</code> - \u0432\u0445\u043e\u0434 \u0434\u043b\u044f \u0441\u0430\u0439\u0442\u043e\u0432 \u043d\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445, \u0432\u044b\u0434\u0430\u0435\u0442 \u0441\u0435\u0441\u0441\u0438\u044e;</li> <li><code>/logout/</code> - \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d, \u0441\u0435\u0441\u0441\u0438\u044e;</li> <li><code>/api/auth/login/</code> - \u0432\u0445\u043e\u0434 \u0434\u043b\u044f SPA \u0441\u0430\u0439\u0442\u043e\u0432.</li> <li><code>/api/auth/refresh/</code> - \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u043a\u0435\u043d\u0430 SPA \u0441\u0430\u0439\u0442\u043e\u0432.</li> <li><code>/api/auth/logout/</code> - \u0432\u044b\u0445\u043e\u0434 \u0434\u043b\u044f SPA \u0441\u0430\u0439\u0442\u043e\u0432.</li> </ul>"},{"location":"examples/auth_spa/#_1","title":"\u041f\u0440\u0438\u043c\u0435\u0440\u044b","text":""},{"location":"examples/auth_spa/#spa-httpie","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u0445\u043e\u0434\u0430 \u0434\u043b\u044f SPA \u0441\u0430\u0439\u0442\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 httpie","text":""},{"location":"examples/auth_spa/#1-httpie","title":"\u0428\u0430\u0433 1. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 httpie","text":"<pre><code>brew install httpie  # \u0434\u043b\u044f macos\napt-get install httpie -y  # \u0434\u043b\u044f debian/ubuntu\n</code></pre>"},{"location":"examples/auth_spa/#2_1","title":"\u0428\u0430\u0433 2. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u0432\u0445\u043e\u0434","text":"<p>\u0424\u0430\u0439\u043b <code>.env</code>:</p> <pre><code># ...\n\nENABLE_GARPIX_AUTH=True\n</code></pre> <p>\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439:</p> <pre><code>python3 backend/manage.py makemigrations\npython3 backend/manage.py migrate\n</code></pre> <p>\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0432 <code>backend/app/settings.py</code> \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 (\u0435\u0441\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 <code>0</code> - \u043f\u0440\u043e\u0442\u0443\u0445\u0430\u0442\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442):</p> <pre><code>GARPIX_ACCESS_TOKEN_TTL_SECONDS = 86400  # \u0422\u043e\u043a\u0435\u043d \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0442\u0443\u0445\u0430\u0442\u044c \u0447\u0435\u0440\u0435\u0437 \u0441\u0443\u0442\u043a\u0438\nGARPIX_REFRESH_TOKEN_TTL_SECONDS = 86400 * 14  # \u0420\u0435\u0444\u0440\u0435\u0448-\u0442\u043e\u043a\u0435\u043d \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0442\u0443\u0445\u0430\u0442\u044c \u043f\u043e\u0441\u043b\u0435 14 \u0441\u0443\u0442\u043e\u043a\n</code></pre>"},{"location":"examples/auth_spa/#3","title":"\u0428\u0430\u0433 3. \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0441\u0430\u0439\u0442","text":"<pre><code>python3 backend/manage.py runserver\n</code></pre>"},{"location":"examples/auth_spa/#4","title":"\u0428\u0430\u0433 4. \u0421\u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0432\u0445\u043e\u0434","text":"<p>\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u043b\u043e\u0433\u0438\u043d\u0430 \u0441 <code>/api/login/</code> \u043d\u0430 <code>/api/auth/login/</code>.</p> <p>\u041f\u0440\u0438\u043c\u0435\u0440 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 (\u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f httpie):</p> <pre><code>http POST 'http://localhost:8000/api/auth/login/' username=user password=mysuperpassword\n</code></pre> <p>\u041f\u0440\u0438\u043c\u0435\u0440 \u043e\u0442\u0432\u0435\u0442\u0430:</p> <pre><code>{\n    \"access_token\": \"7c21c191a3720925ff80350b395725d31745bcac\",\n    \"access_token_expires\": 86400,\n    \"refresh_token\": \"946cd6498df1de4bb24d0fc63286b01341265b3e\",\n    \"refresh_token_expires\": 1209600,\n    \"token_type\": \"Bearer\"\n}\n</code></pre>"},{"location":"examples/auth_spa/#5","title":"\u0428\u0430\u0433 5. \u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0439\u0442\u0435 \u043f\u0440\u043e\u0442\u0443\u0445\u0448\u0438\u0439 \u0442\u043e\u043a\u0435\u043d","text":"<p>\u0415\u0441\u043b\u0438 <code>access_token</code> \u043f\u0440\u043e\u0442\u0443\u0445, \u0442\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442\u044c \u043d\u0435 \u0431\u0443\u0434\u0443\u0442. \u0422\u043e\u0433\u0434\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u044d\u0442\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b (\u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f httpie):</p> <pre><code>http POST 'http://localhost:8000/api/auth/refresh/' refresh_token=946cd6498df1de4bb24d0fc63286b01341265b3e\n</code></pre> <p>\u041f\u0440\u0438\u043c\u0435\u0440 \u043e\u0442\u0432\u0435\u0442\u0430:</p> <pre><code>{\n    \"access_token\": \"227b68233b26ab16239db556a267a4f849fd882c\",\n    \"access_token_expires\": 86400,\n    \"result\": true\n}\n</code></pre> <p>\u041f\u0440\u0438 \u044d\u0442\u043e\u043c, \u0435\u0441\u043b\u0438 refresh-\u0442\u043e\u043a\u0435\u043d \u043f\u0440\u043e\u0442\u0443\u0445, \u0442\u043e \u043e\u0442\u0432\u0435\u0442 \u0431\u0443\u0434\u0435\u0442:</p> <pre><code>{\n    \"result\": false\n}\n</code></pre>"},{"location":"examples/auth_spa/#6","title":"\u0428\u0430\u0433 6. \u0423\u0434\u0430\u043b\u044f\u0439\u0442\u0435 \u0442\u043e\u043a\u0435\u043d\u044b \u043f\u0440\u0438 \u0432\u044b\u0445\u043e\u0434\u0435","text":"<p>\u0422\u0430\u043a\u0436\u0435, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0442\u043e\u043a\u0435\u043d\u044b \u0441 \u0431\u044d\u043a\u0435\u043d\u0434\u0430 (\u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0432\u044b\u0445\u043e\u0434), \u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0443 (\u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f httpie):</p> <pre><code>http POST 'http://localhost:8000/api/auth/logout/' 'Authorization: Bearer 227b68233b26ab16239db556a267a4f849fd882c'\n</code></pre> <p>\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0443\u0441\u043f\u0435\u0445\u0430 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u0432\u0435\u0442:</p> <pre><code>{\n    \"result\": true\n}\n</code></pre> <p>\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0443\u0434\u0430\u0447\u0438 \u0431\u0443\u0434\u0435\u0442 \u0441\u0442\u0430\u0442\u0443\u0441-\u043a\u043e\u0434 <code>401 Unauthorized</code>.</p>"},{"location":"examples/auth_templates/","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0432\u0445\u043e\u0434\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442 \u043d\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445","text":""},{"location":"examples/auth_templates/#1","title":"\u0428\u0430\u0433 1. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u0430\u0439\u0442","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043f\u043e \u043f\u0440\u0438\u043c\u0435\u0440\u0443 \u0438\u0437 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438.</p>"},{"location":"examples/auth_templates/#2-env","title":"\u0428\u0430\u0433 2. \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0432 <code>.env</code> \u0432\u0445\u043e\u0434:","text":"<pre><code># ...\n\nENABLE_GARPIX_AUTH=True\n\n</code></pre> <p>\u042d\u0442\u043e \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0442\u043e\u0447\u043a\u0438:</p> <ul> <li><code>/login/</code> - \u0432\u0445\u043e\u0434 \u0434\u043b\u044f \u0441\u0430\u0439\u0442\u043e\u0432 \u043d\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445, \u0432\u044b\u0434\u0430\u0435\u0442 \u0441\u0435\u0441\u0441\u0438\u044e;</li> <li><code>/logout/</code> - \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d, \u0441\u0435\u0441\u0441\u0438\u044e;</li> <li><code>/api/auth/login/</code> - \u0432\u0445\u043e\u0434 \u0434\u043b\u044f SPA \u0441\u0430\u0439\u0442\u043e\u0432.</li> <li><code>/api/auth/refresh/</code> - \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u043a\u0435\u043d\u0430 SPA \u0441\u0430\u0439\u0442\u043e\u0432.</li> <li><code>/api/auth/logout/</code> - \u0432\u044b\u0445\u043e\u0434 \u0434\u043b\u044f SPA \u0441\u0430\u0439\u0442\u043e\u0432.</li> </ul>"},{"location":"examples/auth_templates/#3","title":"\u0428\u0430\u0433 3. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0432\u0445\u043e\u0434\u0430","text":"<p>\u0414\u043e\u0431\u0430\u0432\u0438\u043c \u043d\u043e\u0432\u0443\u044e \u043c\u043e\u0434\u0435\u043b\u044c \u0438 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0442\u0438\u043f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b.</p> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/models</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>login_page.py</code>.</p> <pre><code>from garpix_page.models import BasePage\n\n\nclass LoginPage(BasePage):\n\n    template = 'garpixcms/pages/login.html'\n\n    class Meta:\n        verbose_name = \"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432\u0445\u043e\u0434\u0430\"\n        verbose_name_plural = \"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0432\u0445\u043e\u0434\u0430\"\n        ordering = ('-created_at',)\n\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>content/models/__init__.py</code>:</p> <pre><code># ...\nfrom .login_page import LoginPage\n\n</code></pre> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/admin</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>login_page.py</code>:</p> <pre><code>from ..models.login_page import LoginPage\nfrom django.contrib import admin\nfrom garpix_page.admin import BasePageAdmin\n\n\n@admin.register(LoginPage)\nclass LoginPageAdmin(BasePageAdmin):\n    pass\n\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>content/admin/__init__.py</code>:</p> <pre><code># ...\nfrom .login_page import LoginPageAdmin\n\n</code></pre> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/translation</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>login_page.py</code>:</p> <pre><code>from modeltranslation.translator import TranslationOptions, register\nfrom ..models import LoginPage\n\n\n@register(LoginPage)\nclass LoginPageTranslationOptions(TranslationOptions):\n    pass\n\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>content/translation/__init__.py</code>:</p> <pre><code># ...\nfrom .login_page import LoginPageTranslationOptions\n\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043e\u043f\u044f\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u0438\u0445:</p> <pre><code>python3 manage.py makemigrations\npython3 manage.py migrate\n</code></pre> <p>\u0422\u0430\u043a\u0436\u0435, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u0448\u0430\u0431\u043b\u043e\u043d. \u041d\u0438\u0436\u0435 \u043f\u0440\u0438\u043c\u0435\u0440 \u043e\u0431\u044b\u0447\u043d\u043e\u0433\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0430 <code>garpixcms/pages/login.html</code>:</p> <pre><code>{% extends 'garpixcms/base.html' %}\n\n{% block content %}\n&lt;h1&gt;{{object.title}}&lt;/h1&gt;\n\n&lt;h2&gt;\u0412\u0445\u043e\u0434&lt;/h2&gt;\n&lt;p&gt;\u0427\u0442\u043e\u0431\u044b \u0444\u043e\u0440\u043c\u0430 \u0432\u0445\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430, \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0432 &lt;code&gt;.env&lt;/code&gt; \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e &lt;code&gt;ENABLE_GARPIX_AUTH=True&lt;/code&gt;&lt;/p&gt;\n&lt;div&gt;\n    {% include 'garpixcms/include/login.html' %}\n&lt;/div&gt;\n\n{% endblock %}\n</code></pre> <p>\u0418 \u0444\u0430\u0439\u043b\u0430 <code>garpixcms/include/login.html</code>:</p> <pre><code>{% if request.user.is_authenticated %}\n    User is authenticated ({{request.user.username}}) | &lt;a href=\"{% url 'logout' %}\"&gt;Logout&lt;/a&gt;\n{% else %}\n    &lt;form action=\"{% url 'authorize' %}?next=/\" method=\"post\"&gt;\n        {% csrf_token %}\n        &lt;div&gt;&lt;input type=\"text\" name=\"username\"&gt;&lt;/div&gt;\n        &lt;div&gt;&lt;input type=\"password\" name=\"password\"&gt;&lt;/div&gt;\n        &lt;div&gt;&lt;button type=\"submit\"&gt;Login&lt;/button&gt;&lt;/div&gt;\n    &lt;/form&gt;\n{% endif %}\n\n</code></pre>"},{"location":"examples/auth_templates/#4-","title":"\u0428\u0430\u0433 4. \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0432 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0432\u0445\u043e\u0434\u0430","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0432 \"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\" \u043d\u043e\u0432\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u043f\u043e\u043b\u044f. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0427\u041f\u0423 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c \u0441 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u043c \u043b\u043e\u0433\u0438\u043d\u0430 (URL: <code>/login/</code>)</p>"},{"location":"examples/auth_templates/#5","title":"\u0428\u0430\u0433 5. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u043e\u0439\u0442\u0438","text":"<p>\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 http://localhost:8000/ \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0444\u043e\u0440\u043c\u044b \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e.</p>"},{"location":"examples/notify/","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435","text":""},{"location":"examples/notify/#_2","title":"\u041e\u0431\u0449\u0438\u0439 \u043f\u0440\u0438\u043d\u0446\u0438\u043f \u0440\u0430\u0431\u043e\u0442\u044b","text":"<ol> <li> <p>\u0417\u0430\u0439\u0442\u0438 \u0432 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u044c \u0438 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b \"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\" - \"SMTP-\u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b\". \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c SMTP-\u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 Email-\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439. \u042d\u0442\u043e \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u0438 Email-\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439.</p> </li> <li> <p>\u0422\u0430\u043a\u0436\u0435 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\" - \"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438\" \u0438 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u0438\u0441\u0435\u043c. \u041e\u0431\u044b\u0447\u043d\u043e \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043e\u0434\u043d\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u043d\u043e\u0441\u0438\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 \u0434\u043b\u044f \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0438 \u043c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433\u043e\u0432\u044b\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f.</p> </li> <li> <p>\u0417\u0430\u0439\u0442\u0438 \u0432 \"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\" - \"\u0428\u0430\u0431\u043b\u043e\u043d\u044b\" \u0438 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u043d\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 (\u043a\u043e\u0433\u0434\u0430 \u0432\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u0438\u0445 \u0432 <code>settings.py</code> - \u0441\u043c. \u043d\u0438\u0436\u0435 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435).</p> </li> <li> <p>\u0412 \u043a\u043e\u0434\u0435, \u0433\u0434\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f, \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f:</p> </li> </ol> <pre><code>from garpix_confirm.settings import CHOICES_NOTIFY_CONFIRM_EVENT\nfrom garpix_notify.models import Notify\n\n# \u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441\n# Notify.send(&lt;event&gt;, &lt;context&gt;[, &lt;user=None&gt;, &lt;email=None&gt;, &lt;phone=None&gt;, &lt;files=None&gt;, &lt;data_json=None&gt;])\n# \u0422.\u0435. \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u043f\u0435\u0440\u0432\u044b\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u043c \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0441\u043e\u0431\u044b\u0442\u0438\u044f, \n# \u0432\u0442\u043e\u0440\u044b\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u0448\u0430\u0431\u043b\u043e\u043d\u0430,\n# \u0442\u0440\u0435\u0442\u044c\u0438\u043c - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u0435\u043c\u0435\u0439\u043b, \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0438 \u0442.\u043f.,\n# \u0442.\u043a. \u044d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043e \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0442\u0438\u043f\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430)\n\n# \u041f\u0440\u0438\u043c\u0435\u0440\nuser = request.user  # \u044d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f.\n\nNotify.send(CHOICES_NOTIFY_CONFIRM_EVENT, {\n    'confirmation_code': 'abcdef12345',\n}, user=user)\n\n# \u0415\u0441\u043b\u0438 \u0443 \u043d\u0430\u0441 \u043d\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435, \u043d\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0435\u043c\u0435\u0439\u043b, \u0442\u043e \u043c\u043e\u0436\u0435\u043c \u043f\u043e\u0441\u0442\u0443\u043f\u0438\u0442\u044c\n# \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c\n\nNotify.send(CHOICES_NOTIFY_CONFIRM_EVENT, {\n    'confirmation_code': 'abcdef12345',\n}, email='example@mail.ru')\n\n</code></pre>"},{"location":"examples/notify/#_3","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430:","text":"<p>\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u043c. \u0428\u0430\u0431\u043b\u043e\u043d - \u044d\u0442\u043e \u043c\u043e\u0434\u0435\u043b\u044c, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0434\u043d\u0438\u043c \u0438\u0437 \u0442\u0438\u043f\u043e\u0432 (\u0415\u043c\u0435\u0439\u043b, \u0421\u041c\u0421 \u0438\u043b\u0438 \u041f\u0443\u0448-\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435) \u0438 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0430\u044f \u0442\u0435\u043a\u0441\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d.</p> <p>\u041f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f (-\u0438\u0439) \u043f\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0443, \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u043f\u0438\u0441\u044c\u043c\u043e). \u0428\u0430\u0431\u043b\u043e\u043d\u044b \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 \u0447\u0435\u0440\u0435\u0437 \u0448\u0430\u0431\u043b\u043e\u043d\u0438\u0437\u0430\u0442\u043e\u0440 \u0434\u0436\u0430\u043d\u0433\u043e. \u0422.\u0435. \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 <code>{{ variable }}</code>, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0446\u0438\u043a\u043b\u044b \u0438 \u0443\u0441\u043b\u043e\u0432\u043d\u044b\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u044b <code>{% if blabla %}{% endif %}</code> \u0438 \u0442.\u043f.</p> <p>\u041f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f (-\u0438\u0439) \u043f\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0443 - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442\u0441\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u0435. \u041f\u0440\u0438 \u044d\u0442\u043e\u043c, \u0435\u0441\u043b\u0438 \u043d\u0430 \u043e\u0434\u043d\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0432\u0438\u0441\u0438\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432, \u0442\u043e \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043e\u043d\u0438 \u0432\u0441\u0435.</p> <p>\u0421\u043e\u0431\u044b\u0442\u0438\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043e\u043b\u0436\u043d\u044b \u0438\u043c\u0435\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440.</p> <p>\u0412 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 <code>settings.py</code> \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0441\u043b\u043e\u0432\u0430\u0440\u044c, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0439 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0441\u0435\u0445 (!) \u0441\u043e\u0431\u044b\u0442\u0438\u0439, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0432\u0435\u0441\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435. \u041f\u0440\u0438 \u044d\u0442\u043e\u043c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0438 \u0435\u0433\u043e \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a <code>title</code>.</p> <p>\u0412 settings.py \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438:</p> <pre><code>from garpix_confirm.settings import CHOICES_NOTIFY_CONFIRM_EVENT, NOTIFY_EVENTS_CONFIRM\n\nREGISTRATION_EVENT = 1\nFEEDBACK_EVENT = 2\n\nNOTIFY_EVENTS = {\n    REGISTRATION_EVENT: {\n        'title': '\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f',\n        'context_description': 'super reg context description',\n        'event_description': 'super event description',\n        'test_data': {'ho': 'hey'},\n    },\n    FEEDBACK_EVENT: {\n        'title': '\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c',\n    },\n}\n\n# \u041d\u0415 \u041c\u0415\u041d\u042f\u0422\u042c!\nCHOICES_NOTIFY_EVENT = sorted([(k, v['title']) for k, v in NOTIFY_EVENTS.items()], key=lambda x: x[1])\n\nNOTIFY_USER_WANT_MESSAGE_CHECK = \"app.notify_user_want_message.check\"  # default: None\n\n</code></pre> <p>,\u0433\u0434\u0435 * <code>NOTIFY_EVENTS</code> - \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0439 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0441 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u043c, \u0433\u0434\u0435:      - title - \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f,       - context_description - \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 (\u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0432 \u0430\u0434\u043c\u0438\u043d\u043a\u0435),       - event_description - \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f,       - test_data - \u0441\u043b\u043e\u0432\u0430\u0440\u044c, \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 (\u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0443) \u0434\u043b\u044f \u043e\u0442\u043b\u0430\u0434\u043a\u0438 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 (\u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439)</p> <ul> <li><code>CHOICES_NOTIFY_EVENT</code> - \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u0442\u0438\u043f\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u043b\u0438 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432.</li> <li><code>NOTIFY_SMS_URL</code> - URL \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u043c\u0441.</li> <li><code>NOTIFY_SMS_API_ID</code> - \u0438\u0434 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0441\u0435\u0440\u0432\u0438\u0441\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u043c\u0441.</li> <li><code>FCM_DJANGO_SETTINGS</code> - \u043a\u043b\u044e\u0447 \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 FCM SERVER.</li> <li><code>NOTIFY_USER_WANT_MESSAGE_CHECK</code> - \u043f\u0443\u0442\u044c \u043a \u043c\u0435\u0442\u043e\u0434\u0443, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 (\u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0445\u043e\u0447\u0435\u0442 \u0438\u0445 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c, \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u043b \u044d\u0442\u043e).</li> </ul> <p>\u041f\u0440\u0438\u043c\u0435\u0440 <code>app.notify_user_want_message.check</code>:</p> <pre><code>def check(notify_event_id, notify_type, user=None):\n    if user is None:\n        return True\n    return user.is_notify_enabled:  # your custom variable\n</code></pre>"},{"location":"examples/notify/#_4","title":"\u0412\u0430\u0436\u043d\u043e!","text":"<ol> <li>\u0412 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 celery \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435: settings.py:</li> </ol> <pre><code>CELERY_ENABLE_UTC = False\nDJANGO_CELERY_BEAT_TZ_AWARE = False\n</code></pre> <p>settings.py:</p> <pre><code>from django.utils import timezone\napp.now = timezone.now\n</code></pre> <p>\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u043e\u0431\u0443\u0441\u043b\u043e\u0432\u043b\u0435\u043d\u0430 \u0442\u0435\u043c \u0447\u0442\u043e celery \u043d\u0435\u043e\u0434\u043d\u043e\u0437\u043d\u0430\u0447\u043d\u043e \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u044b\u0432\u0430\u0435\u0442 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447 \u0435\u0441\u043b\u0438 \u0432  \u0441\u0438\u0441\u0442\u0435\u043c\u0435/\u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430 timezone \u043e\u0442\u043b\u0438\u0447\u043d\u0430\u044f \u043e\u0442 UTC.</p> <ol> <li>\u0412 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0435 \u0432\u0432\u0435\u0441\u0442\u0438:</li> </ol> <pre><code>celery -A app worker --loglevel=info -B\n</code></pre> <p>\"celery\" \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e \u0441 \"runserver\"</p>"},{"location":"examples/notify/#_5","title":"\u041e\u0431\u043e\u0431\u0449\u0435\u043d\u043d\u044b\u0439 \u043f\u0440\u0438\u043d\u0446\u0438\u043f \u0440\u0430\u0431\u043e\u0442\u044b","text":"<ol> <li> <p>\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u043e\u0431\u044b\u0442\u0438\u044f, \u043f\u043e\u043f\u0443\u0442\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044f \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u044f.</p> </li> <li> <p>\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439. \u041f\u0440\u0438\u0447\u0435\u043c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f:</p> <ul> <li>\u0441 \u0442\u043e\u0447\u043a\u0438 \u0437\u0440\u0435\u043d\u0438\u044f \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0430\u043d\u0430\u043b\u043e\u0433\u043e\u043c base.html \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u043f\u0440\u043e\u0435\u043a\u0442\u0430. </li> <li>\u0441\u0442\u043e\u0447\u043a\u0438 \u0437\u0440\u0435\u043d\u0438\u044f SMTP \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430 - \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u0441 \u043a\u0430\u043a\u0438\u0445 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432 (\u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u0432 ***@***.***) \u0431\u0443\u0434\u0443\u0442 \u043e\u043f\u0442\u0440\u0430\u0432\u043b\u044f\u0442\u0441\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u044f.  </li> </ul> </li> <li>\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439. \u041f\u0440\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0438 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 <code>settings.NOTIFY_EVENTS.event_id['test_data']</code> \u0432  \u0430\u0434\u043c\u0438\u043d\u043a\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u0434\u043b\u044f \u043e\u0442\u043b\u0430\u0434\u043a\u0438.</li> <li>\u0412 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0443\u0447\u0430\u0441\u0442\u043a\u0430\u0445 \u043a\u043e\u0434\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u043e \u043f\u0440\u0438\u043c\u0435\u0440\u0430\u043c \u043d\u0438\u0436\u0435 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f.</li> </ol>"},{"location":"examples/notify/#_6","title":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435:","text":""},{"location":"examples/notify/#_7","title":"\u0428\u0430\u0431\u043b\u043e\u043d\u044b","text":"<p>\u0414\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u0438\u0441\u0435\u043c \u043f\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u043c, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043e\u0434 <code>send</code> \u043c\u043e\u0434\u0435\u043b\u0438 <code>Notify</code></p> <pre><code>Notify.send(&lt;event&gt;, &lt;context&gt;[, &lt;user=None&gt;, &lt;email=None&gt;, &lt;phone=None&gt;, &lt;files=None&gt;, &lt;data_json=None&gt;])\n</code></pre> <p>,\u0433\u0434\u0435</p> <ul> <li><code>event</code> - \u0441\u043e\u0431\u044b\u0442\u0438\u0435, \u0432\u0435\u0441\u044c \u043f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0443\u043a\u0430\u0437\u0430\u043d \u0432 <code>settings.notify.CHOICES_NOTIFY_EVENT</code></li> <li><code>context</code> - \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0434\u043b\u044f \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f</li> <li><code>user</code> - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u043d, \u0435\u0441\u043b\u0438 \u043e\u043d \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0432 \u043c\u043e\u0434\u0435\u043b\u0438 \u0448\u0430\u0431\u043b\u043e\u043d\u0430</li> <li><code>email</code> - email \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u043e\u0447\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u043d, \u0435\u0441\u043b\u0438 \u043e\u043d \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0432 \u043c\u043e\u0434\u0435\u043b\u0438 \u0448\u0430\u0431\u043b\u043e\u043d\u0430</li> <li><code>phone</code> - \u0442\u0435\u043b\u0435\u0444\u043e\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u043d, \u0435\u0441\u043b\u0438 \u043e\u043d \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0432 \u043c\u043e\u0434\u0435\u043b\u0438 \u0448\u0430\u0431\u043b\u043e\u043d\u0430</li> <li><code>files</code> - \u043c\u0430\u0441\u0441\u0438\u0432 \u0444\u0430\u0439\u043b\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043a\u043e \u0432\u0441\u0435\u043c \u043f\u0438\u0441\u044c\u043c\u0430\u043c</li> <li><code>data_json</code> - \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0434\u0430\u043d\u043d\u044b\u0445, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043a\u0430\u043a data \u043a \u043f\u0443\u0448\u0430\u043c</li> </ul> <p>\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0448\u0430\u0431\u043b\u043e\u043d\u044b <code>notify.models.NotifyTemplate</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432 \u0430\u0434\u043c\u0438\u043d\u043a\u0435 \u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f -&gt; \u0428\u0430\u0431\u043b\u043e\u043d\u044b. \u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u043e\u0431\u0435\u0433\u0430\u0435\u0442 \u043f\u043e \u0432\u0441\u0435\u043c \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u043c \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u043c, \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u043c\u0443 \u0441\u043e\u0431\u044b\u0442\u0438\u044e \u0438 \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043f\u043e \u043d\u0438\u043c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f, \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043e\u0442\u0440\u0435\u043d\u0434\u0435\u0440\u0438\u0432 \u043f\u043e\u043b\u044f \u0442\u0435\u043a\u0441\u0442 \u0438 html, \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043e\u043c</p>"},{"location":"examples/notify/#telegram","title":"Telegram","text":"<p>\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u0432\u043e\u0435\u0433\u043e \u0431\u043e\u0442\u0430 https://t.me/BotFather</p> <p>\u0417\u0430\u0439\u0434\u0438\u0442\u0435 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e http://localhost:8000/admin/garpix_notify/notifyconfig/ \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0440\u0430\u0437\u0434\u0435\u043b \"Telegram\" (<code>API \u043a\u043b\u044e\u0447</code> \u0438 <code>\u0418\u043c\u044f \u0431\u043e\u0442\u0430</code>).</p> <p>\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0434\u0435\u043c\u043e\u043d\u0430:</p> <pre><code>python3 backend/manage.py garpix_notify_telegram\n</code></pre> <p>\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0432\u0430\u0448\u0435\u043c\u0443 \u0431\u043e\u0442\u0443 \u0432 Telegram \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>/start</code></p> <p>\u0422\u0430\u043a\u0436\u0435, \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432\u0430\u0448 \u0444\u0430\u0439\u043b <code>user/admin.py</code> \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c \u0438 \u0443\u0432\u0438\u0434\u0438\u0442\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u043f\u043e \u043f\u0440\u0438\u0432\u044f\u0437\u043a\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f Telegram \u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0432\u0430\u0448\u0435\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b:</p> <pre><code>from django.contrib import admin\nfrom .models import User\nfrom django.contrib.auth.admin import UserAdmin\n\n\n@admin.register(User)\nclass UserAdmin(UserAdmin):\n    fieldsets = (\n        ('Telegram', {\n            'fields': ('telegram_chat_id', 'telegram_secret', 'get_telegram_connect_user_help'),\n        })\n    ) + UserAdmin.fieldsets\n    readonly_fields = ['telegram_secret', 'get_telegram_connect_user_help'] + list(UserAdmin.readonly_fields)\n</code></pre>"},{"location":"examples/notify/#viber","title":"Viber","text":"<ul> <li>\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0431\u043e\u0442\u0430<ul> <li>\u0411\u043e\u0442\u0430 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0443\u0442 https://partners.viber.com/ \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d \\     \u0442\u043e\u043a\u0435\u043d = viber_api_key</li> </ul> </li> <li> <p>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u043e\u0442\u0430</p> <ul> <li>\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u043e\u043a\u0435\u043d \u0432 \u0430\u0434\u043c\u0438\u043d\u043a\u0435  \u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f -&gt; \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 </li> <li>\u041c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u043c\u044f \u0438 \u0430\u0432\u0430\u0442\u0430\u0440 \u0431\u043e\u0442\u0430</li> <li>\u041c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u044b \u0431\u043e\u0442\u0430 \u043d\u0430 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f</li> <li>\u0411\u043e\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 https, \u0434\u043b\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c ngrok</li> <li>\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043e\u0442 \u0432\u0430\u0439\u0431\u0435\u0440\u0430 https://developers.viber.com/docs/api/</li> </ul> </li> <li> <p>Web hook</p> <ul> <li>\u0414\u043b\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0432\u0435\u0431\u0445\u0443\u043a\u0430 \u043d\u0443\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 https://yourdomain/garpix_notify/send_webhook</li> <li>\u0414\u043b\u044f \u0441\u043d\u044f\u0442\u0438\u044f \u0432\u0435\u0431\u0445\u0443\u043a\u0430 \u043d\u0443\u0436\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c POST \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0430\u0434\u0440\u0435\u0441 https://chatapi.viber.com/pa/set_webhook headers X-Viber-Auth-Token: &lt;\u0432\u0430\u0448 \u0442\u043e\u043a\u0435\u043d&gt; \\ body { \"url\":\"\" }</li> </ul> </li> <li>\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c id \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f<ul> <li>\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0435\u0440\u0432\u044b\u043c \u043d\u0430\u0447\u0430\u0442\u044c \u0434\u0438\u0430\u043b\u043e\u0433 \u0441 \u0431\u043e\u0442\u043e\u043c</li> <li>\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u043e\u043b\u0443\u0447\u0430\u043b \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0443 \u043e\u0442 \u0431\u043e\u0442\u0430, \u043e\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0431\u043e\u0442\u0443 viber_secret_key</li> <li>viber_secret_key \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u044e\u0437\u0435\u0440\u0430 \u0432 \u0430\u0434\u043c\u0438\u043d\u043a\u0435. \u043f\u043e\u043b\u0435 \u041a\u043b\u044e\u0447 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f Viber</li> <li>\u0415\u0441\u043b\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441  viber_secret_key, \u0442\u043e viber_chat_id \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f</li> <li>id \u044e\u0437\u0435\u0440\u0430 \u043f\u0440\u0438\u0432\u044f\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043a \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c\u0443 \u0431\u043e\u0442\u0443, \u0442\u043e \u0435\u0441\u0442\u044c, \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432 \u0443 \u044e\u0437\u0435\u0440\u0430 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0437\u043d\u044b\u0439 id</li> </ul> </li> <li>\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 <ul> <li>\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0448\u0430\u0431\u043b\u043e\u043d \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0432 \u043d\u0435\u043c \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f, \u0422\u0438\u043f \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c Viber</li> <li>\u0414\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0433\u0440\u0443\u043f\u043f\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0439 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439</li> <li>\u041c\u043e\u0436\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0447\u0435\u0440\u0435\u0437 \u043a\u043e\u0434, \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0432 \u043c\u0435\u0442\u043e\u0434\u0435 send \u043d\u0443\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c viber_chat_id</li> </ul> </li> </ul> <pre><code>Notify.send(settings.YOUR_EVENT, {\n  'some_context': blabla\n}, viber_chat_id='')\n\n</code></pre>"},{"location":"examples/simple_templates_site/","title":"\u041a\u043e\u0440\u043f\u043e\u0440\u0430\u0442 \u043d\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445","text":"<p>\u041f\u0440\u0438\u043c\u0435\u0440 \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e \u043a\u043e\u0440\u043f\u043e\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0430 \u043d\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445.</p> <p>\u0421\u0430\u0439\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0432 \u0441\u0435\u0431\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435:</p> <ul> <li>\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430</li> <li>\u041d\u043e\u0432\u043e\u0441\u0442\u0438 \u0441\u043f\u0438\u0441\u043e\u043a</li> <li>\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0430\u044f</li> <li>\u041e \u043d\u0430\u0441</li> <li>\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</li> </ul>"},{"location":"examples/simple_templates_site/#1","title":"\u0428\u0430\u0433 1. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<p>\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430, \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u043f\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438.</p> <p>\u0414\u0430\u043b\u0435\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043c\u0438\u0433\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440:</p> <pre><code>python3 backend/manage.py migrate\npython3 backend/manage.py createsuperuser\npython3 backend/manage.py runserver\n</code></pre> <p>\u0418 \u043d\u0435 \u0437\u0430\u0431\u044b\u0432\u0430\u0439\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0432\u0435\u0440\u0441\u0438\u0439:</p> <pre><code>git init\n</code></pre> <p>\u0415\u0441\u043b\u0438 \u043d\u0430 http://localhost:8000 \u0432\u044b \u0432\u0438\u0434\u0438\u0442\u0435 \u043d\u0430\u0434\u043f\u0438\u0441\u044c \"\u0423\u0440\u0430, \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442!\", \u0442\u043e \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442\u044c \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u0448\u0430\u0433\u0443.</p> <p></p>"},{"location":"examples/simple_templates_site/#2","title":"\u0428\u0430\u0433 2. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0432 \u043a\u043e\u0434\u0435","text":"<p>\u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0441\u0430\u0439\u0442\u0430, \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043e\u043c. \u0412 GarpixCMS \u0435\u0441\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0437 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c \u043d\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u043c \u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439 \u0427\u041f\u0423 \u0441 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435\u043c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446.</p> <p>\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043c\u043e\u0434\u0443\u043b\u044c garpix_page \u0441 \u043f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 (\u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0445 \u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0442\u044c).</p> <p>\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0430\u0434\u043e \u043f\u043e\u043d\u044f\u0442\u044c \u0442\u0435\u0440\u043c\u0438\u043d\u043e\u043b\u043e\u0433\u0438\u044e:</p> <ul> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 (Page, Model Page) - \u044d\u0442\u043e \u043c\u043e\u0434\u0435\u043b\u044c, \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0439 \u043a\u043b\u0430\u0441\u0441 \u043e\u0442 <code>BasePage</code>. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0445 \u0441\u0430\u043c\u0438.</li> <li>\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 (Context) - \u0444\u0443\u043d\u043a\u0446\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043b\u043e\u0432\u0430\u0440\u044c. \u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u043c\u043e\u0434\u0435\u043b\u0438. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445. \u0412\u0441\u0435\u0433\u0434\u0430 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u044f <code>object</code> (\u043e\u0431\u044a\u0435\u043a\u0442 \u043a\u043b\u0430\u0441\u0441\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b) \u0438 <code>request</code>.</li> <li>\u0428\u0430\u0431\u043b\u043e\u043d (Template) - \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 Django \u0448\u0430\u0431\u043b\u043e\u043d.</li> </ul> <p>\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0431\u0443\u0434\u0435\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0434\u043e\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e.</p> <p>\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b:</p> <ul> <li><code>--app</code> - \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u0434. \u0415\u0441\u043b\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442, \u0442\u043e \u043e\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043e.</li> <li><code>--page</code> - \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b, \u0432 snake_case. \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u043e \u0432 CamelCase \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438.</li> <li><code>--base</code> - \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c, \u043e\u0442 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b.</li> </ul> <p>\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u0434\u043b\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 <code>--base</code>:</p> <ul> <li><code>page</code> - \u043e\u0434\u0438\u043d\u043e\u0447\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 (\u043d\u0430\u0441\u043b\u0435\u0434\u043d\u0438\u043a \u043e\u0442 <code>BasePage</code>) \u0438\u043b\u0438 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u043f\u0438\u0441\u043a\u0430. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \"\u043f\u043e\u0441\u0442\", \"\u0433\u043b\u0430\u0432\u043d\u0430\u044f\", \"\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\", \"\u0442\u043e\u0432\u0430\u0440\", \"\u0443\u0441\u043b\u0443\u0433\u0430\".</li> <li><code>list</code> - \u0441\u043f\u0438\u0441\u043e\u0447\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 (\u043d\u0430\u0441\u043b\u0435\u0434\u043d\u0438\u043a \u043e\u0442 <code>BaseListPage</code>). \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \"\u043d\u043e\u0432\u043e\u0441\u0442\u0438\", \"\u0430\u043a\u0446\u0438\u0438\", \"\u0442\u043e\u0432\u0430\u0440\u044b\", \"\u0443\u0441\u043b\u0443\u0433\u0438\".</li> <li><code>search</code> - \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 (\u043d\u0430\u0441\u043b\u0435\u0434\u043d\u0438\u043a \u043e\u0442 <code>BaseSearchPage</code>). \u042d\u0442\u043e \u043f\u0440\u043e\u0441\u0442\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u043e\u0438\u0441\u043a\u0430. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0438\u0449\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430\u043c (<code>title</code>).</li> </ul>"},{"location":"examples/simple_templates_site/#21","title":"2.1. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443","text":"<pre><code>python3 backend/manage.py startpage --app=home --page=home --base=page\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043e \u043d\u043e\u0432\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u043c\u043e\u0434\u0435\u043b\u0438, \u0430\u0434\u043c\u0438\u043d\u043a\u0430, \u043a\u043b\u0430\u0441\u0441 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u043e\u0432, \u0448\u0430\u0431\u043b\u043e\u043d.</p> <p></p>"},{"location":"examples/simple_templates_site/#22","title":"2.2. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b","text":"<pre><code>python3 backend/manage.py startpage --app=contacts --page=contact --base=page\n</code></pre>"},{"location":"examples/simple_templates_site/#23","title":"2.3. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u043e\u0432\u043e\u0441\u0442\u0438","text":"<pre><code>python3 backend/manage.py startpage --app=news --page=post_list --base=list\n\npython3 backend/manage.py startpage --app=news --page=post --base=page\n</code></pre>"},{"location":"examples/simple_templates_site/#24","title":"2.4. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443","text":"<pre><code>python3 backend/manage.py startpage --app=search --page=search --base=search\n</code></pre>"},{"location":"examples/simple_templates_site/#25-garpixcmspage","title":"2.5. \u0414\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \"\u041e \u043d\u0430\u0441\" \u0431\u0443\u0434\u0435\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b <code>garpixcms.Page</code> (\u0441\u043c. \u043d\u0438\u0436\u0435).","text":""},{"location":"examples/simple_templates_site/#3","title":"\u0428\u0430\u0433 3. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b","text":""},{"location":"examples/simple_templates_site/#31","title":"3.1 \u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430","text":"<p>\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439.</p> <p>\u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043e\u0431\u044b\u0447\u043d\u0443\u044e \u043c\u043e\u0434\u0435\u043b\u044c CarouselItem, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0431\u0443\u0434\u0435\u043c \u0441\u0432\u044f\u0437\u044b\u0432\u0430\u0442\u044c \u0441 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435\u0439:</p> <pre><code># backend/home/models/carousel_item.py\nfrom django.db import models\nfrom garpix_utils.file.file_field import get_file_path\nfrom garpix_menu.mixins import LinkMixin\nfrom .home_page import HomePage\n\n\nclass CarouselItem(LinkMixin):\n    title = models.CharField(max_length=100, verbose_name='\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a')\n    home_page = models.ForeignKey(HomePage, on_delete=models.CASCADE, verbose_name='\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 (\u043f\u0440\u0438\u0432\u044f\u0437\u043a\u0430)', related_name='carousel_items')\n    image = models.ImageField(upload_to=get_file_path, verbose_name='\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435')\n    sort = models.PositiveSmallIntegerField(default=100, verbose_name='\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430')\n\n    def __str__(self):\n        return self.title\n\n    class Meta:\n        verbose_name = '\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u0438'\n        verbose_name_plural = '\u042d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u0438'\n        ordering = ('sort',)\n</code></pre> <p>\u0417\u0434\u0435\u0441\u044c \u043c\u044b \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043b\u0438 <code>LinkMixin</code> \u0438\u0437 <code>garpix_menu</code> - \u044d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u0442 \u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043b\u044e\u0431\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438\u043b\u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u0439 URL \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430.</p> <p>\u0422\u0430\u043a\u0436\u0435, \u043d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0435\u0449\u0435 \u0434\u0432\u0435 \u0432\u0435\u0449\u0438:</p> <p>\u041f\u043e\u043f\u0440\u0430\u0432\u0438\u0442\u044c <code>__init__.py</code>:</p> <pre><code># backend/home/models/__init__.py\nfrom .home_page import HomePage  # noqa\nfrom .carousel_item import CarouselItem  # noqa\n</code></pre> <p>\u0418 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0430\u043c\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432 <code>INSTALLED_APPS</code>:</p> <pre><code># backend/app/settings.py\nfrom garpixcms.settings import *  # noqa\n\nINSTALLED_APPS += [  # noqa\n    'home',\n    'contacts',\n    'news',\n    'search',\n]\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u0441\u043c\u0438\u0433\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c:</p> <pre><code>python3 backend/manage.py makemigrations\npython3 backend/manage.py migrate\n</code></pre> <p>\u0418 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u043a\u0443:</p> <pre><code># backend/home/admin/carousel_item.py\nfrom ..models.carousel_item import CarouselItem\nfrom django.contrib import admin\n\n\nclass CarouselItemInline(admin.TabularInline):\n    model = CarouselItem\n    fk_name = 'home_page'\n    fields = ('title', 'image', 'sort', 'page', 'url')\n    extra = 1\n</code></pre> <p>\u041d\u0435 \u0437\u0430\u0431\u044b\u0432\u0430\u0435\u043c \u043f\u0440\u043e <code>__init__.py</code>:</p> <pre><code># backend/home/admin/__init__.py\nfrom .home_page import HomePageAdmin  # noqa\nfrom .carousel_item import CarouselItemInline  # noqa\n</code></pre> <p>\u0418 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043a \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 <code>HomePage</code> \u0441\u0430\u043c\u0443 \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u044c:</p> <pre><code># backend/home/admin/home_page.py\nfrom django.contrib import admin\nfrom garpix_page.admin import BasePageAdmin\nfrom ..models.home_page import HomePage\nfrom .carousel_item import CarouselItemInline\n\n\n@admin.register(HomePage)\nclass HomePageAdmin(BasePageAdmin):\n    inlines = (CarouselItemInline,)\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440 (\u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 <code>python3 backend/manage.py runserver</code>) \u0438 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0432 \"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\" \u0437\u0430\u043f\u0438\u0441\u044c \u0441 \"Home\" \u0441\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u0413\u043b\u0430\u0432\u043d\u0430\u044f</li> <li>\u0427\u041f\u0423: \u0441\u0442\u0438\u0440\u0430\u0435\u043c, \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0443\u0436\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e)</li> <li>\u041c\u043e\u0436\u043d\u043e \u0442\u0430\u043a\u0436\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c SEO-\u0442\u0435\u0433\u0438 (\u0434\u0430\u043b\u0435\u0435 \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0445 \u0443\u0432\u0438\u0434\u0435\u0442\u044c, \u0435\u0441\u043b\u0438 \u043e\u0442\u043a\u0440\u043e\u0435\u0442\u0435 \u043a\u043e\u0434 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b http://localhost:8000/)</li> </ul> <p>\u0422\u0430\u043a\u0436\u0435, \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0430\u0440\u0443 \u0441\u043b\u0430\u0439\u0434\u043e\u0432 \u0434\u043b\u044f \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u0438 \u043d\u0430 \u0432\u0430\u0448 \u0432\u043a\u0443\u0441.</p> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 http://localhost:8000 \u0438 \u0443\u0432\u0438\u0434\u0435\u0442\u044c, \u0447\u0442\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b, \u043d\u043e \u043d\u0435\u0442 \u043d\u0430\u0448\u0435\u0439 \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u0438.</p> <p>\u0422.\u043a. \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f Bootstrap 5, \u0442\u043e \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u0432\u043e\u0437\u044c\u043c\u0435\u043c \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u044c \u043e\u0442\u0442\u0443\u0434\u0430 \u0438 \u0432\u0441\u0442\u0430\u0432\u0438\u043c \u0432 \u043d\u0430\u0448 \u0448\u0430\u0431\u043b\u043e\u043d:</p> <pre><code>&lt;!-- frontend/templates/pages/home.html --&gt;\n{% extends 'base.html' %}\n\n{% block content %}\n    &lt;h1&gt;{{ object.title }}&lt;/h1&gt;\n\n    &lt;div id=\"carouselExampleControls\" class=\"carousel slide\" data-bs-ride=\"carousel\"&gt;\n        &lt;div class=\"carousel-inner\"&gt;\n            {% for item in object.carousel_items.all %}\n                &lt;div class=\"carousel-item {% if forloop.first %}active{% endif %}\"&gt;\n                    &lt;a href=\"{{ item.get_link }}\"&gt;\n                        &lt;img class=\"d-block w-100\" src=\"{{ item.image.url }}\" alt=\"{{ item.title }}\"&gt;\n                    &lt;/a&gt;\n                &lt;/div&gt;\n            {% endfor %}\n        &lt;/div&gt;\n        &lt;button class=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#carouselExampleControls\"\n                data-bs-slide=\"prev\"&gt;\n            &lt;span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"&gt;&lt;/span&gt;\n            &lt;span class=\"visually-hidden\"&gt;Previous&lt;/span&gt;\n        &lt;/button&gt;\n        &lt;button class=\"carousel-control-next\" type=\"button\" data-bs-target=\"#carouselExampleControls\"\n                data-bs-slide=\"next\"&gt;\n            &lt;span class=\"carousel-control-next-icon\" aria-hidden=\"true\"&gt;&lt;/span&gt;\n            &lt;span class=\"visually-hidden\"&gt;Next&lt;/span&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n{% endblock %}\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0441\u043d\u043e\u0432\u0430 \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438 \u0443\u0432\u0438\u0434\u0435\u0442\u044c, \u0447\u0442\u043e \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u044c \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442. \u0422\u0430\u043a\u0436\u0435, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043d\u0430 \u043d\u0438\u0445 \u0441\u0441\u044b\u043b\u043a\u0438 \u0441 \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u0438.</p> <p></p>"},{"location":"examples/simple_templates_site/#32","title":"3.2 \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b","text":"<p>\u0422\u0435\u043f\u0435\u0440\u044c \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0441 \u0444\u043e\u0440\u043c\u043e\u0439 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438.</p>"},{"location":"examples/simple_templates_site/#321","title":"3.2.1. \u041d\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b","text":"<p>\u0412 \u0448\u0430\u0433\u0435 2.2 \u043c\u044b \u0443\u0436\u0435 \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u0438\u043b\u0438 \u043c\u043e\u0434\u0435\u043b\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432. \u0422\u0435\u043f\u0435\u0440\u044c \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0432 \u043d\u0435\u0435 \u043e\u0442\u043b\u0438\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0447\u0435\u0440\u0442:</p> <pre><code># backend/contacts/models/contact_page.py\nfrom django.db import models\nfrom ckeditor_uploader.fields import RichTextUploadingField\nfrom garpix_page.models import BasePage\n\n\nclass ContactPage(BasePage):\n    content = RichTextUploadingField(verbose_name='\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435', blank=True, default='')\n    postal_address = models.CharField(max_length=250, blank=True, default='', verbose_name='\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441')\n\n    template = \"pages/contact.html\"\n\n    class Meta:\n        verbose_name = \"Contact\"\n        verbose_name_plural = \"Contacts\"\n        ordering = (\"-created_at\",)\n</code></pre> <p>\u041e\u0431\u044b\u0447\u043d\u043e, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0442\u0430\u043a\u0436\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443 \u0438 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430. \u041d\u043e \u043e\u043d\u0438 \u0440\u0430\u0441\u043f\u043e\u043b\u0430\u0433\u0430\u044e\u0442\u0441\u044f \u043d\u0430 \u0432\u0441\u0435\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430\u0445, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0432 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u043c\u044b \u0438\u0445 \u043d\u0435 \u0441\u0442\u0430\u043b\u0438 \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c - \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0438\u0445 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u0447\u0435\u0440\u0435\u0437 <code>django-solo</code>. \u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u043e\u043f\u0438\u0441\u0430\u043d\u043e \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 https://github.com/lazybird/django-solo.</p> <p>\u041c\u043e\u0436\u043d\u043e \u043c\u0438\u0433\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c:</p> <pre><code>python3 backend/manage.py makemigrations\npython3 backend/manage.py migrate\n</code></pre> <p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u043f\u0440\u0430\u0432\u0438\u043c \u0448\u0430\u0431\u043b\u043e\u043d \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\":</p> <pre><code>&lt;!-- frontend/templates/pages/contact.html --&gt;\n{% extends 'base.html' %}\n\n{% block content %}\n\n    {% include 'include/breadcrumb.html' %}\n\n    &lt;h1&gt;{{ object.title }}&lt;/h1&gt;\n\n    {% if object.postal_address %}\n        &lt;div class=\"alert alert-primary\" role=\"alert\"&gt;\n            \u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441: {{ object.postal_address }}\n        &lt;/div&gt;\n    {% endif %}\n\n    &lt;div&gt;{{ object.content|safe }}&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>\u0418 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0432 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438 \u0432 \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 - \"Contact\":</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</li> <li>\u0427\u041f\u0423: \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> <li>\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441: \u0433. \u041c\u043e\u0441\u043a\u0432\u0430</li> <li>\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435: \u041f\u0440\u0438\u0432\u0435\u0442 \u0432\u0441\u0435\u043c, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435.</li> </ul> <p>\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f \u043d\u0435\u0447\u0442\u043e \u043f\u043e\u0434\u043e\u0431\u043d\u043e\u0435:</p> <p></p>"},{"location":"examples/simple_templates_site/#322","title":"3.2.2. \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0444\u043e\u0440\u043c\u044b \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438","text":"<p>\u0422\u0435\u043f\u0435\u0440\u044c \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c \u0444\u043e\u0440\u043c\u0443 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438.</p> <p>\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u043e\u043f\u0440\u0430\u0432\u0438\u043c \u0448\u0430\u0431\u043b\u043e\u043d. \u0414\u043e\u0431\u0430\u0432\u0438\u043c \u043d\u043e\u0432\u044b\u0439 \u0444\u0430\u0439\u043b <code>frontend/templates/include/feedback.html</code>:</p> <pre><code>&lt;!-- frontend/templates/include/feedback.html --&gt;\n&lt;form method=\"post\"&gt;\n    {% csrf_token %}\n    &lt;div class=\"row mb-3\"&gt;\n        &lt;label for=\"inputEmail\" class=\"col-sm-2 col-form-label\"&gt;Email&lt;/label&gt;\n        &lt;div class=\"col-sm-10\"&gt;\n            &lt;input type=\"email\" name=\"email\" class=\"form-control\" id=\"inputEmail\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row mb-3\"&gt;\n        &lt;label for=\"inputComment\" class=\"col-sm-2 col-form-label\"&gt;\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439&lt;/label&gt;\n        &lt;div class=\"col-sm-10\"&gt;\n            &lt;textarea class=\"form-control\" name=\"comment\" id=\"inputComment\" rows=\"3\"&gt;&lt;/textarea&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;button type=\"submit\" class=\"btn btn-primary\"&gt;\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c&lt;/button&gt;\n&lt;/form&gt;\n</code></pre> <p>\u0418 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0435\u0433\u043e \u0432 \u0448\u0430\u0431\u043b\u043e\u043d \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b:</p> <pre><code>&lt;!-- frontend/templates/pages/contact.html --&gt;\n{% extends 'base.html' %}\n\n{% block content %}\n\n    {% include 'include/breadcrumb.html' %}\n\n    &lt;h1&gt;{{ object.title }}&lt;/h1&gt;\n\n    {% if object.postal_address %}\n        &lt;div class=\"alert alert-primary\" role=\"alert\"&gt;\n            \u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441: {{ object.postal_address }}\n        &lt;/div&gt;\n    {% endif %}\n\n    &lt;div&gt;{{ object.content|safe }}&lt;/div&gt;\n\n    {% include 'include/feedback.html' %}\n{% endblock %}\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043c\u043e\u0434\u0435\u043b\u044c \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u0438\u0441\u0435\u043c \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438:</p> <pre><code># backend/contacts/models/feedback.py\nfrom django.db import models\n\n\nclass Feedback(models.Model):\n    email = models.EmailField(verbose_name='Email')\n    comment = models.TextField(verbose_name='\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439')\n    created_at = models.DateTimeField(auto_now_add=True, verbose_name='\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f')\n\n    def __str__(self):\n        return self.email\n\n    class Meta:\n        ordering = ('-created_at',)\n        verbose_name = '\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c'\n        verbose_name_plural = '\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c'\n</code></pre> <p>\u0418 \u043d\u0435 \u0437\u0430\u0431\u044b\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u043e <code>__init__.py</code>:</p> <pre><code># backend/contacts/models/__init__.py\nfrom .contact_page import ContactPage  # noqa\nfrom .feedback import Feedback  # noqa\n</code></pre> <p>\u0421\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0430\u0434\u043c\u0438\u043d\u043a\u0443:</p> <pre><code># backend/contacts/admin/feedback.py\nfrom django.contrib import admin\nfrom ..models.feedback import Feedback\n\n\n@admin.register(Feedback)\nclass FeedbackAdmin(admin.ModelAdmin):\n    list_display = ('email', 'comment', 'created_at')\n    readonly_fields = ('created_at',)\n</code></pre> <p>\u0418 \u0441\u043d\u043e\u0432\u0430 <code>__init__.py</code>:</p> <pre><code># backend/contacts/admin/__init__.py\nfrom .contact_page import ContactPageAdmin  # noqa\nfrom .feedback import FeedbackAdmin  # noqa\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0444\u043e\u0440\u043c\u0443:</p> <pre><code># backend/contacts/forms/feedback.py\nfrom django.forms import ModelForm\nfrom ..models.feedback import Feedback\n\n\nclass FeedbackForm(ModelForm):\n    class Meta:\n        model = Feedback\n        fields = ['email', 'comment']\n</code></pre> <p>\u0418 <code>__init__.py</code>:</p> <pre><code># backend/contacts/forms/__init__.py\nfrom .feedback import FeedbackForm  # noqa\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u043c\u0438\u0433\u0440\u0438\u0440\u0443\u0435\u043c:</p> <pre><code>python3 backend/manage.py makemigrations\npython3 backend/manage.py migrate\n</code></pre> <p>\u0418 \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0444\u043e\u0440\u043c\u044b \u0447\u0435\u0440\u0435\u0437 \u0444\u0443\u043d\u043a\u0446\u0438\u044e <code>get_context</code> \u0443 \u043c\u043e\u0434\u0435\u043b\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b <code>ContactPage</code>:</p> <pre><code># backend/contacts/models/contact_page.py\nfrom django.db import models\nfrom ckeditor_uploader.fields import RichTextUploadingField\nfrom garpix_page.models import BasePage\nfrom ..forms.feedback import FeedbackForm\n\n\nclass ContactPage(BasePage):\n    content = RichTextUploadingField(verbose_name='\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435', blank=True, default='')\n    postal_address = models.CharField(max_length=250, blank=True, default='', verbose_name='\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441')\n\n    template = \"pages/contact.html\"\n\n    def get_context(self, request=None, *args, **kwargs):\n        context = super().get_context(request, *args, **kwargs)\n        if request.method == 'POST':\n            form = FeedbackForm(request.POST)\n            if form.is_valid():\n                form.save()\n                context.update({\n                    'message': '\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e',\n                })\n            context.update({\n                'form': form,\n            })\n        return context\n\n    class Meta:\n        verbose_name = \"Contact\"\n        verbose_name_plural = \"Contacts\"\n        ordering = (\"-created_at\",)\n</code></pre> <p>\u041a\u0430\u043a \u0432\u0438\u0434\u0438\u043c, \u043c\u044b \u0441\u0434\u0435\u043b\u0430\u043b\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0444\u043e\u0440\u043c\u044b \u0438 \u0440\u0430\u0441\u0448\u0438\u0440\u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0435\u043c\u044b\u0439 \u0432 \u0448\u0430\u0431\u043b\u043e\u043d \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.</p> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0432\u044b\u0432\u043e\u0434 <code>message</code>, \u043a\u043e\u0433\u0434\u0430 \u043e\u043d \u0435\u0441\u0442\u044c, \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0435.</p> <pre><code>&lt;!-- frontend/templates/include/feedback.html --&gt;\n&lt;form method=\"post\"&gt;\n    {% csrf_token %}\n    &lt;div class=\"row mb-3\"&gt;\n        &lt;label for=\"inputEmail\" class=\"col-sm-2 col-form-label\"&gt;Email&lt;/label&gt;\n        &lt;div class=\"col-sm-10\"&gt;\n            &lt;input type=\"text\" name=\"email\" value=\"{{ form.email.value }}\" class=\"form-control\" id=\"inputEmail\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row mb-3\"&gt;\n        &lt;label for=\"inputComment\" class=\"col-sm-2 col-form-label\"&gt;\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439&lt;/label&gt;\n        &lt;div class=\"col-sm-10\"&gt;\n            &lt;textarea class=\"form-control\" required name=\"comment\" id=\"inputComment\" rows=\"3\"&gt;{{ form.comment.value }}&lt;/textarea&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;button type=\"submit\" class=\"btn btn-primary\"&gt;\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c&lt;/button&gt;\n&lt;/form&gt;\n\n{% if message %}\n&lt;div class=\"alert alert-success mt-3\" role=\"alert\"&gt;\n    {{ message }}\n&lt;/div&gt;\n{% endif %}\n\n{% if form.errors %}\n    &lt;div class=\"alert alert-danger mt-3\" role=\"alert\"&gt;\n        &lt;div&gt;\u041f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0438:&lt;/div&gt;\n        &lt;div&gt;{{ form.errors }}&lt;/div&gt;\n    &lt;/div&gt;\n{% endif %}\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\" \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0443, \u0432 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438 \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c, \u0447\u0442\u043e \u0432\u0441\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f, \u043a\u043e\u0433\u0434\u0430 \u0444\u043e\u0440\u043c\u0430 \u0432\u0430\u043b\u0438\u0434\u043d\u0430.</p> <p></p> <p></p> <p></p>"},{"location":"examples/simple_templates_site/#323","title":"3.2.3. \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f","text":"<p>\u0414\u043b\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u043d\u0430\u0448\u0435\u0439 \u0444\u043e\u0440\u043c\u044b \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u0438\u0441\u044c\u043c\u043e \u043f\u043e \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u043c\u0443.</p> <p>\u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0431\u0443\u0434\u0435\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0431\u0430\u0442\u0430\u0440\u0435\u0439\u043a\u0443 <code>garpix_notify</code> \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u043f\u0438\u0441\u0435\u043c \u043f\u043e SMTP \u0432 \u043d\u0435\u0439. \u042d\u0442\u0430 \u0431\u0430\u0442\u0430\u0440\u0435\u0439\u043a\u0430 \u0443\u0436\u0435 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u0430 \u0432 GARPIX CMS.</p> <p>\u0421\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0432 \"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\" - \"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438\" \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c:</p> <ul> <li>\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a: \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442</li> <li>\u0428\u0430\u0431\u043b\u043e\u043d: {{text}}</li> </ul> <p>\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u0443\u044e \u0432\u0435\u0440\u0441\u0442\u043a\u0443 (\u0448\u0430\u043f\u043a\u0443, \u0444\u0443\u0442\u0435\u0440, \u043f\u043e\u0434\u043f\u0438\u0441\u044c \u0438 \u0442.\u043f.) \u0432 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\u0445. \u0414\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u043f\u0438\u0441\u0435\u043c, \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438.</p> <p>\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432\u0432\u0438\u0434\u0443 \u0442\u043e\u0433\u043e, \u0447\u0442\u043e \u043c\u044b \u0431\u0443\u0434\u0435\u043c \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043e\u0431\u044b\u0447\u043d\u043e\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435, \u0442\u043e \u0442\u0430\u043a \u0435\u0433\u043e \u0438 \u043d\u0430\u0437\u0432\u0430\u043b\u0438.</p> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0437\u0430\u0439\u0434\u0435\u043c \u0432 \"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\" - \"SMTP \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b\" \u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0434\u0430\u043d\u043d\u044b\u0435 SMTP \u0432\u0430\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b.</p> <p>\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0441\u043e\u0431\u044b\u0442\u0438\u0435, \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0431\u0443\u0434\u0435\u043c \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u0438\u0441\u044c\u043c\u043e. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0432 <code>backend/app/settings.py</code> \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435:</p> <pre><code># backend/app/settings.py\nfrom garpixcms.settings import *  # noqa\n\nINSTALLED_APPS += [  # noqa\n    'home',\n    'contacts',\n    'news',\n    'search',\n]\n\nFEEDBACK_EVENT = 1\n\nNOTIFY_EVENTS = {\n    FEEDBACK_EVENT: {\n        'title': '\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c',\n    },\n}\n\nCHOICES_NOTIFY_EVENT = [(k, v['title']) for k, v in NOTIFY_EVENTS.items()]\n</code></pre> <p>\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e, \u043e\u0431\u044b\u0447\u043d\u043e, \u043d\u0430 \u0441\u0430\u0439\u0442\u0430\u0445 \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0434\u043b\u044f \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u043f\u043e\u043d\u044f\u0442\u043d\u044b\u0435 \u0438\u043c\u0435\u043d\u0430 \u0434\u043b\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u0439, \u0442.\u043a. \u0441 \u043d\u0438\u043c\u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440 \u0441\u0430\u0439\u0442\u0430.</p> <p>\u0414\u043e\u0431\u0430\u0432\u0438\u043c \u0432 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0444\u043e\u0440\u043c\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f:</p> <pre><code># backend/contacts/models/contact_page.py\nfrom django.db import models\nfrom ckeditor_uploader.fields import RichTextUploadingField\nfrom garpix_page.models import BasePage\nfrom ..forms.feedback import FeedbackForm\nfrom garpix_notify.models import Notify\nfrom django.conf import settings\n\n\nclass ContactPage(BasePage):\n    content = RichTextUploadingField(verbose_name='\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435', blank=True, default='')\n    postal_address = models.CharField(max_length=250, blank=True, default='', verbose_name='\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441')\n\n    template = \"pages/contact.html\"\n\n    def get_context(self, request=None, *args, **kwargs):\n        context = super().get_context(request, *args, **kwargs)\n        if request.method == 'POST':\n            form = FeedbackForm(request.POST)\n            if form.is_valid():\n                feedback = form.save()\n                Notify.send(settings.FEEDBACK_EVENT, {\n                    'feedback': feedback,\n                }, email=feedback.email)\n                context.update({\n                    'message': '\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e',\n                })\n            context.update({\n                'form': form,\n            })\n        return context\n\n    class Meta:\n        verbose_name = \"Contact\"\n        verbose_name_plural = \"Contacts\"\n        ordering = (\"-created_at\",)\n</code></pre> <p>\u041c\u0438\u0433\u0440\u0438\u0440\u0443\u0435\u043c:</p> <pre><code>python3 backend/manage.py makemigrations\npython3 backend/manage.py migrate\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0438\u0434\u0435\u043c \u0432 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u0443\u044e \u043f\u0430\u043d\u0435\u043b\u044c \"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\" - \"\u0428\u0430\u0431\u043b\u043e\u043d\u044b\" \u0438 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0434\u0432\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430.</p> <p>\u041f\u0435\u0440\u0432\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u0438\u0441\u044c\u043c\u043e \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c - \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443</li> <li>\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a: \u041d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438</li> <li>\u0422\u0435\u043a\u0441\u0442 \u0438 HTML:</li> </ul> <pre><code>\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u043d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435:\n\nEmail: {{feedback.email}}\n\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439: {{feedback.comment}}\n</code></pre> <ul> <li>\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c (\u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c): \u0423\u043a\u0430\u0437\u044b\u0432\u0430\u0439\u0442\u0435 \u0441\u0432\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 (\u0443\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0443\u043a\u0430\u0437\u0430\u043b\u0438 email)</li> <li>\u0422\u0438\u043f: E-mail</li> <li>\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f: \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442</li> <li>\u0421\u043e\u0431\u044b\u0442\u0438\u0435: \u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c</li> </ul> <p>\u0412\u0442\u043e\u0440\u043e\u0435 \u043f\u0438\u0441\u044c\u043c\u043e \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u043d\u0430 \u0430\u0434\u0440\u0435\u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e email.</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c - \u043a\u043b\u0438\u0435\u043d\u0442\u0443</li> <li>\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a: \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435!</li> <li>\u0422\u0435\u043a\u0441\u0442 \u0438 HTML:</li> </ul> <pre><code>\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435!\n\n\u0412\u044b \u043e\u0441\u0442\u0430\u0432\u0438\u043b\u0438 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0443 \u043d\u0430\u0441 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435:\n\n{{feedback.comment}}\n</code></pre> <ul> <li>\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c (\u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c): \u041d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u043d\u0438\u0447\u0435\u0433\u043e</li> <li>\u0422\u0438\u043f: E-mail</li> <li>\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f: \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442</li> <li>\u0421\u043e\u0431\u044b\u0442\u0438\u0435: \u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c</li> </ul> <p>\u041a\u0430\u043a \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442, \u043f\u0440\u0438 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u044f FEEDBACK_EVENT \u0431\u0443\u0434\u0435\u0442 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u043e\u0431\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0438 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0434\u0432\u0430 \u043f\u0438\u0441\u044c\u043c\u0430. \u0415\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u0438\u0441\u0435\u043c \u0438\u043b\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043f\u043e \u0434\u0440\u0443\u0433\u0438\u043c \u043a\u0430\u043d\u0430\u043b\u0430\u043c, \u0442\u043e \u044d\u0442\u043e \u0442\u043e\u0436\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e.</p> <p>\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u041f\u0438\u0441\u044c\u043c\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0432 \u0444\u043e\u043d\u043e\u0432\u043e\u043c \u043f\u043e\u0442\u043e\u043a\u0435, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c <code>celery</code> \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435:</p> <pre><code>cd backend\ncelery -A app worker --loglevel=info -B\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u0438\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0443 \u043d\u0430 \u043b\u0438\u0446\u0435\u0432\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0441\u0430\u0439\u0442\u0430.</p> <p></p> <p>\u041f\u0440\u0438\u043c\u0435\u0440\u043d\u043e \u0447\u0435\u0440\u0435\u0437 \u043c\u0438\u043d\u0443\u0442\u0443 \u043f\u0438\u0441\u044c\u043c\u0430 \u0434\u043e\u0439\u0434\u0443\u0442 (\u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432 \"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\" - \"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\")</p> <p></p> <p>\u0418\u0442\u043e\u0433\u043e, \u043e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0433\u043e\u0442\u043e\u0432\u0430. \u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u043f\u0443\u043d\u043a\u0442\u0443.</p>"},{"location":"examples/simple_templates_site/#33","title":"3.3. \u041d\u043e\u0432\u043e\u0441\u0442\u0438","text":"<p>\u041c\u044b \u0443\u0436\u0435 \u0441\u043e\u0437\u0434\u0430\u043b\u0438 \u0441\u043f\u0438\u0441\u043e\u0447\u043d\u0443\u044e \u0438 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439.</p> <p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u043f\u043e\u043b\u0435 <code>content</code> \u0432 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0443\u044e \u043d\u043e\u0432\u043e\u0441\u0442\u044c. \u041e\u043d\u0430 \u0441\u0442\u0430\u043d\u0435\u0442 \u043e\u0447\u0435\u043d\u044c \u043f\u043e\u0445\u043e\u0436\u0430 \u043d\u0430 \u0434\u0440\u0443\u0433\u0438\u0435 \u043d\u0430\u0448\u0438 \u043c\u043e\u0434\u0435\u043b\u0438, \u043d\u043e \u043b\u043e\u0433\u0438\u0447\u043d\u043e \u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0438\u0445 \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u043c\u043e\u0434\u0435\u043b\u044f\u0445. \u0421\u043f\u0438\u0441\u043e\u0447\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043c\u0435\u043d\u044f\u0442\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u043c, \u043d\u043e \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u043d\u0430 \u0435\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435.</p> <pre><code># backend/news/models/post_page.py\nfrom ckeditor_uploader.fields import RichTextUploadingField\nfrom garpix_page.models import BasePage\n\n\nclass PostPage(BasePage):\n    content = RichTextUploadingField(verbose_name='\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435', blank=True, default='')\n    template = \"pages/post.html\"\n\n    class Meta:\n        verbose_name = \"Post\"\n        verbose_name_plural = \"Posts\"\n        ordering = (\"-created_at\",)\n</code></pre> <p>\u041c\u0438\u0433\u0440\u0438\u0440\u0443\u0435\u043c:</p> <pre><code>python3 backend/manage.py makemigrations\npython3 backend/manage.py migrate\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0438\u0434\u0435\u043c \u0432 \u0430\u0434\u043c\u0438\u043d\u043a\u0443 \u0438 \"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\" \u0438 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 (<code>PostList</code>) \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041d\u043e\u0432\u043e\u0441\u0442\u0438</li> <li>\u0427\u041f\u0423: \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> </ul> <p>\u0417\u0430\u0442\u0435\u043c \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0442\u0430\u043a:</p> <p>\u041f\u043e\u0441\u0442 1:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041f\u043e\u0441\u0442 1</li> <li>\u0427\u041f\u0423: \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> <li>\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430: \u041d\u043e\u0432\u043e\u0441\u0442\u0438</li> <li>\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435: \u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430 1</li> </ul> <p>\u041f\u043e\u0441\u0442 2:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041f\u043e\u0441\u0442 2</li> <li>\u0427\u041f\u0423: \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> <li>\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430: \u041d\u043e\u0432\u043e\u0441\u0442\u0438</li> <li>\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435: \u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430 2</li> </ul> <p>\u041f\u043e\u0441\u0442 3:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041f\u043e\u0441\u0442 3</li> <li>\u0427\u041f\u0423: \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> <li>\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430: \u041d\u043e\u0432\u043e\u0441\u0442\u0438</li> <li>\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435: \u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430 3</li> </ul> <p>\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f \u043f\u0440\u0438\u043c\u0435\u0440\u043d\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435</p> <p></p> <p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u0434\u043f\u0440\u0430\u0432\u0438\u043c \u0448\u0430\u0431\u043b\u043e\u043d \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u043d\u043e\u0432\u043e\u0441\u0442\u0438 (\u043c\u044b \u0436\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u043d\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435):</p> <pre><code>&lt;!-- frontend/templates/pages/post.html --&gt;\n{% extends 'base.html' %}\n\n{% block content %}\n    {% include 'include/breadcrumb.html' %}\n    &lt;h1&gt;{{ object.title }}&lt;/h1&gt;\n    &lt;div&gt;{{ object.content|safe }}&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \"\u041d\u043e\u0432\u043e\u0441\u0442\u0438\" \u0432 \"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\" \u0438 \u0443\u0432\u0438\u0434\u0438\u0442\u0435, \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u0435 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044b \u043c\u0435\u0436\u0434\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430\u043c\u0438 \u0438 \u0445\u043b\u0435\u0431\u043d\u044b\u043c\u0438 \u043a\u0440\u043e\u0448\u043a\u0430\u043c\u0438. \u0422\u0430\u043a\u0436\u0435, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u0441\u0442\u043e\u0432 \u0438\u043b\u0438 \u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 <code>paginated_by</code> \u0432 \u043c\u043e\u0434\u0435\u043b\u0438 <code>PostList</code> \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u044f\u0432\u0438\u043b\u0430\u0441\u044c \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u044f.</p> <p></p> <p></p> <p>\u0421 \u043d\u043e\u0432\u043e\u0441\u0442\u044f\u043c\u0438 \u0433\u043e\u0442\u043e\u0432\u043e, \u043f\u043e\u0448\u043b\u0438 \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u0448\u0430\u0433\u0443.</p>"},{"location":"examples/simple_templates_site/#34","title":"3.4. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u043e\u0438\u0441\u043a\u0430","text":"<p>\u0418\u0434\u0435\u043c \u0432 \"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\" \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 <code>Search</code> \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0435\u0435:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041f\u043e\u0438\u0441\u043a</li> <li>\u0427\u041f\u0423: \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> </ul> <p>\u0413\u043e\u0442\u043e\u0432\u043e. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043f\u043e\u0438\u0441\u043a \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430\u043c \u0441\u0442\u0440\u0430\u043d\u0438\u0446.</p> <p>\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043d\u0430 \u043b\u0438\u0446\u0435\u0432\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0441\u0430\u0439\u0442\u0430 \u0438 \u0432\u0431\u0438\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043e\u0434\u043d\u043e\u0439 \u0438\u0437 \u0441\u0442\u0440\u0430\u043d\u0438\u0446, \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u043d\u0435\u0447\u0442\u043e \u043f\u043e\u0434\u043e\u0431\u043d\u043e\u0435:</p> <p></p> <p>\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0438\u0441\u043a \u0448\u0435\u043b \u0442\u0430\u043a\u0436\u0435 \u043f\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u043c\u0443, \u0442\u043e \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u043e\u043b\u044f \u0432 <code>searchable_fields</code> \u0443 \u043c\u043e\u0434\u0435\u043b\u0438.</p> <p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u043c\u0435\u043d\u044f\u0435\u043c \u044d\u0442\u043e \u0443 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439:</p> <pre><code># backend/news/models/post_page.py\nfrom ckeditor_uploader.fields import RichTextUploadingField\nfrom garpix_page.models import BasePage\n\n\nclass PostPage(BasePage):\n    content = RichTextUploadingField(verbose_name='\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435', blank=True, default='')\n    template = \"pages/post.html\"\n    searchable_fields = ['title', 'content']\n\n    class Meta:\n        verbose_name = \"Post\"\n        verbose_name_plural = \"Posts\"\n        ordering = (\"-created_at\",)\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0438\u0441\u043a\u0430\u0442\u044c \u043f\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u043c\u0443 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439.</p> <p>\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0434\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a \u043f\u0440\u043e\u0441\u0442\u0435\u0439\u0448\u0438\u0439 \u0438 \u043d\u0435 \u043f\u043e\u043b\u043d\u043e\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0435\u0433\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u043e\u0433\u0434\u0430, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435\u0442 \u043e\u0441\u043e\u0431\u044b\u0445 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0439 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430. \u041a\u043e\u0433\u0434\u0430 \u043d\u0443\u0436\u0435\u043d \u0441\u0435\u0440\u044c\u0435\u0437\u043d\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 ElasticSearch \u0438\u043b\u0438 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u044b\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u044f.</p> <p>\u0421 \u043f\u043e\u0438\u0441\u043a\u043e\u043c \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0438, \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u0448\u0430\u0433\u0443.</p>"},{"location":"examples/simple_templates_site/#35","title":"3.5. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \"\u041e \u043d\u0430\u0441\"","text":"<p>\u0411\u0443\u0434\u0435\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0439 <code>Page</code>.</p> <p>\u0418\u0434\u0435\u043c \u0432 \"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\", \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0438 \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430\", \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u043c\u0438:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041e \u043d\u0430\u0441</li> <li>\u0427\u041f\u0423: \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> <li>\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435: \u041a\u043e\u043d\u0442\u0435\u043d\u0442 \u043e \u043d\u0430\u0441.</li> </ul> <p>\u041e\u0431\u044b\u0447\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u0432\u0438\u0434 \u0441\u0442\u0440\u0430\u043d\u0438\u0446, \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0448\u0430\u0431\u043b\u043e\u043d <code>frontend/templates/garpixcms/pages/default.html</code>.</p>"},{"location":"examples/simple_templates_site/#36","title":"3.6. \u041c\u0435\u043d\u044e","text":"<p>\u0421\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430\u043c\u0438 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0438, \u0442\u0435\u043f\u0435\u0440\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430, \u0441\u043e\u0437\u0434\u0430\u0432 \u043c\u0435\u043d\u044e.</p> <p>\u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u043c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u043c\u0435\u043d\u044e \u0432 <code>backend/app/settings.py</code>, \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u0434:</p> <pre><code># ...\n\nMENU_TYPE_HEADER_MENU = 'header_menu'\n\nMENU_TYPES = {\n    MENU_TYPE_HEADER_MENU: {\n        'title': '\u0412\u0435\u0440\u0445\u043d\u0435\u0435 \u043c\u0435\u043d\u044e',\n    },\n}\n\nCHOICE_MENU_TYPES = [(k, v['title']) for k, v in MENU_TYPES.items()]\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u0435 \u043d\u0435\u043d\u0443\u0436\u043d\u043e\u0435 \u043c\u0435\u043d\u044e \u0432 \u0444\u0443\u0442\u0435\u0440\u0435:</p> <ul> <li>\u0412 \u0444\u0430\u0439\u043b\u0435 <code>frontend/templates/base.html</code> \u0443\u0431\u0440\u0430\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 <code>{% include 'include/footer.html' %}</code>.</li> <li>\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0430\u0439\u043b <code>frontend/templates/include/footer.html</code>.</li> </ul> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043c\u0438\u0433\u0440\u0438\u0440\u0443\u0435\u043c.</p> <pre><code>python3 backend/manage.py makemigrations\npython3 backend/manage.py migrate\n</code></pre> <p>\u0418\u0434\u0435\u043c \u0432 \u0430\u0434\u043c\u0438\u043d\u043a\u0443 \"\u041c\u0435\u043d\u044e\" - \"\u041f\u0443\u043d\u043a\u0442\u044b \u043c\u0435\u043d\u044e\" \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c:</p> <p>\u0413\u043b\u0430\u0432\u043d\u0430\u044f:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u0413\u043b\u0430\u0432\u043d\u0430\u044f</li> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u0413\u043b\u0430\u0432\u043d\u0430\u044f</li> <li>\u0422\u0438\u043f \u043c\u0435\u043d\u044e: \u0412\u0435\u0440\u0445\u043d\u0435\u0435 \u043c\u0435\u043d\u044e</li> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u0435\u0434\u0435\u0442 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430</li> <li>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: 50</li> </ul> <p>\u041d\u043e\u0432\u043e\u0441\u0442\u0438:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u041d\u043e\u0432\u043e\u0441\u0442\u0438</li> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041d\u043e\u0432\u043e\u0441\u0442\u0438</li> <li>\u0422\u0438\u043f \u043c\u0435\u043d\u044e: \u0412\u0435\u0440\u0445\u043d\u0435\u0435 \u043c\u0435\u043d\u044e</li> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u0435\u0434\u0435\u0442 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u041d\u043e\u0432\u043e\u0441\u0442\u0438</li> <li>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: 100</li> </ul> <p>\u041e \u043d\u0430\u0441:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u041e \u043d\u0430\u0441</li> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041e \u043d\u0430\u0441</li> <li>\u0422\u0438\u043f \u043c\u0435\u043d\u044e: \u0412\u0435\u0440\u0445\u043d\u0435\u0435 \u043c\u0435\u043d\u044e</li> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u0435\u0434\u0435\u0442 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u041e \u043d\u0430\u0441</li> <li>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: 150</li> </ul> <p>\u041f\u043e\u0438\u0441\u043a:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u041f\u043e\u0438\u0441\u043a</li> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041f\u043e\u0438\u0441\u043a</li> <li>\u0422\u0438\u043f \u043c\u0435\u043d\u044e: \u0412\u0435\u0440\u0445\u043d\u0435\u0435 \u043c\u0435\u043d\u044e</li> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u0435\u0434\u0435\u0442 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u041f\u043e\u0438\u0441\u043a</li> <li>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: 200</li> </ul> <p>\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</li> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</li> <li>\u0422\u0438\u043f \u043c\u0435\u043d\u044e: \u0412\u0435\u0440\u0445\u043d\u0435\u0435 \u043c\u0435\u043d\u044e</li> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u0435\u0434\u0435\u0442 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</li> <li>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: 250</li> </ul> <p>\u041f\u043e\u0441\u043b\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u0435\u043d\u044e, \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0442\u044c\u0441\u044f \u043f\u043e \u0441\u0430\u0439\u0442\u0443. \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u0438\u043f\u043e\u0432 \u043c\u0435\u043d\u044e \u0442\u0430\u043a\u0436\u0435 \u043d\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f, \u043d\u043e \u0431\u0443\u0434\u044c\u0442\u0435 \u0430\u043a\u043a\u0443\u0440\u0430\u0442\u043d\u044b \u0441 \u043d\u0435\u0439\u043c\u0438\u043d\u0433\u043e\u043c.</p> <p></p>"},{"location":"examples/simple_templates_site/#37","title":"3.7. \u041a\u0430\u0440\u0442\u0430 \u0441\u0430\u0439\u0442\u0430","text":"<p>\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0441\u044f \u043a\u0430\u0440\u0442\u0430 \u0441\u0430\u0439\u0442\u0430 \u0438\u0437 \u0432\u0441\u0435\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446.</p> <p>\u0423\u0432\u0438\u0434\u0435\u0442\u044c \u0435\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 http://localhost:8000/sitemap.xml</p> <p>\u0414\u043b\u044f \u0441\u043c\u0435\u043d\u044b \u0434\u043e\u043c\u0435\u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u043e\u0431\u044b\u0447\u043d\u044b\u0439 <code>Sites Framework</code>. \u041f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u043c\u043e\u0436\u043d\u043e \u0432 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438 \u0432 \"\u0421\u0430\u0439\u0442\u044b\" - \"\u0421\u0430\u0439\u0442\u044b\".</p> <p>\u041d\u0430 \u044d\u0442\u043e\u043c \u0432\u0441\u0435, \u043d\u0430\u0448 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u043a\u043e\u0440\u043f\u043e\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442 \u0433\u043e\u0442\u043e\u0432. \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u0438 \u0443\u0441\u043f\u0435\u0445\u043e\u0432 \u0432\u0430\u043c!</p>"},{"location":"examples/auth/apple/","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0432\u0445\u043e\u0434\u0430 \u0447\u0435\u0440\u0435\u0437 AppleId (SPA)","text":"<p>\u041f\u0440\u0438\u043c\u0435\u0440 \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0437\u0434\u0435\u0441\u044c: https://example.cms.garpix.com/kontakty (\u0441\u043c. \u043a\u043e\u043d\u0441\u043e\u043b\u044c \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430)</p> <p>\u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 \u0437\u0434\u0435\u0441\u044c: https://github.com/garpixcms/example-corp-spa</p>"},{"location":"examples/auth/apple/#1","title":"\u0428\u0430\u0433 1. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<p>\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430, \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u043f\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438.</p>"},{"location":"examples/auth/apple/#2","title":"\u0428\u0430\u0433 2. \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0432\u0445\u043e\u0434","text":"<p>\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0445\u043e\u0434 \u0432 <code>.env</code>:</p> <pre><code># ...\nENABLE_GARPIX_AUTH=True\n</code></pre>"},{"location":"examples/auth/apple/#3-developer-apple","title":"\u0428\u0430\u0433 3. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b Developer Apple","text":"<p>3.1. \u0412\u0430\u043c \u043d\u0443\u0436\u0435\u043d \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 Apple.</p> <p>3.2. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 https://developer.apple.com/account/resources/identifiers/list</p> <p>3.2.1. \u041d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435 \"Register a new identifier\" \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \"App IDs\" \u0438 \u0436\u043c\u0435\u043c \"Continue\". 3.2.2. \u041d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435 \"Select a type\" \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \"App\" \u0438 \u0436\u043c\u0435\u043c \"Continue\". 3.2.3. \u041d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435 \"Register an App ID\" \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 (\u043f\u0440\u0438\u043c\u0435\u0440):</p> <ul> <li>Description: MyApplication</li> <li>Bundle ID: com.mycompany.MyApplication</li> <li>Capabilities: \u0441\u0442\u0430\u0432\u0438\u043c \u0433\u0430\u043b\u043a\u0443 \"Sign In with Apple\", \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \"Enable as a primary App ID\" \u0438 \u0432 \"Server to Server Notification Endpoint\" \u043f\u0438\u0448\u0435\u043c \u0430\u0434\u0440\u0435\u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \"https://mysite.com\"</li> <li>\u0416\u043c\u0435\u043c \"Continue\"</li> </ul> <p>3.2.4. \u041d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435 \"Confirm your App ID\" \u0436\u043c\u0435\u043c \"Register\".</p> <p>\u0422\u0430\u043a\u0436\u0435, \u0441\u0432\u0435\u0440\u0445\u0443 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0435\u0441\u0442\u044c Team ID (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \"XXAAAA99A9\"), \u0437\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0435\u0433\u043e, \u043e\u043d \u043f\u0440\u0438\u0433\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u043c.</p> <p>3.3. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u044b\u0439 \u043a\u043b\u044e\u0447 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 https://developer.apple.com/account/resources/authkeys/list</p> <p>3.3.1. \u041d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435 \"Register a New Key\" \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435:</p> <ul> <li>Key Name: MyApplication</li> <li>\u0421\u0442\u0430\u0432\u0438\u043c \u0433\u0430\u043b\u043a\u0443 \u043d\u0430 \"Sign in with Apple\", \u0436\u043c\u0435\u043c \"Configure\" \u0438 \u0432 \"Primary App ID\" \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440, \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0439 \u0432\u044b\u0448\u0435. \u0416\u043c\u0435\u043c \"Save\"</li> </ul> <p>3.3.2. \u041d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u044d\u043a\u0440\u0430\u043d\u0435 \"Register a New Key\" \u0436\u043c\u0435\u043c \"Register\".</p> <p>3.3.3. \u041d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u044d\u043a\u0440\u0430\u043d\u0435 \u0436\u043c\u0435\u043c \"Download\" \u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u0435\u043c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447. \u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0432 \u043d\u0430\u0434\u0435\u0436\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u043f\u043e\u0442\u0435\u0440\u044f\u0442\u044c. \u0422\u0430\u043a\u0436\u0435, \u043e\u043d \u043d\u0430\u043c \u043f\u0440\u0438\u0433\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u043c.</p> <p>3.3.4. \u0417\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \"Key ID\", \u043e\u043d \u043f\u0440\u0438\u0433\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430\u043c \u0432 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u043c.</p> <p>3.4. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 https://developer.apple.com/account/resources/identifiers/list/serviceId</p> <p>3.4.1. \u041d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \"Register a new identifier\" \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \"Services IDs\" \u0438 \u0436\u043c\u0435\u043c \"Continue\".</p> <p>3.4.2. \u041d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435 \"Register a Services ID\" \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 (\u043f\u0440\u0438\u043c\u0435\u0440):</p> <ul> <li>Description: MyApplicationService</li> <li>Identifier: com.mycompany.MyApplicationService</li> </ul> <p>3.4.3. \u0416\u043c\u0435\u043c \"Register\".</p>"},{"location":"examples/auth/apple/#4","title":"\u0428\u0430\u0433 4. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0431\u044d\u043a\u0435\u043d\u0434\u0430","text":"<p>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 <code>backend/app/settings.py</code>:</p> <pre><code># ...\n\nAUTHENTICATION_BACKENDS = [\n    'social_core.backends.apple.AppleIdAuth',  # for client backend: apple-id\n] + AUTHENTICATION_BACKENDS\n\n# social - apple\nSOCIAL_AUTH_APPLE_ID_CLIENT = env('SOCIAL_AUTH_APPLE_ID_CLIENT')  # Your client_id com.application.your, aka \"Service ID\"\nSOCIAL_AUTH_APPLE_ID_TEAM = env('SOCIAL_AUTH_APPLE_ID_TEAM')  # Your Team ID, ie K2232113\nSOCIAL_AUTH_APPLE_ID_KEY = env('SOCIAL_AUTH_APPLE_ID_KEY')  # Your Key ID, ie Y2P99J3N81K\nSOCIAL_AUTH_APPLE_ID_SECRET = env('SOCIAL_AUTH_APPLE_ID_SECRET')  # SOCIAL_AUTH_APPLE_ID_SECRET=\"-----BEGIN PRIVATE KEY-----\\nMIGTAgE.....\\n-----END PRIVATE KEY-----\"\nSOCIAL_AUTH_APPLE_ID_SCOPE = ['email', 'name']\nSOCIAL_AUTH_APPLE_ID_EMAIL_AS_USERNAME = True\n</code></pre> <p>\u0418 \u0432 \u0444\u0430\u0439\u043b <code>.env</code>:</p> <pre><code># \u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0441\u0435\u0440\u0432\u0438\u0441\u0430\nSOCIAL_AUTH_APPLE_ID_CLIENT=com.mycompany.MyApplicationService\n# Team ID\nSOCIAL_AUTH_APPLE_ID_TEAM=XXAAAA99A9\n# Key ID\nSOCIAL_AUTH_APPLE_ID_KEY=NYAAAAAA9A\n# \u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430, \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044b \u0441\u0442\u0440\u043e\u043a \u043d\u0430 \\n\nSOCIAL_AUTH_APPLE_ID_SECRET=\"-----BEGIN PRIVATE KEY-----\\nMIGTAgEAMBMGB...\\n...\\n-----END PRIVATE KEY-----\"\n</code></pre>"},{"location":"examples/auth/apple/#5","title":"\u0428\u0430\u0433 5. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438","text":"<p>\u0417\u0430\u0445\u043e\u0434\u0438\u043c \u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 <code>/admin/oauth2_provider/application/</code> (DJANGO OAUTH TOOLKIT -&gt; Applications) \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u044b\u0439:</p> <ul> <li>Client type: Confidential</li> <li>Authorization grant type: Client credentials</li> <li>Name: apple-id</li> </ul> <p>\u041e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u043a\u0430\u043a \u0435\u0441\u0442\u044c \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c.</p> <p>\u0422\u0430\u043a\u0436\u0435, \u0441\u0442\u0440\u043e\u043a\u0438 \"Client id\" \u0438 \"Client secret\" \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b \u043d\u0430 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0435.</p>"},{"location":"examples/auth/apple/#6-react","title":"\u0428\u0430\u0433 6. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0430 (React)","text":"<p>6.1. \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043c\u043e\u0434\u0443\u043b\u044c \"react-apple-signin-auth\":</p> <pre><code>yarn add react-apple-signin-auth\n</code></pre> <p>6.2. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442:</p> <pre><code>import React from \"react\";\nimport AppleSignin from 'react-apple-signin-auth';\n\nexport default class LoginWithAppleId extends React.Component {\n\n    handleSocialLogin = async (data) =&gt; {\n        console.log(data);\n        // convert token\n        // POST /api/social-auth/convert-token/\n        // Payload:\n        /*\n        {\n            grant_type: 'convert_token',\n            // Client id \u0438\u0437 \u043f. 5\n            client_id: 'CSDuH8UgHDTFue2GbjZbYJmaRm7VY70QVEFj6A4T',\n            // Client secret \u0438\u0437 \u043f. 5\n            client_secret: 'ic0GJAhwLUF12hvrQugXueplPvvtkkXQS6Yno6fYKiWl7wPE5VNmvvxAWvnBPMIirjtuMds9RQ8oT0U7wSpAqmLrI9fnmX1Ft1NYNW9oybo5ECbAwOZUTEV3b1NZlrRb',\n            backend: 'apple-id',\n            token: data.authorization.id_token,\n        }\n        */\n        // \u0412 \u043e\u0442\u0432\u0435\u0442 \u0432\u0435\u0440\u043d\u0435\u0442\u0441\u044f \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043a\u0430\u043a \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0442\u043e\u043a\u0435\u043d\u0430.\n    };\n\n    render() {\n        return (\n            &lt;div&gt;\n                &lt;AppleSignin\n                    authOptions={{\n                      // SOCIAL_AUTH_APPLE_ID_CLIENT \n                      clientId: 'com.mycompany.MyApplicationService',\n                      scope: 'email name',\n                      redirectURI: 'https://mysite.com',\n                      state: '',\n                      nonce: 'nonce',\n                      usePopup: true,\n                    }}\n                    uiType=\"dark\"\n                    className=\"apple-auth-btn\"\n                    buttonExtraChildren=\"Continue with Apple ID\"\n                    onSuccess={this.handleSocialLogin}\n                    onError={(error) =&gt; console.error(error)}\n                  /&gt;\n            &lt;/div&gt;\n        )\n    }\n}\n</code></pre>"},{"location":"examples/auth/apple/#7","title":"\u0428\u0430\u0433 7. \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c","text":"<p>\u0412\u0445\u043e\u0434 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e https, \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0441 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u0432.</p>"},{"location":"examples/auth/google/","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0432\u0445\u043e\u0434\u0430 \u0447\u0435\u0440\u0435\u0437 Google (SPA)","text":"<p>\u041f\u0440\u0438\u043c\u0435\u0440 \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0437\u0434\u0435\u0441\u044c: https://example.cms.garpix.com/kontakty (\u0441\u043c. \u043a\u043e\u043d\u0441\u043e\u043b\u044c \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430)</p> <p>\u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 \u0437\u0434\u0435\u0441\u044c: https://github.com/garpixcms/example-corp-spa</p>"},{"location":"examples/auth/google/#1","title":"\u0428\u0430\u0433 1. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<p>\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430, \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u043f\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438.</p>"},{"location":"examples/auth/google/#2","title":"\u0428\u0430\u0433 2. \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0432\u0445\u043e\u0434","text":"<p>\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0445\u043e\u0434 \u0432 <code>.env</code>:</p> <pre><code># ...\nENABLE_GARPIX_AUTH=True\n</code></pre>"},{"location":"examples/auth/google/#3-google","title":"\u0428\u0430\u0433 3. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b Google","text":"<p>3.1. \u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 Google Console Credentials https://console.cloud.google.com/apis/credentials</p> <p>3.2. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \"Create Credentaials\" \u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \"OAuth client ID\"</p> <p>3.3. \u0412 \"Application type\" \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \"Web application\".</p> <p>3.4. \u0412 \u043f\u043e\u044f\u0432\u0438\u0432\u0448\u0435\u0439\u0441\u044f \u0444\u043e\u0440\u043c\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u044f:</p> <ul> <li>Name: \u043b\u044e\u0431\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430</li> <li>Authorized JavaScript origins: \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0438 \u0432\u0432\u0435\u0441\u0442\u0438 \u0430\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \"https://mysite.com\"</li> <li>\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \"Create\"</li> </ul> <p>3.5. \u0421\u043a\u0430\u0447\u0430\u0439\u0442\u0435 \u0444\u0430\u0439\u043b (\u0436\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u043e) \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435 \u043a\u043b\u044e\u0447\u0438 \"Client ID\" \u0438 \"Client Secret\". \u041e\u043d\u0438 \u043f\u0440\u0438\u0433\u043e\u0434\u044f\u0442\u0441\u044f \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u0448\u0430\u0433\u0435.</p>"},{"location":"examples/auth/google/#4","title":"\u0428\u0430\u0433 4. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0431\u044d\u043a\u0435\u043d\u0434\u0430","text":"<p>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 <code>backend/app/settings.py</code>:</p> <pre><code># ...\n\nAUTHENTICATION_BACKENDS = [\n    'social_core.backends.google.GoogleOAuth2',  # for client backend: google-oauth2\n] + AUTHENTICATION_BACKENDS\n\n# social - google\nSOCIAL_AUTH_GOOGLE_OAUTH2_KEY = env('SOCIAL_AUTH_GOOGLE_OAUTH2_KEY')\nSOCIAL_AUTH_GOOGLE_OAUTH2_SECRET = env('SOCIAL_AUTH_GOOGLE_OAUTH2_SECRET')\n</code></pre> <p>\u0418 \u0432 \u0444\u0430\u0439\u043b <code>.env</code>:</p> <pre><code># Client ID \u043e\u0442 Google\nSOCIAL_AUTH_GOOGLE_OAUTH2_KEY=999999999999-A99AAAAAAAAAA652f6hlem2q5rfvnel4.apps.googleusercontent.com\n# Client Secret \u043e\u0442 Google\nSOCIAL_AUTH_GOOGLE_OAUTH2_SECRET=AAAAAA-Jt8qTX3Nw8_mXW2dxnpiDM-AAAA9A\n</code></pre>"},{"location":"examples/auth/google/#5","title":"\u0428\u0430\u0433 5. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438","text":"<p>\u0417\u0430\u0445\u043e\u0434\u0438\u043c \u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 <code>/admin/oauth2_provider/application/</code> (DJANGO OAUTH TOOLKIT -&gt; Applications) \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u044b\u0439:</p> <ul> <li>Client type: Confidential</li> <li>Authorization grant type: Client credentials</li> <li>Name: google-oauth2</li> </ul> <p>\u041e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u043a\u0430\u043a \u0435\u0441\u0442\u044c \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c.</p> <p>\u0422\u0430\u043a\u0436\u0435, \u0441\u0442\u0440\u043e\u043a\u0438 \"Client id\" \u0438 \"Client secret\" \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b \u043d\u0430 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0435.</p>"},{"location":"examples/auth/google/#6-react","title":"\u0428\u0430\u0433 6. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0430 (React)","text":"<p>6.1. \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438:</p> <pre><code>yarn add react-social-login\n</code></pre> <p>6.2. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b:</p> <p>\u0424\u0430\u0439\u043b <code>SocialButton.js</code>:</p> <pre><code>import React from \"react\";\nimport SocialLogin from \"react-social-login\";\n\nclass SocialButton extends React.Component {\n  render() {\n    const { children, triggerLogin, ...props } = this.props;\n    return (\n      &lt;button onClick={triggerLogin} {...props}&gt;\n        {children}\n      &lt;/button&gt;\n    );\n  }\n}\n\nexport default SocialLogin(SocialButton);\n</code></pre> <p>\u0424\u0430\u0439\u043b <code>LoginWithGoogle.js</code>:</p> <pre><code>import React from \"react\";\nimport SocialButton from \"../SocialButton\";\n\nexport default class LoginWithGoogle extends React.Component {\n\n    handleSocialLogin = async (user) =&gt; {\n        console.log(user);\n        // convert token\n        // POST /api/social-auth/convert-token/\n        // Payload:\n        /*\n        {\n            grant_type: 'convert_token',\n            // Client id \u0438\u0437 \u043f. 5\n            client_id: '999999999999-A99AAAAAAAAAA652f6hlem2q5rfvnel4.apps.googleusercontent.com',\n            // Client secret \u0438\u0437 \u043f. 5\n            client_secret: 'AAAAAA-Jt8qTX3Nw8_mXW2dxnpiDM-AAAA9A',\n            backend: 'google-oauth2',\n            token: user._token.accessToken,\n        }\n        */\n        // \u0412 \u043e\u0442\u0432\u0435\u0442 \u0432\u0435\u0440\u043d\u0435\u0442\u0441\u044f \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043a\u0430\u043a \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0442\u043e\u043a\u0435\u043d\u0430.\n    };\n\n    handleSocialLoginFailure = (err) =&gt; {\n        console.error(err);\n    };\n\n    render() {\n        return (\n            &lt;div&gt;\n                &lt;SocialButton\n                    provider=\"google\"\n                    // Client ID \u043e\u0442 Google\n                    appId=\"999999999999-A99AAAAAAAAAA652f6hlem2q5rfvnel4.apps.googleusercontent.com\"\n                    onLoginSuccess={\n                        this.handleSocialLogin\n                    }\n                    onLoginFailure={\n                        this.handleSocialLoginFailure\n                    }\n                &gt;\n                    Login with Google\n                &lt;/SocialButton&gt;\n            &lt;/div&gt;\n        )\n    }\n}\n</code></pre>"},{"location":"examples/auth/google/#7","title":"\u0428\u0430\u0433 7. \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c","text":"<p>\u0412\u0445\u043e\u0434 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e https, \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0441 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u0432.</p>"},{"location":"migrate/migrate_1.15.0_to_2.0.0/","title":"\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u0441 1.15.0 \u043d\u0430 2.0.0","text":""},{"location":"migrate/migrate_1.15.0_to_2.0.0/#_1","title":"\u041d\u0430 \u0431\u044d\u043a\u0435\u043d\u0434\u0435","text":"<p>\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c garpixcms \u0432\u0435\u0440\u0441\u0438\u0438 2.0.0:</p> <pre><code>pipenv install garpixcms==2.0.0\n</code></pre> <p>\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0444\u0430\u0439\u043b\u043e\u0432 \u0438 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0439:</p> <pre><code>app/migrations/garpix_auth/\napp/migrations/garpix_auth/__init__.py\n</code></pre> <p>\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439:</p> <pre><code>python3 backend/manage.py makemigrations\npython3 backend/manage.py migrate\n</code></pre> <p>\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0432 <code>backend/app/settings.py</code> \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 (\u0435\u0441\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 <code>0</code> - \u043f\u0440\u043e\u0442\u0443\u0445\u0430\u0442\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442):</p> <pre><code>GARPIX_ACCESS_TOKEN_TTL_SECONDS = 86400  # \u0422\u043e\u043a\u0435\u043d \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0442\u0443\u0445\u0430\u0442\u044c \u0447\u0435\u0440\u0435\u0437 \u0441\u0443\u0442\u043a\u0438\nGARPIX_REFRESH_TOKEN_TTL_SECONDS = 86400 * 14  # \u0420\u0435\u0444\u0440\u0435\u0448-\u0442\u043e\u043a\u0435\u043d \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0442\u0443\u0445\u0430\u0442\u044c \u043f\u043e\u0441\u043b\u0435 14 \u0441\u0443\u0442\u043e\u043a\n</code></pre>"},{"location":"migrate/migrate_1.15.0_to_2.0.0/#spa","title":"\u041d\u0430 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0435 SPA","text":"<p>\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u043b\u043e\u0433\u0438\u043d\u0430 \u0441 <code>/api/login/</code> \u043d\u0430 <code>/api/auth/login/</code>.</p> <p>\u041f\u0440\u0438\u043c\u0435\u0440 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 (\u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f httpie):</p> <pre><code>http POST 'http://localhost:8000/api/auth/login/' username=user password=mysuperpassword\n</code></pre> <p>\u041f\u0440\u0438\u043c\u0435\u0440 \u043e\u0442\u0432\u0435\u0442\u0430:</p> <pre><code>{\n    \"access_token\": \"7c21c191a3720925ff80350b395725d31745bcac\",\n    \"access_token_expires\": 86400,\n    \"refresh_token\": \"946cd6498df1de4bb24d0fc63286b01341265b3e\",\n    \"refresh_token_expires\": 1209600,\n    \"token_type\": \"Bearer\"\n}\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0438\u043f \u0442\u043e\u043a\u0435\u043d\u0430 \u0432 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430\u0445 (Headers) \u0441 <code>Token</code> \u043d\u0430 <code>Bearer</code>. T.\u0435.:</p> <ul> <li>\u0431\u044b\u043b\u043e: <code>Authorization: Token 7c21c191a3720925ff80350b395725d31745bcac</code></li> <li>\u0441\u0442\u0430\u043b\u043e: <code>Authorization: Bearer 7c21c191a3720925ff80350b395725d31745bcac</code></li> </ul> <p>\u0422\u0430\u043a\u0436\u0435, \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0440\u0430\u043d\u044c\u0448\u0435 \u043a\u043b\u044e\u0447 \u0432 \u043e\u0442\u0432\u0435\u0442\u0435 \u0431\u044b\u043b <code>token</code>, \u0441\u0442\u0430\u043b <code>access_token</code>.</p> <p>\u0415\u0441\u043b\u0438 <code>access_token</code> \u043f\u0440\u043e\u0442\u0443\u0445, \u0442\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442\u044c \u043d\u0435 \u0431\u0443\u0434\u0443\u0442. \u0422\u043e\u0433\u0434\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u044d\u0442\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b (\u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f httpie):</p> <pre><code>http POST 'http://localhost:8000/api/auth/refresh/' refresh_token=946cd6498df1de4bb24d0fc63286b01341265b3e\n</code></pre> <p>\u041f\u0440\u0438\u043c\u0435\u0440 \u043e\u0442\u0432\u0435\u0442\u0430:</p> <pre><code>{\n    \"access_token\": \"227b68233b26ab16239db556a267a4f849fd882c\",\n    \"access_token_expires\": 86400,\n    \"result\": true\n}\n</code></pre> <p>\u041f\u0440\u0438 \u044d\u0442\u043e\u043c, \u0435\u0441\u043b\u0438 refresh-\u0442\u043e\u043a\u0435\u043d \u043f\u0440\u043e\u0442\u0443\u0445, \u0442\u043e \u043e\u0442\u0432\u0435\u0442 \u0431\u0443\u0434\u0435\u0442:</p> <pre><code>{\n    \"result\": false\n}\n</code></pre> <p>\u0422\u0430\u043a\u0436\u0435, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0442\u043e\u043a\u0435\u043d\u044b \u0441 \u0431\u044d\u043a\u0435\u043d\u0434\u0430 (\u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0432\u044b\u0445\u043e\u0434), \u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0443 (\u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f httpie):</p> <pre><code>http POST 'http://localhost:8000/api/auth/logout/' 'Authorization: Bearer 227b68233b26ab16239db556a267a4f849fd882c'\n</code></pre> <p>\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0443\u0441\u043f\u0435\u0445\u0430 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u0432\u0435\u0442:</p> <pre><code>{\n    \"result\": true\n}\n</code></pre> <p>\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0443\u0434\u0430\u0447\u0438 \u0431\u0443\u0434\u0435\u0442 \u0441\u0442\u0430\u0442\u0443\u0441-\u043a\u043e\u0434 <code>401 Unauthorized</code>.</p>"},{"location":"packages/garpix_auth/","title":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f (\u0443\u0441\u0442\u0430\u0440\u0435\u043b)","text":"<p>Auth module for Django/DRF projects. Part of GarpixCMS.</p> <p>Used packages: </p> <ul> <li>django rest framework</li> <li>social-auth-app-django</li> <li>django-rest-framework-social-oauth2</li> <li>etc; see setup.py</li> </ul>"},{"location":"packages/garpix_auth/#quickstart","title":"Quickstart","text":"<p>Install with pip:</p> <pre><code>pip install garpix_auth\n</code></pre> <p>Add the <code>garpix_auth</code> to your <code>INSTALLED_APPS</code>:</p> <pre><code># settings.py\n\nINSTALLED_APPS = [\n    # ...\n    'garpix_auth',\n]\n</code></pre> <p>Add to <code>urls.py</code>:</p> <pre><code>from garpix_auth.views import LogoutView, LoginView\n\nurlpatterns = [\n    # ...\n    path('logout/', LogoutView.as_view(url='/'), name=\"logout\"),\n    path('login/', LoginView.as_view(), name=\"authorize\"),\n    # ...\n]\n</code></pre> <p>For custom auth with phone and email use this in <code>settings.py</code>:</p> <pre><code>AUTHENTICATION_BACKENDS = (\n    # Django\n    'garpix_auth.models.CustomAuthenticationBackend',\n    'django.contrib.auth.backends.ModelBackend',\n)\n</code></pre>"},{"location":"packages/garpix_auth/#with-django-rest-framework","title":"With Django Rest Framework","text":"<p>Add this for SPA:</p> <pre><code>INSTALLED_APPS += [\n    # ...\n    'rest_framework',\n    'rest_framework.authtoken',\n    'oauth2_provider',\n    'social_django',\n    'rest_framework_social_oauth2',\n    # ...\n]\n\nREST_FRAMEWORK = {\n    'DEFAULT_AUTHENTICATION_CLASSES': (\n        'garpix_auth.rest.authentication.MainAuthentication',\n        'oauth2_provider.contrib.rest_framework.OAuth2Authentication',\n        'rest_framework_social_oauth2.authentication.SocialAuthentication',\n    ),\n    'DEFAULT_SCHEMA_CLASS': 'drf_spectacular.openapi.AutoSchema',\n}\n\nAUTHENTICATION_BACKENDS = (\n    # Only your social networks\n    'social_core.backends.google.GoogleOAuth2',\n    'social_core.backends.twitter.TwitterOAuth',\n    'social_core.backends.vk.VKOAuth2',\n    'social_core.backends.facebook.FacebookAppOAuth2',\n    'social_core.backends.facebook.FacebookOAuth2',\n    # Django\n    'rest_framework_social_oauth2.backends.DjangoOAuth2',\n    'django.contrib.auth.backends.ModelBackend',\n)\n\nSOCIAL_AUTH_PIPELINE = (\n    'social_core.pipeline.social_auth.social_details',\n    'social_core.pipeline.social_auth.social_uid',\n    'social_core.pipeline.social_auth.auth_allowed',\n    'social_core.pipeline.social_auth.social_user',\n    'social_core.pipeline.user.get_username',\n    'social_core.pipeline.social_auth.associate_by_email',\n    'social_core.pipeline.user.create_user',\n    'social_core.pipeline.social_auth.associate_user',\n    'social_core.pipeline.social_auth.load_extra_data',\n    'social_core.pipeline.user.user_details'\n)\n\n</code></pre> <p>Add to <code>urls.py</code>:</p> <pre><code>from django.urls import path, include\n\nurlpatterns = [\n    # ...\n    path('api/auth/', include(('garpix_auth.urls', 'garpix_auth'), namespace='garpix_auth')),\n    # ...\n]\n</code></pre> <p>See <code>garpix_auth/tests/test_api.py</code> for examples.</p>"},{"location":"packages/garpix_company/","title":"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438","text":"<p>Company module for Django/DRF projects.</p>"},{"location":"packages/garpix_company/#quickstart","title":"Quickstart","text":"<p>Install with pip:</p> <pre><code>pip install garpix_company\n</code></pre> <p>Add the <code>garpix_company</code> to your <code>INSTALLED_APPS</code>:</p> <pre><code># settings.py\n\n# ...\nINSTALLED_APPS = [\n    # ...\n    'garpix_company',\n]\n</code></pre> <p>and to migration modules:</p> <pre><code># settings.py\n\n# ...\nMIGRATION_MODULES = {\n    'garpix_company': 'app.migrations.garpix_company',\n}\n</code></pre> <p>Add to <code>urls.py</code>:</p> <pre><code>\n# ...\nurlpatterns = [\n    # ...\n    # garpix_company\n    path('', include(('garpix_company.urls', 'garpix_company'), namespace='garpix_company')),\n\n]\n</code></pre> <p>Add Company model to your project using abstract <code>AbstractCompany</code> from the model:</p> <pre><code>from garpix_company.models import AbstractCompany\n\n\nclass Company(AbstractCompany):\n    pass\n\n</code></pre> <p>Add UserCompanyRole model to your project using abstract <code>AbstractUserCompanyRole</code> from the model:</p> <pre><code>from garpix_company.models import AbstractUserCompanyRole\n\n\nclass UserCompanyRole(AbstractUserCompanyRole):\n    pass\n\n\n</code></pre> <p>Add <code>GARPIX_COMPANY_MODEL</code> and <code>GARPIX_COMPANY_ROLE_MODEL</code> to <code>settings.py</code>:</p> <pre><code># settings.py\n\nGARPIX_COMPANY_MODEL = 'app.Company'\nGARPIX_COMPANY_ROLE_MODEL = 'app.UserCompanyRole'\n\n</code></pre> <p>Use <code>CompanyAdmin</code> as base in your admin panel:</p> <pre><code>from django.contrib import admin\n\nfrom app.models import Company\nfrom garpix_company.admin import CompanyAdmin\n\n\n@admin.register(Company)\nclass CompanyAdmin(CompanyAdmin):\n    pass\n\n</code></pre>"},{"location":"packages/garpix_company/#invite-and-create-user","title":"Invite and create user","text":"<p>You can add fields to <code>company_invite/create_and_invite</code> endpoint.  </p> <p>To do it override <code>CreateAndInviteToCompanySerializer</code> by adding field and add it to <code>settings</code>:</p> <pre><code># settings.py\n\nGARPIX_COMPANY_CREATE_AND_INVITE_SERIALIZER = 'app.serializers.CustomInviteCompanySerializer'\n\n</code></pre> <pre><code># app.serializers.py\n\nfrom rest_framework import serializers\n\nfrom garpix_company.serializers import CreateAndInviteToCompanySerializer\n\n\nclass CustomInviteCompanySerializer(CreateAndInviteToCompanySerializer):\n    username = serializers.CharField(write_only=True)\n\n    class Meta(CreateAndInviteToCompanySerializer.Meta):\n        fields = CreateAndInviteToCompanySerializer.Meta.fields + ('username',)\n\n\n</code></pre> <p>You also can override <code>UserSerializer</code> and <code>CompanyRoleSerializer</code> to add custom fields to <code>user</code> and <code>role</code> fields of <code>/company/{pk}/user/</code> endpoints:</p> <pre><code># settings.py\n\nGARPIX_COMPANY_USER_SERIALIZER = 'app.serializers.UserSerializer'\nGARPIX_COMPANY_ROLE_SERIALIZER = 'app.serializers.CompanyRoleSerializer'\n\n</code></pre>"},{"location":"packages/garpix_company/#companies-count-limit","title":"Companies count limit","text":"<p>If you need to add some limitations on companies count the user can be a part of, you can override <code>check_user_companies_limit</code> class method of <code>Company</code> class:</p> <pre><code>from garpix_company.models import AbstractCompany, UserCompany\n\n\nclass Company(AbstractCompany):\n\n    @classmethod\n    def check_user_companies_limit(cls, user):\n        return UserCompany.objects.filter(user=user).count() &lt; 1\n\n</code></pre> <p>See <code>garpix_company/tests/test_company.py</code> for examples.</p>"},{"location":"packages/garpix_menu/","title":"\u041c\u0435\u043d\u044e","text":"<p>Customizable menus for garpix_page.</p>"},{"location":"packages/garpix_menu/#quickstart","title":"Quickstart","text":"<p>First, install and set up garpix_page.</p> <p>Install with pip:</p> <pre><code>pip install garpix_menu\n</code></pre> <p>Add the <code>garpix_menu</code> and dependency packages to your <code>INSTALLED_APPS</code>:</p> <pre><code># settings.py\n\nINSTALLED_APPS = [\n    # ...\n    'garpix_menu',\n]\n\n</code></pre> <p>Package not included migrations, set path to migration directory. Don't forget create this directory (<code>app/migrations/garpix_page/</code>) and place empty <code>__init__.py</code>:</p> <pre><code>app/migrations/\napp/migrations/__init__.py  # empty file\napp/migrations/garpix_menu/__init__.py  # empty file\n</code></pre> <p>Add path and other settings:</p> <pre><code># settings.py\n\nMIGRATION_MODULES = {\n    'garpix_menu': 'app.migrations.garpix_menu',\n}\n\nTEMPLATES = [\n    {\n        # ...\n        'OPTIONS': {\n            'context_processors': [\n                # ...\n                'garpix_menu.context_processors.menu_processor',\n            ],\n        },\n    },\n]\n</code></pre> <p>Run make migrations:</p> <pre><code>python manage.py makemigrations\n</code></pre> <p>Migrate:</p> <pre><code>python manage.py migrate\n</code></pre>"},{"location":"packages/garpix_menu/#example","title":"Example","text":"<p>Set up your custom menus in <code>settings.py</code>, for example:</p> <pre><code># settings.py\n\nMENU_TYPE_HEADER_MENU = 'header_menu'\nMENU_TYPE_FOOTER_MENU = 'footer_menu'\n\nMENU_TYPES = {\n    MENU_TYPE_HEADER_MENU: {\n        'title': 'Header menu',\n    },\n    MENU_TYPE_FOOTER_MENU: {\n        'title': 'Footer menu',\n    },\n}\n\nCHOICE_MENU_TYPES = [(k, v['title']) for k, v in MENU_TYPES.items()]\n</code></pre> <p>Example template for default menu:</p> <pre><code># templates/menus/default.html\n\n{% for menu_item in menu %}\n&lt;a {% if menu_item.target_blank %}target=\"_blank\" {% endif %}\n   href=\"{{ menu_item.get_link }}\"&gt;{{ menu_item.title }}&lt;/a&gt;\n{% if not forloop.last %}|{% endif %}\n{% endfor %}\n</code></pre> <p>Example with all templates:</p> <pre><code># templates/base.html\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    {% include 'garpix_page/seo.html' %}\n    &lt;link href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\" rel=\"stylesheet\"\n          crossorigin=\"anonymous\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n{% include 'include/header.html' %}\n\n&lt;main class=\"container\"&gt;\n    {% block content %}\n    {% endblock %}\n&lt;/main&gt;\n\n{% include 'include/footer.html' %}\n&lt;/body&gt;\n&lt;/html&gt;\n\n# templates/pages/default.html\n\n{% extends 'base.html' %}\n\n{% block content %}\n&lt;h1&gt;{{object.title}}&lt;/h1&gt;\n&lt;div&gt;\n    {{object.content|safe}}\n&lt;/div&gt;\n{% endblock %}\n\n# templates/include/header.html\n\n&lt;nav class=\"navbar navbar-expand-md navbar-dark bg-dark\"&gt;\n    &lt;div class=\"container-fluid\"&gt;\n        &lt;a class=\"navbar-brand\" href=\"/\"&gt;My Site&lt;/a&gt;\n        &lt;button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarsExampleDefault\"\n                aria-controls=\"navbarsExampleDefault\" aria-expanded=\"false\" aria-label=\"Toggle navigation\"&gt;\n            &lt;span class=\"navbar-toggler-icon\"&gt;&lt;/span&gt;\n        &lt;/button&gt;\n\n        &lt;div class=\"collapse navbar-collapse\" id=\"navbarsExampleDefault\"&gt;\n            {% include 'menus/header_menu.html' with menu=menus.header_menu %}\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/nav&gt;\n\n# templates/include/footer.html\n\n&lt;style&gt;\n    /* Sticky footer styles\n    -------------------------------------------------- */\n    html {\n        position: relative;\n        min-height: 100%;\n    }\n\n    body {\n        margin-bottom: 60px; /* Margin bottom by footer height */\n    }\n\n    .footer {\n        position: absolute;\n        bottom: 0;\n        width: 100%;\n        height: 60px; /* Set the fixed height of the footer here */\n        line-height: 60px; /* Vertically center the text there */\n        background-color: #f5f5f5;\n    }\n\n&lt;/style&gt;\n\n&lt;footer class=\"footer\"&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;span class=\"text-muted\"&gt;\n            {% include 'menus/footer_menu.html' with menu=menus.footer_menu %}\n        &lt;/span&gt;\n    &lt;/div&gt;\n&lt;/footer&gt;\n\n# templates/menus/header_menu.html\n\n&lt;ul class=\"navbar-nav me-auto mb-2 mb-md-0\"&gt;\n    {% for menu_item in menu %}\n    &lt;li class=\"nav-item\"&gt;\n        &lt;a class=\"nav-link {% if menu_item.is_current %}active{% endif %}\" aria-current=\"page\"\n           {% if menu_item.target_blank %}target=\"_blank\" {% endif %}\n           href=\"{{ menu_item.get_link }}\"&gt;{{ menu_item.title }}&lt;/a&gt;\n    &lt;/li&gt;\n    {% endfor %}\n&lt;/ul&gt;\n\n# templates/menus/footer_menu.html\n\n{% for menu_item in menu %}\n&lt;a {% if menu_item.target_blank %}target=\"_blank\" {% endif %}\n   href=\"{{ menu_item.get_link }}\"&gt;{{ menu_item.title }}&lt;/a&gt;\n{% if not forloop.last %}|{% endif %}\n{% endfor %}\n\n</code></pre> <p>Now you can auth in admin panel and starting add menus and pages.</p>"},{"location":"packages/garpix_notify/","title":"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f","text":""},{"location":"packages/garpix_notify/#quickstart","title":"Quickstart","text":"<p>Install with pip:</p> <pre><code>pip install garpix_notify\n</code></pre> <p>Add the <code>garpix_notify</code> and dependencies to your <code>INSTALLED_APPS</code>:</p> <pre><code># settings.py\n\nINSTALLED_APPS = [\n    # ...\n    'fcm_django',\n    'garpix_notify',\n]\n\nFCM_DJANGO_SETTINGS = {\n        \"APP_VERBOSE_NAME\": \"Firebase Cloud Messaging\",\n        \"FCM_SERVER_KEY\": \"[your api key]\",\n        \"ONE_DEVICE_PER_USER\": False,\n        \"DELETE_INACTIVE_DEVICES\": False,\n}\n\n</code></pre> <p>Package not included migrations, set path to migration directory. Don't forget create this directory (<code>app/migrations/garpix_notify/</code>) and place empty <code>__init__.py</code>:</p> <pre><code>app/migrations/\napp/migrations/__init__.py  # empty file\napp/migrations/garpix_notify/__init__.py  # empty file\n</code></pre> <p>Add path to settings:</p> <pre><code># settings.py\n\nMIGRATION_MODULES = {\n    'garpix_notify': 'app.migrations.garpix_notify',\n}\n</code></pre> <p>Add mixin to settings:</p> <pre><code># settings.py\nGARPIX_NOTIFY_MIXIN = 'app.models.notify_mixin.NotifyMixin'\n</code></pre> <p>Create your custom user model and add <code>AUTH_USER_MODEL</code> to <code>app/settings.py</code>:</p> <pre><code>AUTH_USER_MODEL = 'user.User'\n</code></pre> <p>Run make migrations:</p> <pre><code>python manage.py makemigrations\n</code></pre> <p>Migrate:</p> <pre><code>python manage.py migrate\n</code></pre>"},{"location":"packages/garpix_notify/#example","title":"Example","text":""},{"location":"packages/garpix_notify/#step-1-set-notify-types-in-appsettingspy-for-example","title":"Step 1. Set notify types in <code>app/settings.py</code>, for example:","text":"<pre><code>REGISTRATION_EVENT = 1\nFEEDBACK_EVENT = 2\nEXAMPLE_EVENT_1 = 3\nEXAMPLE_EVENT_2 = 4\n\n\nNOTIFY_EVENTS = {\n    REGISTRATION_EVENT: {\n        'title': 'Register',\n    },\n    FEEDBACK_EVENT: {\n        'title': 'Feeback',\n    },\n    EXAMPLE_EVENT_1: {\n        'title': 'Example 1',\n    },\n    EXAMPLE_EVENT_2: {\n        'title': 'Example 2',\n    },\n}\n\nCHOICES_NOTIFY_EVENT = [(k, v['title']) for k, v in NOTIFY_EVENTS.items()]\n\n</code></pre>"},{"location":"packages/garpix_notify/#step-2-import-default-settings-in-your-appsettingspy","title":"Step 2. Import default settings in your <code>app/settings.py</code>","text":"<pre><code>\n    from garpix_notify.settings import *\n</code></pre> <p>or copy from here if you want more customization</p> <pre><code>PERIODIC_SENDING = 60\nEMAIL_MAX_DAY_LIMIT = 240\nEMAIL_MAX_HOUR_LIMIT = 240\n# SMS\nSMS_URL_TYPE = 0\nSMS_API_ID = 1234567890\nSMS_LOGIN = ''\nSMS_PASSWORD = ''\nSMS_FROM = ''\n# CALL\nCALL_URL_TYPE = 0\nCALL_API_ID = 1234567890\nCALL_LOGIN = ''\nCALL_PASSWORD = ''\n# TELEGRAM\nTELEGRAM_API_KEY = '000000000:AAAAAAAAAA-AAAAAAAA-_AAAAAAAAAAAAAA'\nTELEGRAM_BOT_NAME = 'MySuperBot'\nTELEGRAM_WELCOME_TEXT = 'Hello'\nTELEGRAM_HELP_TEXT = '/set !help for HELP'\nTELEGRAM_BAD_COMMAND_TEXT = 'Incorrect command format'\nTELEGRAM_SUCCESS_ADDED_TEXT = 'Success'\nTELEGRAM_FAILED_ADDED_TEXT = 'Failed'\nTELEGRAM_PARSE_MODE = None\nTELEGRAM_DISABLE_NOTIFICATION = False\nTELEGRAM_DISABLE_PAGE_PREVIEW = False\nTELEGRAM_SENDING_WITHOUT_REPLY = False\nTELEGRAM_TIMEOUT = None\n# VIBER\nVIBER_API_KEY = '000000000:AAAAAAAAAA-AAAAAAAA-_AAAAAAAAAAAAAA'\nVIBER_BOT_NAME = 'MySuperViberBot'\nVIBER_WELCOME_TEXT = 'Hello'\nVIBER_SUCCESS_ADDED_TEXT = 'Success'\nVIBER_FAILED_ADDED_TEXT = 'Failed'\nVIBER_TEXT_FOR_NEW_SUB = 'HI!'\n# WHATSAPP\nIS_WHATS_APP_ENABLED = True\nWHATS_APP_AUTH_TOKEN = None\nWHATS_APP_ACCOUNT_SID = None\nWHATS_APP_NUMBER_SENDER = None\n# SETTINGS\nEMAIL_MALLING = 1\nGARPIX_NOTIFY_MIXIN = 'garpix_notify.mixins.notify_mixin.NotifyMixin'\nNOTIFY_USER_WANT_MESSAGE_CHECK = None\nNOTIFY_CALL_CODE_CHECK = None\nGARPIX_NOTIFY_CELERY_SETTINGS = 'app.celery.app'\nDEFAULT_SYSTEM_NOTIFY_TYPE = 'system'\n\n</code></pre>"},{"location":"packages/garpix_notify/#step-3-go-to-the-admin-panel-and-go-to-the-notifications-section-smtp-accounts","title":"Step 3. Go to the admin panel and go to the \"Notifications\" section - \"SMTP accounts\"","text":"<p>Add an SMTP account to send Email notifications. These will be the senders of Email notifications.</p>"},{"location":"packages/garpix_notify/#step-4-also-go-to-notifications-categories","title":"Step 4. Also go to \"Notifications\" - \"Categories\"","text":"<p>Create a category that will be used to send emails. Usually one category is enough. The ability to enter several categories is necessary to divide them into informational and marketing notifications.</p>"},{"location":"packages/garpix_notify/#step-4-go-to-notifications-templates","title":"Step 4. Go to \"Notifications\" - \"Templates\"","text":"<p>Create a template for a specific event (when you added them to <code>settings.py</code>).</p>"},{"location":"packages/garpix_notify/#step-5-call-notifysend","title":"Step 5. Call Notify.send()","text":"<p>In the code where it is necessary to work out sending a notification, we perform the following actions:</p> <pre><code>import datetime\nfrom django.conf import settings\nfrom garpix_notify.models import Notify\n\n# Syntax\n# Notify.send(&lt;event&gt;, &lt;context&gt;[, &lt;user=None&gt;, &lt;email=None&gt;, &lt;phone=None&gt;, &lt;files=None&gt;, &lt;data_json=None&gt;])\n# That is, we specify the event ID as the first parameter,\n# create variables for the template,\n# third - the user to send it to (it is not necessary to specify his email, phone number, etc.,\n# because this will be determined automatically depending on the type of template)   \n\n# Example\nuser = request.user  # this will be the recipient of the notification.\n\nNotify.send(settings.REGISTRATION_EVENT, {\n    'confirmation_code': 'abcdef12345',\n}, user=user)\n\n# If we do not have a user in the system, but we need to send an email, we can do the following\n\nNotify.send(settings.EXAMPLE_EVENT_1, {\n    'confirmation_code': 'abcdef12345',\n}, email='example@mail.ru')\n\n# If you need more detailed time settings, add send_at\n\nNotify.send(settings.EXAMPLE_EVENT_1, {\n    'confirmation_code': 'abcdef12345',\n}, email='example@mail.ru', send_at=(datetime.datetime.now() + datetime.timedelta(days=1)))\n\n# If you need to send a code by phone call\nNotify.send(settings.EXAMPLE_EVENT_2, phone='79998881122', context={})\n\n# or if you need to get the code directly\nNotify.call(phone=79998881122)\n\n\n</code></pre>"},{"location":"packages/garpix_notify/#mass-email-and-sms-mailing","title":"Mass email and sms mailing:","text":"<p>To perform a mass mailing, you need to add user lists to the template. Or directly in the notification.</p>"},{"location":"packages/garpix_notify/#new-system-notifications","title":"New system Notifications:","text":"<p>Now system notifications are placed in an independent model.  It is not necessary to create templates for them.  Mass mailing is also available.</p> <pre><code>from django.conf import settings\nfrom garpix_notify.models import SystemNotify\nfrom django.contrib.auth import get_user_model\n\n# 1. Example of use without templates\nUser = get_user_model()\nuser = User.objects.filter().first()\nSystemNotify.send({'test': 'data'}, user)\n\n# 2. Example of using a template\nSystemNotify.send({'test': 'data'}, event=settings.EXAMPLE_EVENT_2)\n</code></pre>"},{"location":"packages/garpix_notify/#do-not-forget-run-celery","title":"Do not forget run celery:","text":"<pre><code>celery -A app worker --loglevel=info -B\n</code></pre>"},{"location":"packages/garpix_notify/#telegram-notify","title":"Telegram Notify","text":"<p>Register you bot https://t.me/BotFather</p> <p>Go to http://localhost:8000/admin/garpix_notify/notifyconfig/ and fill \"Telegram\" section (<code>API key</code> and <code>Bot name</code>).</p> <p>Run daemon:</p> <pre><code>python3 backend/manage.py garpix_notify_telegram\n</code></pre> <p>Go to your bot and send <code>/start</code> command.</p> <p>Also, see <code>user/admin.py</code> file (see instructions):</p> <pre><code>from django.contrib import admin\nfrom .models import User\nfrom django.contrib.auth.admin import UserAdmin\n\n\n@admin.register(User)\nclass UserAdmin(UserAdmin):\n    fieldsets = (\n        ('Telegram', {\n            'fields': ('telegram_chat_id', 'telegram_secret', 'get_telegram_connect_user_help'),\n        })\n    ) + UserAdmin.fieldsets\n    readonly_fields = ['telegram_secret', 'get_telegram_connect_user_help'] + list(UserAdmin.readonly_fields)\n</code></pre>"},{"location":"packages/garpix_notify/#system-ws-notify","title":"System ws Notify","text":"<p>Add the <code>channels</code> to your <code>INSTALLED_APPS</code>:</p> <pre><code># settings.py\n\nINSTALLED_APPS = [\n    # ...\n    'channels',\n]\n</code></pre> <p>Add the <code>REDIS_HOST</code> and <code>REDIS_PORT</code> variables and <code>asgi</code> and <code>channels</code> configurations:</p> <pre><code># settings.py\n\nREDIS_HOST = os.getenv('REDIS_HOST', 'localhost')\nREDIS_PORT = os.getenv('REDIS_PORT', 6379)\n\n...\n\nASGI_APPLICATION = 'app.asgi.application'\nCHANNEL_LAYERS = {\n    'default': {\n        'BACKEND': 'channels_redis.core.RedisChannelLayer',\n        'CONFIG': {\n            \"hosts\": [(REDIS_HOST, REDIS_PORT)],\n        },\n    },\n}\n</code></pre> <p>Edit your <code>asgi.py</code> file</p> <pre><code>import os\nfrom channels.auth import AuthMiddlewareStack\nfrom channels.routing import ProtocolTypeRouter, URLRouter\nfrom django.core.asgi import get_asgi_application\nfrom garpix_notify import routing\n\n\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'app.settings')\n\napplication = ProtocolTypeRouter({\n  \"http\": get_asgi_application(),\n  \"websocket\": AuthMiddlewareStack(\n        URLRouter(\n            routing.websocket_urlpatterns\n        )\n    ),\n})\n</code></pre> <p>Socket notification example</p> <pre><code>group_name = f'workflow-{user.pk}'\nNotify.send(settings.MY_NOTIFY, {\n        'message': 'my message',\n    }, room_name=group_name, user=user)\n</code></pre> <p>For notifications of the SYSTEM type, a separate non-periodic task is used that works instantly, if room_name is missing system messages will be sent in <code>'room_{id}'</code> where <code>'id'</code> is user id</p>"},{"location":"packages/garpix_page/","title":"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b","text":"<p>Convenient page structure with any context and template. It is suitable not only for a blog, but also for large sites with a complex presentation. Supports SEO.</p>"},{"location":"packages/garpix_page/#quickstart","title":"Quickstart","text":"<p>Install with pip:</p> <pre><code>pip install garpix_page\n</code></pre> <p>Add the <code>garpix_page</code> and dependency packages to your <code>INSTALLED_APPS</code>:</p> <pre><code># settings.py\n\nINSTALLED_APPS = [\n    'modeltranslation',\n    'polymorphic_tree',\n    'polymorphic',\n    'mptt',\n    # ... django.contrib.*\n    'django.contrib.sites',\n    'tabbed_admin',\n    'garpix_page',\n    # third-party and your apps\n]\n\nSITE_ID=1\n\nLANGUAGE_CODE = 'en'\nUSE_DEFAULT_LANGUAGE_PREFIX = False\n\nLANGUAGES = (\n    ('en', 'English'),\n)\n\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': ['templates'],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\nMIDDLEWARE = [\n    'django.middleware.locale.LocaleMiddleware'\n]\n\n</code></pre> <p>Package not included migrations, set path to migration directory. Don't forget create this directory (<code>app/migrations/garpix_page/</code>) and place empty <code>__init__.py</code>:</p> <pre><code>app/migrations/\napp/migrations/__init__.py  # empty file\napp/migrations/garpix_page/__init__.py  # empty file\n</code></pre> <p>Add path to settings:</p> <pre><code># settings.py\n\nMIGRATION_MODULES = {\n    'garpix_page': 'app.migrations.garpix_page',\n}\n</code></pre> <p>Run make migrations:</p> <pre><code>python manage.py makemigrations\n</code></pre> <p>Migrate:</p> <pre><code>python manage.py migrate\n</code></pre> <p>Add celery settings path to <code>settings.py</code>:</p> <pre><code>GARPIXCMS_CELERY_SETTINGS = 'app.celery.app'\n</code></pre> <p>Now, you can create your models from <code>BasePage</code> and set template and context. See example below.</p>"},{"location":"packages/garpix_page/#important","title":"Important","text":"<p>Page (Model Page) - model, subclass from <code>BasePage</code>. You create it yourself. There must be at least 1 descendant from BasePage.</p> <p>Context - includes <code>object</code> and <code>request</code>. It is a function that returns a dictionary from model instance. Values from the key dictionary can be used in the template.</p> <p>Template - standard Django template.</p>"},{"location":"packages/garpix_page/#example","title":"Example","text":"<p>Urls:</p> <pre><code># app/urls.py\n\nfrom django.contrib import admin\nfrom django.urls import path, re_path\nfrom django.conf.urls.i18n import i18n_patterns\nfrom garpix_page.views.page import PageView\nfrom multiurl import ContinueResolving, multiurl\nfrom django.http import Http404\nfrom django.conf import settings\nfrom garpix_page.views.index import IndexView\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n]\n\nurlpatterns += i18n_patterns(\n    multiurl(\n        path('', PageView.as_view()),\n        re_path(r'^(?P&lt;url&gt;.*?)$', PageView.as_view(), name='page'),\n        re_path(r'^(?P&lt;url&gt;.*?)/$', PageView.as_view(), name='page'),\n        path('', IndexView.as_view()),\n        catch=(Http404, ContinueResolving),\n    ),\n    prefix_default_language=settings.USE_DEFAULT_LANGUAGE_PREFIX,\n)\n\n</code></pre> <p>Models:</p> <pre><code># app/models/page.py\n\nfrom django.db import models\nfrom garpix_page.models import BasePage\n\n\nclass Page(BasePage):\n    content = models.TextField(verbose_name='Content', blank=True, default='')\n\n    template = 'pages/default.html'\n\n    class Meta:\n        verbose_name = \"Page\"\n        verbose_name_plural = \"Pages\"\n        ordering = ('-created_at',)\n\n\n# app/models/category.py\n\nfrom garpix_page.models import BasePage\n\n\nclass Category(BasePage):\n    template = 'pages/category.html'\n\n    def get_context(self, request=None, *args, **kwargs):\n        context = super().get_context(request, *args, **kwargs)\n        posts = Post.on_site.filter(is_active=True, parent=kwargs['object'])\n        context.update({\n            'posts': posts\n        })\n        return context\n\n    class Meta:\n        verbose_name = \"Category\"\n        verbose_name_plural = \"Categories\"\n        ordering = ('-created_at',)\n\n\n# app/models/post.py\n\nfrom django.db import models\nfrom garpix_page.models import BasePage\n\n\nclass Post(BasePage):\n    content = models.TextField(verbose_name='Content', blank=True, default='')\n\n    template = 'pages/post.html'\n\n    class Meta:\n        verbose_name = \"Post\"\n        verbose_name_plural = \"Posts\"\n        ordering = ('-created_at',)\n</code></pre> <p>Admins:</p> <pre><code># app/admin/__init__.py\n\nfrom .page import PageAdmin\nfrom .category import CategoryAdmin\nfrom .post import PostAdmin\n\n\n# app/admin/page.py\n\nfrom ..models.page import Page\nfrom django.contrib import admin\nfrom garpix_page.admin import BasePageAdmin\n\n\n@admin.register(Page)\nclass PageAdmin(BasePageAdmin):\n    pass\n\n# app/admin/category.py\n\nfrom ..models.category import Category\nfrom django.contrib import admin\nfrom garpix_page.admin import BasePageAdmin\n\n\n@admin.register(Category)\nclass CategoryAdmin(BasePageAdmin):\n    pass\n\n# app/admin/post.py\n\nfrom ..models.post import Post\nfrom django.contrib import admin\nfrom garpix_page.admin import BasePageAdmin\n\n\n@admin.register(Post)\nclass PostAdmin(BasePageAdmin):\n    pass\n\n</code></pre> <p>Translations:</p> <pre><code># app/translation/__init__.py\n\nfrom .page import PageTranslationOptions\nfrom .category import CategoryTranslationOptions\nfrom .post import PostTranslationOptions\n\n# app/translation/page.py\n\nfrom modeltranslation.translator import TranslationOptions, register\nfrom ..models import Page\n\n\n@register(Page)\nclass PageTranslationOptions(TranslationOptions):\n    fields = ('content',)\n\n\n# app/translation/category.py\n\nfrom modeltranslation.translator import TranslationOptions, register\nfrom ..models import Category\n\n\n@register(Category)\nclass CategoryTranslationOptions(TranslationOptions):\n    fields = []\n\n# app/translation/post.py\n\nfrom modeltranslation.translator import TranslationOptions, register\nfrom ..models import Post\n\n\n@register(Post)\nclass PostTranslationOptions(TranslationOptions):\n    fields = ('content',)\n\n</code></pre> <p>Templates:</p> <pre><code># templates/base.html\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    {% include 'garpix_page/seo.html' %}\n&lt;/head&gt;\n&lt;body&gt;\n{% include 'garpix_page/admin_toolbar.html' %}\n&lt;main&gt;\n    {% block content %}404{% endblock %}\n    {% block components %}\n        {% for component in components %}\n        {{ component.template }}\n        {% include component.template %}\n        {% endfor %}\n    {% endblock %}\n&lt;/main&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n\n# templates/pages/default.html\n\n{% extends 'base.html' %}\n\n{% block content %}\n&lt;h1&gt;{{object.title}}&lt;/h1&gt;\n&lt;div&gt;\n    {{object.content|safe}}\n&lt;/div&gt;\n{% endblock %}\n\n\n\n# templates/pages/category.html\n\n{% extends 'base.html' %}\n\n{% block content %}\n&lt;h1&gt;{{object.title}}&lt;/h1&gt;\n{% for post in posts %}\n    &lt;div&gt;\n        &lt;h3&gt;&lt;a href=\"{{post.get_absolute_url}}\"&gt;{{post.title}}&lt;/a&gt;&lt;/h3&gt;\n    &lt;/div&gt;\n{% endfor %}\n\n{% endblock %}\n\n\n\n# templates/pages/post.html\n\n{% extends 'base.html' %}\n\n{% block content %}\n&lt;h1&gt;{{object.title}}&lt;/h1&gt;\n&lt;div&gt;\n    {{object.content|safe}}\n&lt;/div&gt;\n{% endblock %}\n\n</code></pre> <p>Now you can auth in admin panel and starting add pages.</p> <p>If you need to use a serializer whose model is this page, use the get_serializer() method to avoid circular imports.</p>"},{"location":"packages/garpix_page/#page-permissions","title":"Page permissions","text":"<p>If you need to add login access to your model pages, add login_required static field to your model.</p> <p>To add some user permissions to page, add permissions  static field to your page model:</p> <pre><code>class Post(BasePage):\n    content = models.TextField(verbose_name='Content', blank=True, default='')\n\n    template = 'pages/post.html'\n\n    login_required = True\n    permissions = [IsAdminUser,]\n\n    class Meta:\n        verbose_name = \"Post\"\n        verbose_name_plural = \"Posts\"\n        ordering = ('-created_at',)\n\n</code></pre>"},{"location":"packages/garpix_page/#api","title":"API","text":"<p>You can use garpix_page with SPA sites.</p> <p>Add to settings API_URL parameter:</p> <pre><code>API_URL = 'api'\n</code></pre> <p>Add to <code>urls.py</code> this:</p> <pre><code>urlpatterns += [\n    re_path(r'{}/page_models_list/$'.format(settings.API_URL), PageApiListView.as_view()),\n    re_path(r'{}/page/(?P&lt;slugs&gt;.*)$'.format(settings.API_URL), PageApiView.as_view()),\n]\n</code></pre> <p>And you can test it:</p> <p><code>http://localhost:8000/api/page/</code> - home page (empty slug) <code>http://localhost:8000/api/page/another_page</code> - another page (slug) <code>http://localhost:8000/api/page/kategoriya/post-1</code> - sub page (slug)</p> <p>Example answer:</p> <pre><code>{\n    \"page_model\": \"Post\",\n    \"init_state\": {\n        \"object\": {\n            \"id\": 4,\n            \"title\": \"post 1\",\n            \"title_en\": \"post 1\",\n            \"is_active\": true,\n            \"display_on_sitemap\": true,\n            \"slug\": \"post-1\",\n            \"created_at\": \"2021-06-21T19:39:49.749460Z\",\n            \"updated_at\": \"2021-06-21T19:39:49.749488Z\",\n            \"seo_title\": \"\",\n            \"seo_title_en\": null,\n            \"seo_keywords\": \"\",\n            \"seo_keywords_en\": null,\n            \"seo_description\": \"\",\n            \"seo_description_en\": \"\",\n            \"seo_author\": \"\",\n            \"seo_author_en\": null,\n            \"seo_og_type\": \"website\",\n            \"seo_image\": null,\n            \"lft\": 2,\n            \"rght\": 3,\n            \"tree_id\": 3,\n            \"level\": 1,\n            \"content\": \"example\",\n            \"content_en\": \"example\",\n            \"polymorphic_ctype\": 11,\n            \"parent\": 3,\n            \"sites\": [\n                1\n            ]\n        }\n    }\n}\n</code></pre>"},{"location":"packages/garpix_page/#error-contexts","title":"Error contexts","text":"<p>Module consists of 3 reserved names for page models: <code>Page404</code>, <code>Page403</code> and <code>Page401</code>. These names are used for responses when corresponding error statuses are caught. Example answer on not found error:</p> <pre><code>{\n    \"page_model\": \"Page404\",\n    \"init_state\": {\n        \"object\": null,\n        \"global\": {}\n    }\n}\n</code></pre> <p>To add drf paginated list of objects to your page context use <code>GarpixPagePagination</code> class:</p> <pre><code>     # example\nfrom garpix_page.models import BasePage\nfrom garpix_page.pagination import GarpixPagePagination\n\nclass Post(BasePage):\n    ...\n\n    def get_context(self, request=None, *args, **kwargs):\n\n        ...\n        # get your_objects_list\n        # import objects serializer class YourObjectsSerializer\n        ...\n\n        paginator = GarpixPagePagination()\n\n        paginated_list = paginator.get_paginated_data(queryset=your_objects_list, serializer=YourObjectsSerializer,\n                                                       request=request)\n        context = {\n            'paginated_list': paginated_list\n        }\n ```\n\n# Components\n\nIt is possible to compose a page from components. You can do this in the same way as creating pages.\n\nModel\n\n```python\n# app/models/components.py\nfrom django.db import models\n\nfrom garpix_page.models import BaseComponent\n\nclass TextComponent(BaseComponent):\n    text = models.TextField(verbose_name='\u0422\u0435\u043a\u0441\u0442')\n\n    class Meta:\n        verbose_name = '\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442'\n        verbose_name_plural = '\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b'\n\n    def get_context_data(self, request):  # add overriding this method to customize component's context\n        context = super().get_context_data(request)\n        return context\n\n</code></pre> <p>Admin</p> <pre><code># app/admin/components.py\nfrom django.contrib import admin\n\nfrom garpix_page.admin.components.base_component import BaseComponentAdmin\nfrom app.models import TextComponent\n\n\n@admin.register(TextComponent)\nclass TextComponentAdmin(BaseComponentAdmin):\n    pass\n\n</code></pre> <p>Translations:</p> <pre><code># app/translation/components.py\n\nfrom modeltranslation.translator import TranslationOptions, register\nfrom app.models import TextComponent\n\n\n@register(TextComponent)\nclass TextComponentTranslationOptions(TranslationOptions):\n    fields = ('text',)\n\n\n</code></pre> <p>BaseComponent has m2m field <code>pages</code> to specify on which pages the component should be displayed. Through table also has <code>view_order</code> field to specify the ordering of components at the page (ascending order). You can override <code>get_context_data</code> method to add some info to component context.</p> <p>Example answer with some components:</p> <pre><code>{\n    \"page_model\": \"Page\",\n    \"init_state\": {\n        \"object\": {\n            \"id\": 1,\n            \"title\": \"page\",\n            \"title_en\": \"page\",\n            \"is_active\": true,\n            \"display_on_sitemap\": true,\n            \"slug\": \"page\",\n            \"created_at\": \"2022-02-28T15:33:26.083166Z\",\n            \"updated_at\": \"2022-04-12T07:45:34.695803Z\",\n            \"seo_title\": \"\",\n            \"seo_title_en\": null,\n            \"seo_keywords\": \"\",\n            \"seo_keywords_en\": null,\n            \"seo_description\": \"\",\n            \"seo_description_en\": \"\",\n            \"seo_author\": \"\",\n            \"seo_author_en\": null,\n            \"seo_og_type\": \"website\",\n            \"seo_image\": null,\n            \"lft\": 1,\n            \"rght\": 2,\n            \"tree_id\": 1,\n            \"level\": 0,\n            \"content\": \"\",\n            \"content_en\": \"\",\n            \"polymorphic_ctype\": 10,\n            \"parent\": null,\n            \"sites\": [\n                1\n            ],\n            \"components\": [\n                {\n                    \"component_model\": \"TextComponent\",\n                    \"object\": {\n                        \"id\": 1,\n                        \"title\": \"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u0431\u043b\u043e\u043a\",\n                        \"title_en\": \"Text block\",\n                        \"created_at\": \"2022-04-11T15:35:24.829579Z\",\n                        \"updated_at\": \"2022-04-11T15:37:09.898287Z\",\n                        \"text_title\": \"\",\n                        \"text\": \"\u0422\u0435\u043a\u0441\u0442\",\n                        \"text_en\": \"Text\",\n                        \"polymorphic_ctype\": 22,\n                        \"pages\": [\n                            1\n                        ]\n                    }\n                },\n                {\n                    \"component_model\": \"TextDescriptionComponent\",\n                    \"object\": {\n                        \"id\": 2,\n                        \"title\": \"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0443\u0431\u0440\u0438\u043a\u0438\",\n                        \"created_at\": \"2022-04-12T07:45:15.341862Z\",\n                        \"updated_at\": \"2022-04-12T07:45:15.341886Z\",\n                        \"text_title\": \"\",\n                        \"text\": \"\u0422\u0435\u043a\u0441\u0442\",\n                        \"description\": \"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\",\n                        \"polymorphic_ctype\": 21,\n                        \"pages\": [\n                            1\n                        ]\n                    }\n                }\n            ]\n        },\n        \"global\": {}\n    }\n}\n</code></pre> <p>Templates:</p> <p>If you want to override the base component template, add <code>template</code> parameter to component class:</p> <pre><code># app/models/components.py\n\nfrom garpix_page.models import BaseComponent\n\nclass TextComponent(BaseComponent):\n    # ...\n    template = 'text_component.html'\n    # ...\n\n</code></pre> <p>In html you can use <code>component</code> object:</p> <pre><code># templates/pages/components/default.html\n\n&lt;h1&gt;{{ component.title }}&lt;/h1&gt;\n</code></pre> <p>You can use <code>gx_component</code> tag in section with the component to add edit functionality for admin in template:</p> <pre><code>{% load gx_component %}\n&lt;section class=\"text-component\" {% gx_component component %}&gt;\n    ...\n&lt;/section&gt;\n</code></pre>"},{"location":"packages/garpix_page/#seo-templates","title":"Seo-templates","text":"<p>You can create seo-template from admin panel.  If you set <code>field</code> value to <code>Model title</code>, the template will be used for pages only for those model. In other cases the template will be used for pages with the <code>value</code> of the <code>field</code>.</p> <p>You can also specify the sites the template will be used on.</p> <p>You can add fields which will be used for template keys, using <code>get_seo_template_keys</code> method and <code>seo_template_keys_list</code> class method.</p> <pre><code>class Page(BasePage):\n    #...\n    def get_seo_template_keys(self):\n        seo_keys = super().get_seo_template_keys()\n        seo_keys.update({\n            'yourfield': self.yourfield\n        })\n        return seo_keys\n\n    @classmethod\n    def seo_template_keys_list(cls):\n        return [('yourfield', 'your field title')]\n</code></pre>"},{"location":"packages/garpix_page/#grapesjs","title":"Grapesjs","text":"<p>Grapesjs component implementation example:</p> <pre><code>const Grapesjs = ({ data }): React.ReactElement =&gt; {\n  const {css, js, object} = data;\n  useEffect(() =&gt; {\n    const jsId = `js_${object.id}`\n    const nodeScript = document.getElementById(jsId)\n    if(nodeScript === null) {\n      const script = document.createElement('script')\n      script.id = jsId\n      script.type = 'text/javascript'\n      script.src = js\n      document.body.appendChild(script)\n    }\n\n    const cssId = `css_${object.id}`\n    const nodeStyle = document.getElementById(cssId)\n    if(nodeStyle === null) {\n      const link = document.createElement('link')\n      link.id = cssId\n      link.rel = 'stylesheet'\n      link.href = css\n      document.body.appendChild(link)\n    }\n  }, [css, js])\n  const html = data.object.html\n  return (\n    &lt;div dangerouslySetInnerHTML={{__html: html}}&gt;&lt;/div&gt;\n  )\n}\n</code></pre> <p>\u0421omponent usage</p> <pre><code>{components.map((component) =&gt; {\n    return (\n        &lt;Grapesjs data={component} key={component.object.id} /&gt;\n    )\n})}\n</code></pre>"},{"location":"packages/garpix_page/#important_1","title":"Important!","text":"<p>Also, see this project for additional features (<code>BaseListPage</code>, <code>BaseSearchPage</code>, <code>sitemap.xml</code>, etc).</p>"},{"location":"packages/garpix_page/#todo","title":"TODO","text":"<ul> <li>Add information about GARPIX_PAGE_GLOBAL_CONTEXT</li> </ul>"},{"location":"packages/garpix_qa/","title":"Eqator","text":"<p>Checking the Django project for quality. It can be convenient if you include it in CI.</p> <p>Used packages: </p> <ul> <li>django unittest - unit testing in Django.</li> <li>flake8 - linter of source code.</li> <li>radon - tool that computes various metrics from the source code.</li> <li>bandit - a security linter from PyCQA.</li> <li>coverage - a test coverage for unittest.</li> </ul>"},{"location":"packages/garpix_qa/#quickstart","title":"Quickstart","text":"<p>Install with pip:</p> <pre><code>pip install eqator\n</code></pre> <p>Add the <code>eqator</code> to your <code>INSTALLED_APPS</code>:</p> <pre><code># settings.py\n\nINSTALLED_APPS = [\n    # ...\n    'eqator',\n]\n</code></pre> <p>To use Lighthouse scoring, install <code>Lighthouse CI</code> with <code>npm</code>:</p> <pre><code>npm install -g @lhci/cli\n</code></pre> <p>Check your project:</p> <pre><code>python manage.py qa\n</code></pre> <p>Check your project by separate options.</p> <p>Run checking style guide with flake8:</p> <pre><code>python manage.py qa -f\n</code></pre> <pre><code>python manage.py qa --flake\n</code></pre> <p>Run checking cyclomatic complexity with radon</p> <pre><code>python manage.py qa -r\n</code></pre> <pre><code>python manage.py qa --radon\n</code></pre> <p>Run security lint with bandit</p> <pre><code>python manage.py qa -l\n</code></pre> <pre><code>python manage.py qa --linter\n</code></pre> <p>Run django project migrations check</p> <pre><code>python manage.py qa -m\n</code></pre> <pre><code>python manage.py qa --migrations\n</code></pre> <p>Run django unittest</p> <pre><code>python manage.py qa -t\n</code></pre> <pre><code>python manage.py qa --tests\n</code></pre> <p>Run django unit tests for garpix_page</p> <pre><code>python manage.py qa -p\n</code></pre> <pre><code>python manage.py qa --garpix_page\n</code></pre> <p>Lighthouse CI check:</p> <p>(requires Lighthouse CI installed)</p> <pre><code>python manage.py qa -lh\n</code></pre> <pre><code>python manage.py qa --lighthouse\n</code></pre> <p>Run test coverage check</p> <pre><code>python manage.py qa -c\n</code></pre> <pre><code>python manage.py qa --test_coverage\n</code></pre> <p>Note, that you need to add <code>TEST_COVERAGE_RATE</code> variable to your <code>settings.py</code> file (default value is 70):</p> <pre><code>TEST_COVERAGE_RATE = 70\n</code></pre> <p>Optionally, do not save Lighthouse CI report files:</p> <pre><code>python manage.py qa --all --clear-reports\n</code></pre> <p>Check your project with all logs:</p> <pre><code>python manage.py qa --verbose\n</code></pre> <p>You can also add add <code>SENTRY_CHECK_METHOD</code> and <code>LIGHTHOUSE_CHECK_METHOD</code> variables to your <code>settings.py</code> file to controle the sentry SDK and lighthouse CI checking methods:</p> <pre><code># settings.py\nSENTRY_CHECK_METHOD = 'error'\nLIGHTHOUSE_CHECK_METHOD = 'warning'\n</code></pre>"},{"location":"packages/garpix_qa/#example-output-with-ok","title":"Example output with OK","text":"<pre><code>Input\n\n  Directory: /Users/aleksejkuznecov/projects/garpix_packages/eqator/backend\n  Start at: 2021-02-27 12:09:30.999142\n\nChecking\n\n  Checking style guide with flake8 (see \".flake8\") OK\n  Django unit tests OK\n  Cyclomatic complexity with radon (see \"radon.cfg\") OK\n  Security lint with bandit (only high-severity issues, see \".bandit\") OK\n\nResult\n\n  Problems found: 0\n  End at: 2021-02-27 12:09:33.789880\n  Duration: 0:00:02.790738\n\n</code></pre>"},{"location":"packages/garpix_qa/#example-output-with-problems","title":"Example output with problems","text":"<pre><code>Input\n\n  Directory: /Users/aleksejkuznecov/projects/garpix_packages/eqator/backend\n  Start at: 2021-02-27 12:23:41.066752\n\nChecking\n\n  Checking style guide with flake8 (see \".flake8\") ERROR\n/Users/aleksejkuznecov/projects/garpix_packages/eqator/backend/eqator/constants.py:18:4: W292 no newline at end of file\n/Users/aleksejkuznecov/projects/garpix_packages/eqator/backend/eqator/helpers.py:38:1: E302 expected 2 blank lines, found 1\n/Users/aleksejkuznecov/projects/garpix_packages/eqator/backend/eqator/colors.py:9:1: W391 blank line at end of file\n\n  Django unit tests OK\n  Cyclomatic complexity with radon (see \"radon.cfg\") OK\n  Security lint with bandit (only high-severity issues, see \".bandit\") ERROR\n[main]  INFO    Found project level .bandit file: /Users/aleksejkuznecov/projects/garpix_packages/eqator/backend/.bandit\n[main]  INFO    profile include tests: None\n[main]  INFO    cli include tests: None\n[main]  INFO    cli exclude tests: None\n[main]  INFO    running on Python 3.8.2\nRun started:2021-02-27 12:23:45.044503\n\nTest results:\n&gt;&gt; Issue: [B602:subprocess_popen_with_shell_equals_true] subprocess call with shell=True identified, security issue.\n   Severity: High   Confidence: High\n   Location: /Users/aleksejkuznecov/projects/garpix_packages/eqator/backend/eqator/helpers.py:39\n   More Info: https://bandit.readthedocs.io/en/latest/plugins/b602_subprocess_popen_with_shell_equals_true.html\n38      def shell_run(cmd):\n39          ps = subprocess.Popen(cmd, shell=True, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)\n40          lines = ps.communicate()[0]\n\n--------------------------------------------------\nCode scanned:\n        Total lines of code: 285\n        Total lines skipped (#nosec): 0\n\nRun metrics:\n        Total issues (by severity):\n                Undefined: 0.0\n                Low: 1.0\n                Medium: 0.0\n                High: 1.0\n        Total issues (by confidence):\n                Undefined: 0.0\n                Low: 0.0\n                Medium: 0.0\n                High: 2.0\nFiles skipped (0):\n\n\nResult\n\n  Problems found: 2\n  End at: 2021-02-27 12:23:45.098015\n  Duration: 0:00:04.031263\n\n</code></pre>"},{"location":"packages/garpix_qa/#configure-lighthouse-ci","title":"Configure Lighthouse CI","text":"<p>Edit <code>lighthouserc.json</code> to set URL and configure assertions. </p> <p>Reference: https://github.com/GoogleChrome/lighthouse-ci/blob/main/docs/configuration.md</p>"},{"location":"packages/garpix_qa/#configure-testcase-unit-tests","title":"Configure TestCase unit tests","text":"<p>Edit <code>testcaserc.json</code> to add configure options.</p> <p>All available configurations:</p> <ul> <li><code>apps</code> - list of apps must be tested;</li> <li><code>keepdb</code> - preserves the test DB between runs;</li> <li><code>top_level</code> - top level of project for unittest discovery;</li> <li><code>pattern</code> - the test matching pattern. Defaults to test*.py;</li> <li><code>reverse</code> - reverses test cases order;</li> <li><code>debug_sql</code> - sets settings.DEBUG to True;</li> <li><code>parallel</code> - run tests using up to N parallel processes;</li> <li><code>tags</code> - run only tests with the specified tag;</li> <li><code>exclude_tags</code> - do not run tests with the specified tag;</li> <li><code>pdb</code> - runs a debugger (pdb, or ipdb if installed) on error or failure;</li> <li><code>buffer</code> - discard output from passing tests;</li> <li><code>test_name_patterns</code> - Only run test methods and classes that match the pattern or substring</li> </ul> <p>Example:</p> <pre><code>{\n    \"apps\": [\"app\"],\n}\n</code></pre>"},{"location":"packages/garpix_qa/#send-report","title":"Send report","text":"<p>To send statistics you need to add <code>EQATOR_SEND_HOST</code>:</p> <pre><code># settings.py\n\nEQATOR_SEND_HOST = 'http://example.com/analytics/eqator/:project_name/'\n</code></pre> <pre><code>python manage.py qa --send\n</code></pre> <p>Data format</p> <pre><code>{\n  \"duration\": \"0:00:01.557757\",\n  \"start_at\": \"2022-09-20 11:56:41.230550\",\n  \"error_count\": 4,\n  \"flake_count\": 2,\n  \"radon_count\": 1,\n  \"sentry_count\": 0,\n  \"coverage_value\": 8,\n  \"coverage_result\": 0,\n  \"lighthouse_count\": 0,\n  \"migrations_count\": 1,\n  \"unit_tests_count\": 0,\n  \"security_linter_count\": 0,\n  \"garpix_page_tests_count\": 0\n}\n</code></pre>"},{"location":"packages/garpix_user/","title":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c","text":"<p>\u041c\u043e\u0434\u0443\u043b\u044c \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u0434\u043b\u044f Django/DRF. Part of GarpixCMS.</p> <p>Used packages: </p> <ul> <li>django rest framework</li> <li>social-auth-app-django</li> <li>django-rest-framework-social-oauth2</li> <li>etc; see setup.py</li> </ul>"},{"location":"packages/garpix_user/#_2","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","text":"<p>\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 pip:</p> <pre><code>pip install garpix_user\n</code></pre> <p>Add the <code>garpix_user</code> to your <code>INSTALLED_APPS</code>:</p> <pre><code># settings.py\n\n# ...\nINSTALLED_APPS = [\n    # ...\n    'garpix_user',\n]\n</code></pre> <p>and to migration modules:</p> <pre><code># settings.py\n\n# ...\nMIGRATION_MODULES = {\n    'garpix_user': 'app.migrations.garpix_user',\n}\n</code></pre> <p>Add to <code>urls.py</code>:</p> <pre><code>from garpix_user.views import LogoutView, LoginView\n\n# ...\nurlpatterns = [\n    # ...\n    # garpix_user\n    path('', include(('garpix_user.urls', 'user'), namespace='garpix_user')),\n\n]\n</code></pre> <p>Use <code>GarpixUser</code> from <code>garpix_user.models</code> as base for your user model class:</p> <pre><code># user.models.user.py\n\nfrom garpix_user.models import GarpixUser\n\n\nclass User(GarpixUser):\n\n    class Meta:\n        verbose_name = '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c'\n        verbose_name_plural = '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438'\n\n    def __str__(self):\n        return self.username\n\n</code></pre> <p>Use <code>UserAdmin</code> from <code>garpix_user.admin</code> as base for your user admin class:</p> <pre><code>\nfrom django.contrib import admin\n\nfrom garpix_user.admin import UserAdmin\nfrom user.models import User\n\n\n@admin.register(User)\nclass UserAdmin(UserAdmin):\n    pass\n\n</code></pre> <p>For custom auth with phone and/or email use this in <code>settings.py</code>:</p> <pre><code># ...\n\nAUTHENTICATION_BACKENDS = (\n    # Django\n    'garpix_user.utils.backends.CustomAuthenticationBackend',\n    'django.contrib.auth.backends.ModelBackend',\n)\n\n</code></pre> <p>and <code>USERNAME_FIELDS</code> to your <code>User</code> model:</p> <pre><code># user.models.user.py\n\nfrom garpix_user.models import GarpixUser\n\n\nclass User(GarpixUser):\n\n    USERNAME_FIELDS = ('email', ) # default is username\n\n    class Meta:\n        verbose_name = '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c'\n        verbose_name_plural = '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438'\n\n    def __str__(self):\n        return self.username\n\n</code></pre>"},{"location":"packages/garpix_user/#with-django-rest-framework","title":"With Django Rest Framework","text":"<p>Import settings from <code>garpix_user</code>:</p> <pre><code># settings.py\nfrom garpix_user.settings import *\n\n</code></pre> <p>Add this for SPA:</p> <pre><code># ...\nINSTALLED_APPS += [\n    # ...\n    'rest_framework',\n    'rest_framework.authtoken',\n    'oauth2_provider',\n    'social_django',\n    'rest_framework_social_oauth2',\n    # ...\n]\n\nREST_FRAMEWORK = {\n    'DEFAULT_AUTHENTICATION_CLASSES': {\n        'garpix_user.rest.authentication.MainAuthentication',\n        'oauth2_provider.contrib.rest_framework.OAuth2Authentication',\n        'rest_framework_social_oauth2.authentication.SocialAuthentication',\n    }\n}\n\n</code></pre>"},{"location":"packages/garpix_user/#registration","title":"Registration","text":"<p><code>garpix_user</code> adds default registration for with <code>phone</code> and/or <code>email</code> and <code>password</code> fields. To add fields to this form override <code>RegistrationSerializer</code> and add it to <code>settings</code>:</p> <pre><code># settings.py\n\nGARPIX_USER = {\n    # registration\n    'REGISTRATION_SERIALIZER': 'app.serializers.RegistrationCustSerializer'\n}\n\n# Hint: see all available settings in the end of this document.\n\n</code></pre> <pre><code># app.serializers.py\n\nfrom django.contrib.auth import get_user_model\nfrom rest_framework import serializers\n\nfrom garpix_user.serializers import RegistrationSerializer\n\nUser = get_user_model()\n\n\nclass RegistrationCustSerializer(RegistrationSerializer):\n    extra_field = serializers.CharField(write_only=True)\n\n    class Meta(RegistrationSerializer.Meta):\n        model = User\n        fields = RegistrationSerializer.Meta.fields + ('extra_field',)\n\n</code></pre> <p>You also can add password security settings:</p> <pre><code>\n# settings.py\n\nGARPIX_USER = {\n    # registration\n    'MIN_LENGTH_PASSWORD': 8,\n    'MIN_DIGITS_PASSWORD': 2,\n    'MIN_CHARS_PASSWORD': 2,\n    'MIN_UPPERCASE_PASSWORD': 1,\n}\n\n# Hint: see all available settings in the end of this document.\n\n</code></pre>"},{"location":"packages/garpix_user/#email-and-phone-confirmation-password-restoring","title":"Email and phone confirmation, password restoring","text":"<p>To use email and phone confirmation or (and) restore password functionality add the <code>garpix_notify</code> to your <code>INSTALLED_APPS</code>:</p> <pre><code># settings.py\n\n# ...\nINSTALLED_APPS = [\n    # ...\n    'garpix_notify',\n]\n</code></pre> <p>and to migration modules:</p> <pre><code># settings.py\n\nMIGRATION_MODULES = {\n    'garpix_notify': 'app.migrations.garpix_notify',\n}\n</code></pre> <p>Add corresponding settings:</p> <pre><code>\n# settings.py\n\nGARPIX_USER = {\n    'USE_EMAIL_CONFIRMATION': True,\n    'USE_PHONE_CONFIRMATION': True,\n    'USE_EMAIL_RESTORE_PASSWORD': True,\n    'USE_PHONE_RESTORE_PASSWORD': True,\n}\n\n# Hint: see all available settings in the end of this document.\n\n</code></pre> <p>You also need to add notify events:</p> <pre><code># settings.py\n\nfrom garpix_user.settings import GARPIX_USER_NOTIFY_EVENTS\n\nNOTIFY_EVENTS.update(GARPIX_USER_NOTIFY_EVENTS)\n\n</code></pre> <p>You can specify email and phone code length, lifetime and time delay before next attempt:</p> <pre><code>#settings.py \n\nGARPIX_USER = {\n    'CONFIRM_PHONE_CODE_LENGTH': 6,\n    'CONFIRM_EMAIL_CODE_LENGTH': 6,\n    'TIME_LAST_REQUEST': 1,\n    'CONFIRM_PHONE_CODE_LIFE_TIME': 5,  # in minutes\n    'CONFIRM_EMAIL_CODE_LIFE_TIME': 2,  # in days\n}\n\n# Hint: see all available settings in the end of this document.\n\n</code></pre> <p>Notice: the minimum and maximum values for <code>CONFIRM_CODE_LENGTH</code> are 4 and 255. These values will be hard used in case your settings are not in this interval.</p> <p>If you need to use pre-registration email or phone confirmation, you need to set corresponding variables to True:</p> <pre><code>\n# settings.py\n\nGARPIX_USER = {\n    'USE_PREREGISTRATION_EMAIL_CONFIRMATION': True,\n    'USE_PREREGISTRATION_PHONE_CONFIRMATION': True,\n}\n\n# Hint: see all available settings in the end of this document.\n\n</code></pre> <p>If you need to use email confirmation by link, you need to set corresponding variable:</p> <pre><code>\n# settings.py\n\nGARPIX_USER = {\n    'USE_EMAIL_LINK_CONFIRMATION': True,\n    'EMAIL_CONFIRMATION_LINK_REDIRECT': '',  # link to the page user needs to see after email confirmation\n}\n\n# Hint: see all available settings in the end of this document.\n\n</code></pre>"},{"location":"packages/garpix_user/#referral-links","title":"Referral links","text":"<p>You can also use referral links in your project with garpix_user. To add this functionality, just add the corresponding settings:</p> <pre><code>\n# settings.py\n\nGARPIX_USER = {\n    'USE_REFERRAL_LINKS': True,\n    'REFERRAL_REDIRECT_URL': '/', # link to the page user needs to see\n}\n# Hint: see all available settings in the end of this document.\n\n</code></pre>"},{"location":"packages/garpix_user/#usersession","title":"UserSession","text":"<p>Using <code>garpix_user</code> you can also store info about unregistered user sessions. The package already consists of model and views for it.</p> <p>To create the unregistered user send <code>POST</code> request to <code>{API_URL}/user_session/create_user_session/</code></p> <p>The request returns <code>UserSession</code> object with <code>token_number</code> field. You need to send this token number in each request passing in to header as <code>user-session-token</code>.</p>"},{"location":"packages/garpix_user/#all-available-settings-with-default-values","title":"All available settings with default values","text":"<pre><code>\n# settings.py\n\nGARPIX_USER = {\n    # base settings\n    'USE_REFERRAL_LINKS': False,\n    'REFERRAL_REDIRECT_URL': '/',\n    # email/phone confirmation\n    'USE_EMAIL_CONFIRMATION': True,\n    'USE_PHONE_CONFIRMATION': True,\n    'USE_PREREGISTRATION_EMAIL_CONFIRMATION': True,\n    'USE_PREREGISTRATION_PHONE_CONFIRMATION': True,\n    'USE_EMAIL_LINK_CONFIRMATION': True,\n    'EMAIL_CONFIRMATION_LINK_REDIRECT': '/',\n    'CONFIRM_PHONE_CODE_LENGTH': 6,\n    'CONFIRM_EMAIL_CODE_LENGTH': 6,\n    'TIME_LAST_REQUEST': 1,\n    'CONFIRM_PHONE_CODE_LIFE_TIME': 5,  # in minutes\n    'CONFIRM_EMAIL_CODE_LIFE_TIME': 2,  # in days\n    # restore password\n    'USE_RESTORE_PASSWORD': True,\n    # registration\n    'REGISTRATION_SERIALIZER': 'app.serializers.RegistrationCustSerializer',\n    'MIN_LENGTH_PASSWORD': 8,\n    'MIN_DIGITS_PASSWORD': 2,\n    'MIN_CHARS_PASSWORD': 2,\n    'MIN_UPPERCASE_PASSWORD': 1,\n    # response messages\n    'WAIT_RESPONSE': '\u041d\u0435 \u043f\u0440\u043e\u0448\u043b\u043e 1 \u043c\u0438\u043d \u0441 \u043c\u043e\u043c\u0435\u043d\u0442\u0430 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430',\n    'USER_REGISTERED_RESPONSE': '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c {field} \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d',  # as 'field' will be used email/phone according to the request\n    'INCORRECT_CODE_RESPONSE': '\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u0442\u043d\u044b\u0439 \u043a\u043e\u0434',\n    'NO_TIME_LEFT_RESPONSE': '\u041a\u043e\u0434 \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d. \u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e',\n    'NOT_AUTHENTICATED_RESPONSE': '\u0423\u0447\u0435\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0431\u044b\u043b\u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b'\n}\n\n</code></pre> <p>See <code>garpix_user/tests/test_api/*.py</code> for examples.</p> <pre><code>from garpix_user.models import UserSession\n</code></pre> <ul> <li> <p><code>get_from_request(cls, request)</code>: \u043c\u0435\u0442\u043e\u0434, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 request \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code> \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430:</p> <ul> <li>\u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d, \u043e\u043d \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code>, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c. </li> <li>\u0415\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0442\u043e\u043a\u0435\u043d \u0432 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0435, \u043e\u043d \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code>, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 \u044d\u0442\u0438\u043c \u0442\u043e\u043a\u0435\u043d\u043e\u043c. </li> <li>\u0415\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043a\u043b\u044e\u0447 \u0441\u0435\u0441\u0441\u0438\u0438, \u043e\u043d \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code>, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 \u044d\u0442\u0438\u043c \u043a\u043b\u044e\u0447\u043e\u043c \u0441\u0435\u0441\u0441\u0438\u0438. </li> <li>\u0415\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 <code>username</code> \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u043e\u043d \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code>, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0441 \u044d\u0442\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. </li> <li>\u0415\u0441\u043b\u0438 \u043d\u0438 \u043e\u0434\u043d\u043e \u0438\u0437 \u044d\u0442\u0438\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f, \u043e\u043d \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 <code>None</code>.</li> </ul> </li> <li> <p><code>create_from_request(cls, request, username, session):</code> \u043c\u0435\u0442\u043e\u0434 \u043a\u043b\u0430\u0441\u0441\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 request, \u0441\u0442\u0440\u043e\u043a\u0443 username \u0438 \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 session. \u041e\u043d \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043d\u043e\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code> \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430:</p> <ul> <li>\u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d, \u043e\u043d \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043d\u043e\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code>, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c.</li> <li>\u0415\u0441\u043b\u0438 session \u0440\u0430\u0432\u043d\u043e True, \u043e\u043d \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043d\u043e\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code>, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 \u043a\u043b\u044e\u0447\u043e\u043c \u0441\u0435\u0441\u0441\u0438\u0438.</li> <li>\u0415\u0441\u043b\u0438 username \u043d\u0435 \u0440\u0430\u0432\u043d\u043e <code>None</code>, \u043e\u043d \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043d\u043e\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code>, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0441 \u044d\u0442\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.</li> <li>\u0415\u0441\u043b\u0438 \u043d\u0438 \u043e\u0434\u043d\u043e \u0438\u0437 \u044d\u0442\u0438\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f, \u043e\u043d \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043d\u043e\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code></li> </ul> </li> </ul>"},{"location":"packages/packages/","title":"\u0412\u0441\u0435 \u043f\u0430\u043a\u0435\u0442\u044b","text":""},{"location":"packages/packages/#_2","title":"\u0412\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0435 \u043f\u0430\u043a\u0435\u0442\u044b","text":"<ul> <li>garpix_utils - \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0443\u0442\u0438\u043b\u0438\u0442\u044b, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0449\u0438\u0435 \u0432 \u0441\u0435\u0431\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u044b, \u043c\u0438\u043a\u0441\u0438\u043d\u044b, \u0440\u0430\u0431\u043e\u0442\u0443 \u0441\u043e \u0441\u0442\u0440\u043e\u043a\u0430\u043c\u0438 \u0438 \u0442.\u043f.</li> <li>garpix_qa - \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u0434\u0430 \u043d\u0430 \u043a\u043e\u0434\u0441\u0442\u0430\u0439\u043b, \u043e\u0448\u0438\u0431\u043a\u0438, \u0443\u044f\u0437\u0432\u0438\u043c\u043e\u0441\u0442\u0438, \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c.</li> <li>garpix_page - \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0438\u0437 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438 \u0441 \u0427\u041f\u0423 \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044f.</li> <li>garpix_menu - \u043c\u0435\u043d\u044e \u0438\u0437 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438 \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u0441\u044b\u043b\u043e\u043a.</li> <li>garpix_auth - \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0432\u0445\u043e\u0434\u0430 \u0447\u0435\u0440\u0435\u0437 \u0444\u043e\u0440\u043c\u0443 \u0438 \u043f\u043e API, \u0432\u044b\u0445\u043e\u0434\u0430, \u0432\u0445\u043e\u0434\u0430 \u0447\u0435\u0440\u0435\u0437 \u0441\u043e\u0446\u0441\u0435\u0442\u0438.</li> <li>garpix_package - \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0438 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u044b\u0445 \u043f\u0430\u043a\u0435\u0442\u043e\u0432 \u043d\u0430 pypi.org.</li> <li>garpix_notify - \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043d\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u043f\u043e Email, SMS, PUSH, Viber, Telegram.</li> </ul>"},{"location":"packages/packages/#_3","title":"\u0412\u043d\u0435\u0448\u043d\u0438\u0435 \u043f\u0430\u043a\u0435\u0442\u044b","text":"<ul> <li>(\u0412 \u0420\u0410\u0417\u0420\u0410\u0411\u041e\u0422\u041a\u0415) garpix_blog - \u0431\u043b\u043e\u0433 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 (\u043d\u043e\u0432\u043e\u0441\u0442\u0438, \u0430\u043a\u0446\u0438\u0438 \u0438 \u0442.\u043f.).</li> <li>garpix_vacancy - \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435.</li> </ul>"},{"location":"packages/packages/#_4","title":"\u0412\u043d\u0435\u0448\u043d\u0438\u0435 \u043f\u0430\u043a\u0435\u0442\u044b \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u043c\u0438","text":"<ul> <li>garpix_profitbase - \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u043c \u0432 \u0441\u0444\u0435\u0440\u0435 \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438 profitbase.ru.</li> <li>(\u0412 \u0420\u0410\u0417\u0420\u0410\u0411\u041e\u0422\u041a\u0415) garpix_instagram - \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 Instagram.</li> <li>garpix_jira - \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 Jira Server.</li> </ul>"},{"location":"packages/utils/","title":"Utils","text":"<p>\u041d\u0430\u0431\u043e\u0440 \u0443\u0442\u0438\u043b\u0438\u0442 \u0434\u043b\u044f GARPIX CMS.</p> <p>\u0423\u0442\u0438\u043b\u0438\u0442\u044b:</p> <ul> <li><code>file.get_file_path</code> - \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0443\u0442\u0438 \u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430 (\u0434\u043b\u044f FileField)</li> <li><code>string.get_random_string</code> - \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u043e\u043a\u0438 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432</li> <li><code>signature.make_signature_sha512</code> - \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u0438</li> <li><code>models.ActiveMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u043b\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u043b\u0435 \"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c\"</li> <li><code>models.EmptyMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d-\u043f\u0443\u0441\u0442\u044b\u0448\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0438 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043c\u0438\u043a\u0441\u0438\u043d\u0430\u0445</li> <li><code>models.AvailableMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u043b\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u043e\u0431\u043b\u0430\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044f\u043c\u0438 \"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c\" \u0438 \"\u0423\u0434\u0430\u043b\u0435\u043d\u043e\"</li> <li><code>models.PolymorphicActiveMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u043b\u0438 <code>garpix_page.BasePage</code>, \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u0431\u043e\u0440\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 (\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b). \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432\u043d\u0443\u0442\u0440\u0438 GARPIX CMS.</li> <li><code>templatetags.url_replace</code> - \u043f\u043e\u0434\u043c\u0435\u043d\u0430 \u043e\u0434\u043d\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432 dict \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u0435 \u0432 Django-\u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445.</li> <li><code>models.DeleteMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u043b\u0435\u0439, \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b \u043c\u044f\u0433\u043a\u043e\u0433\u043e/\u0436\u0435\u0441\u0442\u043a\u043e\u0433\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f, <code>models.AdminDeleteMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d.\u043c\u043e\u0434\u0435\u043b\u0438.</li> <li><code>models.PolymorphicAvailableMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u043b\u0438 <code>garpix_page.BasePage</code>, \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u0431\u043e\u0440\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 (\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b \u0438 \u043d\u0435\u0443\u0434\u0430\u043b\u0435\u043d\u044b). \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432\u043d\u0443\u0442\u0440\u0438 GARPIX CMS.</li> <li><code>models.GarpixSiteConfiguration</code> - \u043a\u043b\u0430\u0441\u0441 \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u0443\u043b\u044c\u0442\u0438\u0441\u0430\u0439\u0442\u043e\u0432\u044b\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435, <code>admin.GarpixSiteConfigurationAdmin</code> - \u043a\u043b\u0430\u0441\u0441 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d.\u043f\u0430\u043d\u0435\u043b\u0438</li> </ul>"},{"location":"packages/utils/#_1","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","text":"<p>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e pip:</p> <pre><code>pip install garpix_utils\n</code></pre>"},{"location":"packages/utils/#_2","title":"\u0423\u0442\u0438\u043b\u0438\u0442\u044b","text":""},{"location":"packages/utils/#fileget_file_path-filefield","title":"<code>file.get_file_path</code> - \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0443\u0442\u0438 \u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430 (\u0434\u043b\u044f FileField)","text":"<p>\u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 \u043f\u0443\u0442\u044c \u0444\u0430\u0439\u043b\u0430 \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0433\u043e\u0434\u0430 \u0438 \u043c\u0435\u0441\u044f\u0446\u0430, \u0447\u0442\u043e\u0431\u044b \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0444\u0430\u0439\u043b\u043e\u0432 \u043d\u0435 \u0441\u043a\u0430\u043f\u043b\u0438\u0432\u0430\u043b\u0438\u0441\u044c \u043d\u0430 \u043e\u0434\u043d\u043e\u043c \u0443\u0440\u043e\u0432\u043d\u0435.</p> <p>\u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f 'upload_to' \u043f\u043e\u043b\u044f FileField \u043c\u043e\u0434\u0435\u043b\u0438 Django. </p> <p>\u041f\u0420\u0418\u041c\u0415\u0420:</p> <pre><code>from garpix_utils.file import get_file_path\nfrom django.db import models\n\n\nclass FileModel(models.Model):\n    # ...\n    file = models.FileField(upload_to=get_file_path, blank=True, null=True, verbose_name=_('File'))\n    # ...\n</code></pre>"},{"location":"packages/utils/#stringget_random_string-","title":"<code>string.get_random_string</code> - \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u043e\u043a\u0438 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u0438 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u0430\u043c\u0438.</p> <p>\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b:</p> <ul> <li>size: int - \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e - 8.</li> <li>chars: str - \u0441\u0442\u0440\u043e\u043a\u0430 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0432 \u0441\u0442\u0440\u043e\u043a\u0435. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e <code>string.ascii_uppercase + string.digits</code>.</li> </ul> <p>\u041f\u0420\u0418\u041c\u0415\u0420:</p> <p>\u041f\u0440\u0438\u043c\u0435\u0440 1</p> <pre><code>from garpix_utils.string import get_random_string\n\nrandom_string = get_random_string(16)\n\n# random_string = '451DNCLZLY2HDDDX'\n</code></pre> <p>\u041f\u0440\u0438\u043c\u0435\u0440 2</p> <pre><code>import string\nfrom garpix_utils.string import get_random_string\n\nrandom_string = get_random_string(8, string.ascii_lowercase)\n\n# random_string = 'palsjpyz'\n</code></pre> <p>\u041f\u0440\u0438\u043c\u0435\u0440 3</p> <pre><code>from garpix_utils.string import get_random_string\n\nrandom_string = get_random_string(16, '01')\n\n# random_string = '0110111101010100'\n</code></pre>"},{"location":"packages/utils/#signaturemake_signature_sha512-","title":"<code>signature.make_signature_sha512</code> - \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u0438","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u0441\u0438\u0433\u043d\u0430\u0442\u0443\u0440\u0443 (\u0446\u0438\u0444\u0440\u043e\u0432\u0443\u044e \u043f\u043e\u0434\u043f\u0438\u0441\u044c) \u043f\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c \u0441 \u0445\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c SHA-512.</p> <p>\u041e\u0431\u044b\u0447\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u044d\u043a\u0432\u0430\u0439\u0440\u0438\u043d\u0433\u0430 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0437\u0430\u0449\u0438\u0442\u044b \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u044c\u044e.</p> <p>\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415! \u0415\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u0434\u0440\u0443\u0433\u043e\u0439 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f, \u0442\u043e \u0437\u0430\u0433\u043b\u044f\u043d\u0438\u0442\u0435 \u0432 \u044d\u0442\u0443 \u0444\u0443\u043d\u043a\u0446\u0438\u044e, \u043c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u043e \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0438.</p> <p>\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b:</p> <ul> <li>params: dict - \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432. \u0415\u0441\u043b\u0438 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 signature_key, \u0442\u043e \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d.</li> <li>signature_key: str - \u043a\u043b\u044e\u0447 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \u0441 \u0441\u0438\u0433\u043d\u0430\u0442\u0443\u0440\u043e\u0439. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \"sig\".</li> <li>secret: str - \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u043a\u043e\u043d\u043a\u0430\u0442\u0435\u043d\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u043a\u043e\u043d\u0446\u0435 \u043f\u0435\u0440\u0435\u0434 \u0445\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c.</li> </ul> <p>\u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c:</p> <ol> <li>\u0411\u0435\u0440\u0435\u0442 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432, \u0443\u0434\u0430\u043b\u044f\u0435\u0442 \u043e\u0442\u0442\u0443\u0434\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0441 \u043a\u043b\u044e\u0447\u043e\u043c \u0441\u0438\u0433\u043d\u0430\u0442\u0443\u0440\u044b (\u0441\u043c. \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e signature_key, \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \"sig\")</li> <li>\u041f\u043e\u043b\u0443\u0447\u0438\u0432\u0448\u0438\u0439\u0441\u044f \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0441\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u0442 \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e \u043a\u043b\u044e\u0447\u0430 \u0432 \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435. \u0412\u0441\u0435 \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0442\u043e\u0436\u0435 \u0441\u043e\u0440\u0442\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043f\u043e \u043a\u043b\u044e\u0447\u0443, \u0441\u043f\u0438\u0441\u043e\u0447\u043d\u044b\u0435 - \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443.</li> <li>\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043a\u043e\u043d\u043a\u0430\u0442\u0435\u043d\u0438\u0440\u0443\u0435\u0442 \u043a\u043b\u044e\u0447 \u0441\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c \u0432 \u0435\u0434\u0438\u043d\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443.</li> <li>\u0412 \u043a\u043e\u043d\u0446\u0435 \u043a\u043e\u043d\u043a\u0430\u0442\u0435\u043d\u0438\u0440\u0443\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 secret (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0440\u0430\u0432\u043d\u0430 \"secret\").</li> <li>\u0425\u044d\u0448\u0438\u0440\u0443\u0435\u0442 \u043f\u043e \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u0443 SHA-512 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u0442\u0440\u043e\u043a\u0443 \u0432 \u043d\u0438\u0436\u043d\u0435\u043c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0435.</li> <li>\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0432\u0448\u0438\u0439\u0441\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442.</li> </ol> <p>\u041f\u0420\u0418\u041c\u0415\u0420:</p> <pre><code># \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0432\u0430\u043c \u0444\u0430\u0439\u043b\n\nfrom garpix_utils.signature import make_signature_sha512\n\n\nsig = make_signature_sha512({'a': 'xxx', 'c': 'ggg', 'b': '111', 'sig': '123', 'd': [3, 1, 2], 'e': {'b': '2', 'a': '1'}}, signature_key='sig', secret='secret')\n\n# sig = '2123086085ec1fe67595d7b3d2b6a0dbf3f33e528d78366b8d62d7f0a7e3c090077b0f7b8dc84921a6087aa57b8284bd1e74702df7a16e96f73f627e6eea815a'\n</code></pre> <p>\u0420\u0430\u0437\u0431\u043e\u0440 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u043f\u043e \u0448\u0430\u0433\u0430\u043c:</p> <p>\u0428\u0430\u0433 1</p> <ul> <li>\u0411\u044b\u043b\u043e: {'a': 'xxx', 'c': 'ggg', 'b': '111', 'sig': '123', 'd': [3, 1, 2], 'e': {'b': '2', 'a': '1'}}</li> <li>\u0421\u0442\u0430\u043b\u043e: {'a': 'xxx', 'c': 'ggg', 'b': '111', 'd': [3, 1, 2], 'e': {'b': '2', 'a': '1'}}</li> </ul> <p>\u0428\u0430\u0433 2</p> <ul> <li>\u0411\u044b\u043b\u043e: {'a': 'xxx', 'c': 'ggg', 'b': '111', 'd': [3, 1, 2], 'e': {'b': '2', 'a': '1'}}</li> <li>\u0421\u0442\u0430\u043b\u043e: {'a': 'xxx', 'b': '111', 'c': 'ggg', 'd': [1, 2, 3], 'e': {'a': '1', 'b': '2'}}</li> </ul> <p>\u0428\u0430\u0433 3</p> <ul> <li>\u0411\u044b\u043b\u043e: {'a': 'xxx', 'b': '111', 'c': 'ggg', 'd': [1, 2, 3], 'e': {'a': '1', 'b': '2'}}</li> <li>\u0421\u0442\u0430\u043b\u043e: 'axxxb111cgggd123ea1b2'</li> </ul> <p>\u0428\u0430\u0433 4</p> <ul> <li>\u0411\u044b\u043b\u043e: 'axxxb111cgggd123ea1b2'</li> <li>\u0421\u0442\u0430\u043b\u043e: 'axxxb111cgggd123ea1b2secret'</li> </ul> <p>\u0428\u0430\u0433 5</p> <ul> <li>\u0411\u044b\u043b\u043e: 'axxxb111cgggd123ea1b2secret'</li> <li>\u0421\u0442\u0430\u043b\u043e: '2123086085ec1fe67595d7b3d2b6a0dbf3f33e528d78366b8d62d7f0a7e3c090077b0f7b8dc84921a6087aa57b8284bd1e74702df7a16e96f73f627e6eea815a'</li> </ul>"},{"location":"packages/utils/#modelsactivemixin-","title":"<code>models.ActiveMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u043b\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u043b\u0435 \"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c\"","text":"<p>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u0435 <code>is_active (Boolean, default=True)</code>. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430 <code>active_objects</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b (<code>is_active=True</code>).</p> <p>\u041f\u0420\u0418\u041c\u0415\u0420:</p> <pre><code># \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0432\u0430\u043c \u0444\u0430\u0439\u043b\n\nfrom django.db import models\nfrom garpix_utils.models import ActiveMixin\n\n\nclass Product(ActiveMixin, models.Model):\n    pass\n\n\nProduct.active_objects.all()\n\n# \u0411\u0443\u0434\u0443\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u044b \u0437\u0430\u043f\u0438\u0441\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0441 is_active == True.\n</code></pre>"},{"location":"packages/utils/#modelsemptymixin-","title":"<code>models.EmptyMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d-\u043f\u0443\u0441\u0442\u044b\u0448\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0438 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043c\u0438\u043a\u0441\u0438\u043d\u0430\u0445","text":"<p>\u041f\u0420\u0418\u041c\u0415\u0420:</p> <pre><code># \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0432\u0430\u043c \u0444\u0430\u0439\u043b\n\nfrom django.db import models\nfrom garpix_utils.models import EmptyMixin\n\n\nclass Product(EmptyMixin, models.Model):\n    pass\n\n# \u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u043e\u0441\u044c.\n</code></pre> <p>\u0418\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u043f\u0430\u043a\u0435\u0442\u0435 <code>garpix_blog</code>:</p> <pre><code># app/settings.py\n\nGARPIX_BLOG_MIXIN = 'garpix_utils.models.EmptyMixin'\n\n</code></pre>"},{"location":"packages/utils/#modelsavailablemixin-","title":"<code>models.AvailableMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u043b\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u043e\u0431\u043b\u0430\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044f\u043c\u0438 \"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c\" \u0438 \"\u0423\u0434\u0430\u043b\u0435\u043d\u043e\"","text":"<p>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u044f <code>is_active (Boolean, default=True)</code> \u0438 <code>is_deleted (Boolean, default=False)</code>. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430 <code>available_objects</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b (<code>is_active=True, is_deleted=False</code>).</p> <p>\u041f\u0420\u0418\u041c\u0415\u0420:</p> <pre><code># \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0432\u0430\u043c \u0444\u0430\u0439\u043b\n\nfrom django.db import models\nfrom garpix_utils.models import AvailableMixin\n\n\nclass Product(AvailableMixin, models.Model):\n    pass\n\n\nProduct.available_objects.all()\n\n# \u0411\u0443\u0434\u0443\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u044b \u0437\u0430\u043f\u0438\u0441\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0441 is_active == True.\n</code></pre>"},{"location":"packages/utils/#templatetagsurl_replace-dict-django-","title":"<code>templatetags.url_replace</code> - \u043f\u043e\u0434\u043c\u0435\u043d\u0430 \u043e\u0434\u043d\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432 dict \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u0435 \u0432 Django-\u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445.","text":"<p>\u041f\u0420\u0418\u041c\u0415\u0420 \u0434\u043b\u044f \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u0438 (\u0432\u0437\u044f\u0442\u043e \u0438\u0437 https://github.com/garpixcms/garpix_page/):</p> <pre><code>{% load url_replace %}\n\n&lt;nav&gt;\n    &lt;ul class=\"pagination\"&gt;\n        {% for page_num in page_range %}\n            &lt;li class=\"page-item {% if page_num == page %}active{% endif %}\"&gt;\n                &lt;a class=\"page-link\" href=\"?{% url_replace request 'page' page_num %}\"&gt;{{ page_num }}&lt;/a&gt;\n            &lt;/li&gt;\n        {% endfor %}\n    &lt;/ul&gt;\n&lt;/nav&gt;\n</code></pre>"},{"location":"en/","title":"Quick Start","text":"<p>\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c Python (\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f <code>3.8</code>), Pipenv, Docker \u0438 cookiecutter. \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439.</p> <p>\u0414\u0430\u043b\u0435\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0438\u043b\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439. \u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0430\u043c \u0434\u043b\u044f \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438.</p> <p>\u0415\u0441\u043b\u0438 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f, \u0442\u043e \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043d\u0438\u0436\u0435.</p>"},{"location":"en/#_1","title":"\u041d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442","text":"<pre><code>cookiecutter https://github.com/garpixcms/garpixcms-empty-template\ncd website\ncp example.env .env\npipenv install\npipenv shell\ndocker-compose up -d\npython3 backend/manage.py makemigrations\npython3 backend/manage.py migrate\npython3 backend/manage.py createsuperuser\npython3 backend/manage.py runserver\n</code></pre>"},{"location":"en/#_2","title":"\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442","text":"<pre><code>git clone &lt;repo_url&gt;\ncd &lt;directory&gt;\ncp example.env .env\npipenv install\npipenv shell\ndocker-compose up -d\npython3 backend/manage.py migrate\npython3 backend/manage.py createsuperuser\npython3 backend/manage.py runserver\n</code></pre>"},{"location":"en/install_deps/","title":"Install dependencies","text":""},{"location":"en/install_deps/#_1","title":"\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438:","text":"<ul> <li>Python (\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c <code>3.8+</code>)</li> <li>Pipenv</li> <li>Docker</li> <li>docker-compose</li> <li>cookiecutter</li> </ul>"},{"location":"en/install_deps/#_2","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","text":""},{"location":"en/install_new_project/","title":"Start new project","text":"<p>\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b.</p>"},{"location":"en/install_start_project/","title":"Start project","text":"<p>\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b.</p>"},{"location":"en/packages/garpix_auth/","title":"Auth (old)","text":"<p>Auth module for Django/DRF projects. Part of GarpixCMS.</p> <p>Used packages: </p> <ul> <li>django rest framework</li> <li>social-auth-app-django</li> <li>django-rest-framework-social-oauth2</li> <li>etc; see setup.py</li> </ul>"},{"location":"en/packages/garpix_company/","title":"Company","text":"<p>Company module for Django/DRF projects.</p>"},{"location":"en/packages/garpix_menu/","title":"Menu","text":"<p>Customizable menus for garpix_page.</p>"},{"location":"en/packages/garpix_notify/","title":"Notify","text":""},{"location":"en/packages/garpix_page/","title":"Page","text":"<p>Convenient page structure with any context and template. It is suitable not only for a blog, but also for large sites with a complex presentation. Supports SEO.</p>"},{"location":"en/packages/garpix_user/","title":"User","text":"<p>Auth module for Django/DRF projects. Part of GarpixCMS.</p> <p>Used packages: </p> <ul> <li>django rest framework</li> <li>social-auth-app-django</li> <li>django-rest-framework-social-oauth2</li> <li>etc; see setup.py</li> </ul>"},{"location":"en/packages/garpix_user/#quickstart","title":"Quickstart","text":"<p>Install with pip:</p> <pre><code>pip install garpix_user\n</code></pre> <p>Add the <code>garpix_user</code> to your <code>INSTALLED_APPS</code>:</p> <pre><code># settings.py\n\n# ...\nINSTALLED_APPS = [\n    # ...\n    'garpix_user',\n]\n</code></pre> <p>and to migration modules:</p> <pre><code># settings.py\n\n# ...\nMIGRATION_MODULES = {\n    'garpix_user': 'app.migrations.garpix_user',\n}\n</code></pre> <p>Add to <code>urls.py</code>:</p> <pre><code>from garpix_user.views import LogoutView, LoginView\n\n# ...\nurlpatterns = [\n    # ...\n    # garpix_user\n    path('', include(('garpix_user.urls', 'user'), namespace='garpix_user')),\n\n]\n</code></pre> <p>Use <code>GarpixUser</code> from <code>garpix_user.models</code> as base for your user model class:</p> <pre><code># user.models.user.py\n\nfrom garpix_user.models import GarpixUser\n\n\nclass User(GarpixUser):\n\n    class Meta:\n        verbose_name = '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c'\n        verbose_name_plural = '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438'\n\n    def __str__(self):\n        return self.username\n\n</code></pre> <p>Use <code>UserAdmin</code> from <code>garpix_user.admin</code> as base for your user admin class:</p> <pre><code>\nfrom django.contrib import admin\n\nfrom garpix_user.admin import UserAdmin\nfrom user.models import User\n\n\n@admin.register(User)\nclass UserAdmin(UserAdmin):\n    pass\n\n</code></pre> <p>For custom auth with phone and/or email use this in <code>settings.py</code>:</p> <pre><code># ...\n\nAUTHENTICATION_BACKENDS = (\n    # Django\n    'garpix_user.utils.backends.CustomAuthenticationBackend',\n    'django.contrib.auth.backends.ModelBackend',\n)\n\n</code></pre> <p>and <code>USERNAME_FIELDS</code> to your <code>User</code> model:</p> <pre><code># user.models.user.py\n\nfrom garpix_user.models import GarpixUser\n\n\nclass User(GarpixUser):\n\n    USERNAME_FIELDS = ('email', ) # default is username\n\n    class Meta:\n        verbose_name = '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c'\n        verbose_name_plural = '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438'\n\n    def __str__(self):\n        return self.username\n\n</code></pre>"},{"location":"en/packages/garpix_user/#all-available-settings-with-default-values","title":"All available settings with default values","text":"<pre><code>\n# settings.py\n\nGARPIX_USER = {\n    # base settings\n    'USE_REFERRAL_LINKS': False,\n    'REFERRAL_REDIRECT_URL': '/',\n    # email/phone confirmation\n    'USE_EMAIL_CONFIRMATION': True,\n    'USE_PHONE_CONFIRMATION': True,\n    'USE_PREREGISTRATION_EMAIL_CONFIRMATION': True,\n    'USE_PREREGISTRATION_PHONE_CONFIRMATION': True,\n    'USE_EMAIL_LINK_CONFIRMATION': True,\n    'EMAIL_CONFIRMATION_LINK_REDIRECT': '/',\n    'CONFIRM_PHONE_CODE_LENGTH': 6,\n    'CONFIRM_EMAIL_CODE_LENGTH': 6,\n    'TIME_LAST_REQUEST': 1,\n    'CONFIRM_PHONE_CODE_LIFE_TIME': 5,  # in minutes\n    'CONFIRM_EMAIL_CODE_LIFE_TIME': 2,  # in days\n    # restore password\n    'USE_RESTORE_PASSWORD': True,\n    # registration\n    'REGISTRATION_SERIALIZER': 'app.serializers.RegistrationCustSerializer',\n    'MIN_LENGTH_PASSWORD': 8,\n    'MIN_DIGITS_PASSWORD': 2,\n    'MIN_CHARS_PASSWORD': 2,\n    'MIN_UPPERCASE_PASSWORD': 1,\n    # response messages\n    'WAIT_RESPONSE': '\u041d\u0435 \u043f\u0440\u043e\u0448\u043b\u043e 1 \u043c\u0438\u043d \u0441 \u043c\u043e\u043c\u0435\u043d\u0442\u0430 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430',\n    'USER_REGISTERED_RESPONSE': '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c {field} \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d',  # as 'field' will be used email/phone according to the request\n    'INCORRECT_CODE_RESPONSE': '\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u0442\u043d\u044b\u0439 \u043a\u043e\u0434',\n    'NO_TIME_LEFT_RESPONSE': '\u041a\u043e\u0434 \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d. \u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e',\n    'NOT_AUTHENTICATED_RESPONSE': '\u0423\u0447\u0435\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0431\u044b\u043b\u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b'\n}\n\n</code></pre> <p>See <code>garpix_user/tests/test_api/*.py</code> for examples.</p> <ul> <li> <p><code>get_from_request(cls, request)</code>: a method that takes a request object and returns a <code>UserSession</code> object based on the request:</p> <ul> <li>If the user is authenticated, it returns the <code>UserSession</code> object associated with the user.</li> <li>If the request contains a token in the header, it returns the <code>UserSession</code> object associated with that token.</li> <li>If the request contains a session key, it returns the <code>UserSession</code> object associated with that session key.</li> <li>If the request contains a username in the query parameters, it returns the <code>UserSession</code> object associated with the user with that username.</li> <li>If none of these conditions are met, it returns <code>None</code>.</li> </ul> </li> <li> <p><code>create_from_request(cls, request, username, session)</code>: a class method that takes a request object, a username string, and a boolean session value. It creates a new <code>UserSession</code> object based on the request:</p> <ul> <li>If the user is authenticated, it creates a new <code>UserSession</code> object associated with the authenticated user.</li> <li>If session is True, it creates a new <code>UserSession</code> object associated with the session key.</li> <li>If username is not <code>None</code>, it creates a new <code>UserSession</code> object associated with the user with that username.</li> <li>If none of these conditions are met, it creates a new <code>UserSession</code> object.\"</li> </ul> </li> </ul>"},{"location":"en/packages/packages/","title":"All packages","text":""},{"location":"en/packages/packages/#_1","title":"\u0412\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0435 \u043f\u0430\u043a\u0435\u0442\u044b","text":"<ul> <li>garpix_utils - \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0443\u0442\u0438\u043b\u0438\u0442\u044b, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0449\u0438\u0435 \u0432 \u0441\u0435\u0431\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u044b, \u043c\u0438\u043a\u0441\u0438\u043d\u044b, \u0440\u0430\u0431\u043e\u0442\u0443 \u0441\u043e \u0441\u0442\u0440\u043e\u043a\u0430\u043c\u0438 \u0438 \u0442.\u043f.</li> <li>garpix_qa - \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u0434\u0430 \u043d\u0430 \u043a\u043e\u0434\u0441\u0442\u0430\u0439\u043b, \u043e\u0448\u0438\u0431\u043a\u0438, \u0443\u044f\u0437\u0432\u0438\u043c\u043e\u0441\u0442\u0438, \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c.</li> <li>garpix_page - \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0438\u0437 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438 \u0441 \u0427\u041f\u0423 \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044f.</li> <li>garpix_menu - \u043c\u0435\u043d\u044e \u0438\u0437 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438 \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u0441\u044b\u043b\u043e\u043a.</li> <li>garpix_auth - \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0432\u0445\u043e\u0434\u0430 \u0447\u0435\u0440\u0435\u0437 \u0444\u043e\u0440\u043c\u0443 \u0438 \u043f\u043e API, \u0432\u044b\u0445\u043e\u0434\u0430, \u0432\u0445\u043e\u0434\u0430 \u0447\u0435\u0440\u0435\u0437 \u0441\u043e\u0446\u0441\u0435\u0442\u0438.</li> <li>garpix_package - \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0438 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u044b\u0445 \u043f\u0430\u043a\u0435\u0442\u043e\u0432 \u043d\u0430 pypi.org.</li> <li>garpix_notify - \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043d\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u043f\u043e Email, SMS, PUSH, Viber, Telegram.</li> </ul>"},{"location":"en/packages/packages/#_2","title":"\u0412\u043d\u0435\u0448\u043d\u0438\u0435 \u043f\u0430\u043a\u0435\u0442\u044b","text":"<ul> <li>(\u0412 \u0420\u0410\u0417\u0420\u0410\u0411\u041e\u0422\u041a\u0415) garpix_blog - \u0431\u043b\u043e\u0433 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 (\u043d\u043e\u0432\u043e\u0441\u0442\u0438, \u0430\u043a\u0446\u0438\u0438 \u0438 \u0442.\u043f.).</li> <li>garpix_vacancy - \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435.</li> </ul>"},{"location":"en/packages/packages/#_3","title":"\u0412\u043d\u0435\u0448\u043d\u0438\u0435 \u043f\u0430\u043a\u0435\u0442\u044b \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u043c\u0438","text":"<ul> <li>garpix_profitbase - \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u043c \u0432 \u0441\u0444\u0435\u0440\u0435 \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438 profitbase.ru.</li> <li>(\u0412 \u0420\u0410\u0417\u0420\u0410\u0411\u041e\u0422\u041a\u0415) garpix_instagram - \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 Instagram.</li> <li>garpix_jira - \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 Jira Server.</li> </ul>"},{"location":"","title":"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0441\u0442\u0430\u0440\u0442","text":"<p>\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c Python (\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f <code>3.8</code>), Pipenv, Docker \u0438 cookiecutter. \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439.</p> <p>\u0414\u0430\u043b\u0435\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0438\u043b\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439. \u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0430\u043c \u0434\u043b\u044f \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438.</p> <p>\u0415\u0441\u043b\u0438 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f, \u0442\u043e \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043d\u0438\u0436\u0435.</p>"},{"location":"#_2","title":"\u041d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442","text":"<pre><code>cookiecutter https://github.com/garpixcms/garpixcms-empty-template\ncd website\ncp example.env .env\npipenv install\npipenv shell\ndocker-compose up -d\npython3 backend/manage.py makemigrations\npython3 backend/manage.py migrate\npython3 backend/manage.py createsuperuser\npython3 backend/manage.py runserver\n</code></pre>"},{"location":"#_3","title":"\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442","text":"<pre><code>git clone &lt;repo_url&gt;\ncd &lt;directory&gt;\ncp example.env .env\npipenv install\npipenv shell\ndocker-compose up -d\npython3 backend/manage.py migrate\npython3 backend/manage.py createsuperuser\npython3 backend/manage.py runserver\n</code></pre>"},{"location":"#garpix-user","title":"Garpix user","text":"<p>\u041d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 \u0432\u0435\u0440\u0441\u0438\u0438 4.0.0 <code>garpix_auth</code> \u0437\u0430\u043c\u0435\u043d\u0435\u043d \u043d\u0430 <code>garpix_user</code>. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438 <code>garpix_auth</code> \u043d\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u0441 \u0431\u043e\u043b\u0435\u0435 \u043c\u043b\u0430\u0434\u0448\u0435\u0439 \u0432\u0435\u0440\u0441\u0438\u0435\u0439 cms, \u0434\u043b\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0433\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u043b\u0435\u0434\u0443\u0439\u0442\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u043c \u043d\u0438\u0436\u0435.</p> <ol> <li>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u043d\u043e\u0432\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e \u043c\u043e\u0434\u0443\u043b\u044f <code>pipenv install garpixcms==4.0.0</code>.</li> <li>\u0421\u043b\u0435\u0434\u0443\u044f \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u043c \u043f\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 <code>garpix_user</code> (https://github.com/garpixcms/garpix_user#quickstart), \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u043f\u0440\u043e\u0435\u043a\u0442 (\u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0440\u043e\u0443\u0442\u044b \u0438 \u0431\u0430\u0437\u043e\u0432\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0443\u0436\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u044b \u0432 \u043c\u043e\u0434\u0443\u043b\u044c garpixcms \u0432 \u0444\u0430\u0439\u043b\u0430\u0445 <code>garpixcms/settings.py</code> \u0438 <code>garpixcms/urls.py</code> \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e).</li> <li>\u041f\u043e\u0441\u043b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>python3 manage.py update_user_module</code>.</li> <li>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f <code>ENABLE_GARPIX_AUTH</code> \u0432 False \u0438\u043b\u0438 \u043f\u0440\u043e\u0441\u0442\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u0435 \u0435\u0435.</li> </ol>"},{"location":"#enterprise-","title":"Enterprise-\u0432\u0435\u0440\u0441\u0438\u044f","text":"<p>\u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 Enterprise-\u0432\u0435\u0440\u0441\u0438\u0438, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043d\u0430\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443 inbox@garpix.com. 1</p>"},{"location":"faq_cors/","title":"FAQ - \u0412\u043e\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u0432\u0435\u0442\u044b","text":""},{"location":"faq_cors/#cors","title":"\u0415\u0441\u0442\u044c \u043b\u0438 \u0437\u0430\u0449\u0438\u0442\u0430 \u043e\u0442 \u043a\u0440\u043e\u0441\u0441\u0434\u043e\u043c\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 (CORS)?","text":"<p>\u0414\u0430, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043c\u043e\u0434\u0443\u043b\u044c django-cors-headers. \u041f\u0440\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0435 <code>DEBUG</code> \u0440\u0430\u0432\u043d\u043e\u043c <code>True</code>, \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0432\u0441\u0435 \u043a\u0440\u043e\u0441\u0441\u0434\u043e\u043c\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b (<code>CORS_ALLOW_ALL_ORIGINS = True</code>).</p>"},{"location":"faq_list_per_page/","title":"FAQ - \u0412\u043e\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u0432\u0435\u0442\u044b","text":""},{"location":"faq_list_per_page/#_1","title":"\u041a\u0430\u043a \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u044b\u0432\u043e\u0434\u0438\u043c\u044b\u0445 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0432 \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446?","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0432 <code>app/settings.py</code> \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e <code>GARPIX_PAGE_ADMIN_LIST_PER_PAGE</code>.</p> <p>\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0440\u0430\u0432\u043d\u043e 25.</p> <p>\u041c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c:</p> <pre><code># app/settings.py\n\nGARPIX_PAGE_ADMIN_LIST_PER_PAGE = 50\n\n</code></pre>"},{"location":"faq_pack/","title":"FAQ - \u0412\u043e\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u0432\u0435\u0442\u044b","text":""},{"location":"faq_pack/#_1","title":"\u041a\u0430\u043a \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0439 \u043f\u0430\u043a\u0435\u0442?","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043f\u0430\u043a\u0435\u0442\u0430 garpix_package.</p> <p>\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u0430\u043a\u0435\u0442\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>python3 backend/manage.py startpackage my_package</code> (\u0432\u043c\u0435\u0441\u0442\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u044b <code>startapp</code>).</p> <p>\u0414\u043b\u044f \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u043d\u0430 pypi.org, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <code>python3 backend/manage.py pack my_package</code>.</p>"},{"location":"install_deps/","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439","text":""},{"location":"install_deps/#_2","title":"\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438:","text":"<ul> <li>Python (\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c <code>3.8+</code>)</li> <li>Pipenv</li> <li>Docker</li> <li>docker-compose</li> <li>cookiecutter</li> </ul>"},{"location":"install_deps/#_3","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","text":""},{"location":"install_deps/#1-docker-docker-compose","title":"\u0428\u0430\u0433 1. \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c Docker \u0438 docker-compose","text":"<pre><code>su\napt update; apt upgrade -y; apt install -y curl; curl -sSL https://get.docker.com/ | sh; curl -L https://github.com/docker/compose/releases/download/1.28.2/docker-compose-$(uname -s)-$(uname -m) -o /usr/local/bin/docker-compose &amp;&amp; chmod +x /usr/local/bin/docker-compose\nusermod -aG docker $USER\n</code></pre> <p>\u0417\u0430\u0442\u0435\u043c \u043d\u0430\u0436\u043c\u0438\u0442\u0435 Ctrl+D \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0441\u0443\u043f\u0435\u0440\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440.</p>"},{"location":"install_deps/#2-cookiecutter","title":"\u0428\u0430\u0433 2. \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c cookiecutter","text":"<p>Cookiecutter \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0430 \u0438\u0437 \u0448\u0430\u0431\u043b\u043e\u043d\u0430.</p> <pre><code>pip3 install cookiecutter\n</code></pre>"},{"location":"install_deps/#3-pipenv","title":"\u0428\u0430\u0433 3. \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c Pipenv","text":"<p>Pipenv \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0442 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044f\u043c\u0438 \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435. \u041e\u043d \u0434\u0435\u043b\u0430\u0435\u0442 \u044d\u0442\u043e \u043b\u0443\u0447\u0448\u0435, \u0447\u0435\u043c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 <code>pip</code>.</p> <pre><code>pip3 install pipenv\n</code></pre> <p>\u0415\u0441\u043b\u0438 \u0432\u044b \u043d\u0430 MacOS, \u0442\u043e \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c brew:</p> <pre><code>brew install pipenv\n</code></pre>"},{"location":"install_new_project/","title":"\u0421\u0442\u0430\u0440\u0442 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<p>\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b.</p>"},{"location":"install_new_project/#1","title":"\u0428\u0430\u0433 1. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u043e\u0432\u044b\u0439 \u0441\u0430\u0439\u0442 \u0438\u0437 \u0448\u0430\u0431\u043b\u043e\u043d\u0430","text":"<p>\u0411\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0430 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f \u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u043c \u0432 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435.</p> <pre><code>cookiecutter https://github.com/garpixcms/garpixcms-empty-template\ncd website\n</code></pre>"},{"location":"install_new_project/#2","title":"\u0428\u0430\u0433 2. \u041f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f","text":"<p>\u0417\u0430\u0433\u043b\u044f\u043d\u0438\u0442\u0435 \u0432 \u0444\u0430\u0439\u043b <code>.env</code>. \u0412\u043f\u043e\u043b\u043d\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0447\u0442\u043e \u0432\u044b \u0437\u0430\u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435.</p> <pre><code>cp example.env .env\n</code></pre>"},{"location":"install_new_project/#3","title":"\u0428\u0430\u0433 3. \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u044b\u0435 \u043f\u0430\u043a\u0435\u0442\u044b","text":"<p>\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e \u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u043c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438.</p> <pre><code>pipenv install\npipenv shell\n</code></pre>"},{"location":"install_new_project/#4-docker","title":"\u0428\u0430\u0433 4. \u041f\u043e\u0434\u043d\u0438\u043c\u0430\u0435\u043c docker","text":"<p>\u041f\u043e\u0434\u043d\u0438\u043c\u0430\u0435\u043c \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0447\u0435\u0440\u0435\u0437 docker-compose.</p> <pre><code>docker-compose up -d\n</code></pre>"},{"location":"install_new_project/#5","title":"\u0428\u0430\u0433 5. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438","text":"<pre><code>python3 backend/manage.py makemigrations\n</code></pre>"},{"location":"install_start_project/","title":"\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u043f\u0440\u043e\u0435\u043a\u0442","text":"<p>\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b.</p>"},{"location":"install_start_project/#1","title":"\u0428\u0430\u0433 1. \u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u0432 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442","text":"<p>\u0415\u0441\u043b\u0438 \u0432\u044b \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0435\u0442\u0435\u0441\u044c \u043a \u043f\u0440\u043e\u0435\u043a\u0442\u0443, \u0442\u043e \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0435\u0433\u043e \u0441\u043a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f:</p> <pre><code>git clone &lt;repo_url&gt;\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u043a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438\u043b\u0438 \u0435\u0441\u043b\u0438 \u0441\u0430\u0439\u0442 \u0443\u0436\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e, \u0442\u043e \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432 \u0435\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e:</p> <pre><code>cd &lt;website_directory&gt;\n</code></pre>"},{"location":"install_start_project/#2","title":"\u0428\u0430\u0433 2. \u041f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f","text":"<p>\u0417\u0430\u0433\u043b\u044f\u043d\u0438\u0442\u0435 \u0432 \u0444\u0430\u0439\u043b <code>.env</code>. \u0412\u043f\u043e\u043b\u043d\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0447\u0442\u043e \u0432\u044b \u0437\u0430\u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435.</p> <pre><code>cp example.env .env\n</code></pre>"},{"location":"install_start_project/#3","title":"\u0428\u0430\u0433 3. \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u044b\u0435 \u043f\u0430\u043a\u0435\u0442\u044b","text":"<p>\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e \u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u043c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438.</p> <pre><code>pipenv install\npipenv shell\n</code></pre>"},{"location":"install_start_project/#4-docker","title":"\u0428\u0430\u0433 4. \u041f\u043e\u0434\u043d\u0438\u043c\u0430\u0435\u043c docker","text":"<p>\u041f\u043e\u0434\u043d\u0438\u043c\u0430\u0435\u043c \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0447\u0435\u0440\u0435\u0437 docker-compose.</p> <pre><code>docker-compose up -d\n</code></pre>"},{"location":"install_start_project/#5","title":"\u0428\u0430\u0433 5. \u041f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u0438 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0443\u043f\u0435\u0440\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f","text":"<pre><code>python3 backend/manage.py migrate\npython3 backend/manage.py createsuperuser\n</code></pre>"},{"location":"install_start_project/#6","title":"\u0428\u0430\u0433 6. \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0441\u0435\u0440\u0432\u0435\u0440","text":"<pre><code>python3 backend/manage.py runserver\n</code></pre>"},{"location":"deprecated/example_simple_templates_site_deprecated_2021-09-10/","title":"\u041a\u043e\u0440\u043f\u043e\u0440\u0430\u0442 \u043d\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445","text":"<p>\u041f\u0440\u0438\u043c\u0435\u0440 \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e \u043a\u043e\u0440\u043f\u043e\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0430 \u043d\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445.</p> <p>\u0421\u0430\u0439\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0432 \u0441\u0435\u0431\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435:</p> <ul> <li>\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430</li> <li>\u041d\u043e\u0432\u043e\u0441\u0442\u0438 \u0441\u043f\u0438\u0441\u043e\u043a</li> <li>\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0430\u044f</li> <li>\u041e \u043d\u0430\u0441</li> <li>\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</li> </ul>"},{"location":"deprecated/example_simple_templates_site_deprecated_2021-09-10/#1","title":"\u0428\u0430\u0433 1. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<p>\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430, \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u043f\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438.</p> <p>\u0415\u0441\u043b\u0438 \u043f\u043e\u0441\u043b\u0435 \u0432\u0445\u043e\u0434\u0430 \u0443\u0432\u0438\u0434\u0438\u0442\u0435 \u043e\u0448\u0438\u0431\u043a\u0443 \"No template names provided\" - \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442, \u0447\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442\u044c \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u0448\u0430\u0433\u0443.</p>"},{"location":"deprecated/example_simple_templates_site_deprecated_2021-09-10/#2-","title":"\u0428\u0430\u0433 2. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0432 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438","text":"<p>\u0417\u0430\u0445\u043e\u0434\u0438\u043c \u0432 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u044c \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 http://localhost:8000/admin/.</p> <p>2.1. \u0417\u0430\u0445\u043e\u0434\u0438\u043c \u0432 \"\u0421\u0430\u0439\u0442\u044b\". \u041c\u043e\u0436\u043d\u043e \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430 \u043d\u0430 \u0442\u043e\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c. \u041d\u0430 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438 \u0442\u043e\u0442, \u0447\u0442\u043e \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e - <code>example.com</code>.</p> <p>2.2. \u0417\u0430\u0445\u043e\u0434\u0438\u043c \u0432 \"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\". \u041d\u0430\u0436\u0438\u043c\u0430\u0435\u043c \"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c\", \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u043f\u043e\u043b\u044f:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \"\u0413\u043b\u0430\u0432\u043d\u0430\u044f\"</li> <li>\u0427\u041f\u0423: \u0441\u0442\u0438\u0440\u0430\u0435\u043c, \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> <li>\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435: \"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043c\u043e\u0435\u0433\u043e \u0441\u0430\u0439\u0442\u0430\"</li> <li>\u041c\u043e\u0436\u043d\u043e \u0442\u0430\u043a\u0436\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c SEO-\u0442\u0435\u0433\u0438 (\u0434\u0430\u043b\u0435\u0435 \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0445 \u0443\u0432\u0438\u0434\u0435\u0442\u044c, \u0435\u0441\u043b\u0438 \u043e\u0442\u043a\u0440\u043e\u0435\u0442\u0435 \u043a\u043e\u0434 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b http://localhost:8000/)</li> </ul> <p>\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0439\u0442\u0435.</p> <p>2.3. \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0441\u0430\u0439\u0442\u0430 http://localhost:8000/ \u0438 \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u0431\u0443\u0442\u0441\u0442\u0440\u0430\u043f-\u0448\u0430\u0431\u043b\u043e\u043d, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b\u0432\u0435\u043b\u0438\u0441\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f.</p> <p>2.4. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u0441\u044f \u0432 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u0443\u044e \u043f\u0430\u043d\u0435\u043b\u044c \u0438 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0435\u0449\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0447\u0435\u0440\u0435\u0437 \"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\":</p> <p>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \"\u041e \u043d\u0430\u0441\":</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \"\u041e \u043d\u0430\u0441\"</li> <li>\u0427\u041f\u0423: \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> <li>\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435: \"\u0417\u0434\u0435\u0441\u044c \u0442\u0435\u043a\u0441\u0442 \u043e \u043d\u0430\u0441\"</li> </ul> <p>2.5. \u0414\u0430\u043b\u0435\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043c\u0435\u043d\u044e. \u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u0432 \"\u041f\u0443\u043d\u043a\u0442\u044b \u043c\u0435\u043d\u044e\".</p> <p>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u0443\u043d\u043a\u0442\u044b \u043c\u0435\u043d\u044e.</p> <p>\u041c\u0435\u043d\u044e \"\u0413\u043b\u0430\u0432\u043d\u0430\u044f\":</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u0413\u043b\u0430\u0432\u043d\u0430\u044f</li> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u0413\u043b\u0430\u0432\u043d\u0430\u044f</li> <li>\u0422\u0438\u043f \u043c\u0435\u043d\u044e: Header menu</li> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u0435\u0434\u0435\u0442 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430</li> <li>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: 50</li> </ul> <p>\u041c\u0435\u043d\u044e \"\u041e \u043d\u0430\u0441\":</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u041e \u043d\u0430\u0441</li> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041e \u043d\u0430\u0441</li> <li>\u0422\u0438\u043f \u043c\u0435\u043d\u044e: Header menu</li> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u0435\u0434\u0435\u0442 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u041e \u043d\u0430\u0441</li> <li>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: 80</li> </ul> <p>2.6. \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0441\u0430\u0439\u0442\u0430 http://localhost:8000/ \u0438 \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u043c\u0435\u043d\u044e, \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0435 \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446.</p>"},{"location":"deprecated/example_simple_templates_site_deprecated_2021-09-10/#3","title":"\u0428\u0430\u0433 3. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446","text":"<p>3.1. \u041f\u043e\u044f\u0441\u043d\u0435\u043d\u0438\u044f</p> <p>\u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0441\u0430\u0439\u0442\u0430, \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043e\u043c. \u0412 GarpixCMS \u0435\u0441\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0437 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c \u043d\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u043c \u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439 \u0427\u041f\u0423 \u0441 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435\u043c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446.</p> <p>\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043c\u043e\u0434\u0443\u043b\u044c garpix_page \u0441 \u043f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 (\u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0445 \u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0442\u044c).</p> <p>\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0430\u0434\u043e \u043f\u043e\u043d\u044f\u0442\u044c \u0442\u0435\u0440\u043c\u0438\u043d\u043e\u043b\u043e\u0433\u0438\u044e:</p> <ul> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 (Page, Model Page) - \u044d\u0442\u043e \u043c\u043e\u0434\u0435\u043b\u044c, \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0439 \u043a\u043b\u0430\u0441\u0441 \u043e\u0442 <code>BasePage</code>. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0445 \u0441\u0430\u043c\u0438.</li> <li>\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 (Context) - \u0444\u0443\u043d\u043a\u0446\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043b\u043e\u0432\u0430\u0440\u044c. \u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u043c\u043e\u0434\u0435\u043b\u0438. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445. \u0412\u0441\u0435\u0433\u0434\u0430 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u044f <code>object</code> (\u043e\u0431\u044a\u0435\u043a\u0442 \u043a\u043b\u0430\u0441\u0441\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b) \u0438 <code>request</code>.</li> <li>\u0428\u0430\u0431\u043b\u043e\u043d (Template) - \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 Django \u0448\u0430\u0431\u043b\u043e\u043d.</li> </ul> <p>\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0432 <code>garpixcms/models/page.py</code>.</p> <p>3.2. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u044b\u0435 \u0442\u0438\u043f\u044b \u0441\u0442\u0440\u0430\u043d\u0438\u0446</p> <p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u044e\u0449\u0438\u0435 \u0434\u043b\u044f \u043d\u0430\u0441 \u0442\u0438\u043f\u044b \u0441\u0442\u0440\u0430\u043d\u0438\u0446. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0440\u0430\u0437\u0431\u0435\u0440\u0435\u043c \u0442\u043e, \u0447\u0442\u043e \u0435\u0441\u0442\u044c \u0441\u0435\u0439\u0447\u0430\u0441 \u0438 \u0447\u0442\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c/\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c.</p> <p>3.2.1. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\"</p> <p>\u042d\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0432 \u0441\u0435\u0431\u044f \u043a\u0430\u0440\u0442\u0443, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0443 \u043d\u0435\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u0448\u0430\u0431\u043b\u043e\u043d. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u043e\u043b\u044f \"\u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430\", \"\u0435\u043c\u0435\u0439\u043b\", \"\u0430\u0434\u0440\u0435\u0441\", \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0437 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438. \u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e, \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0435\u0449\u0435 \u043e\u0434\u043d\u0430 \u043c\u043e\u0434\u0435\u043b\u044c.</p> <p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043d\u043e\u0432\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043d\u0430\u0448\u0435\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430.</p> <pre><code>cd backend\npython3 manage.py startapp content\n</code></pre> <p>\u0423\u0434\u0430\u043b\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>models.py</code>, \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e <code>content/models</code>.</p> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/models</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>contact_page.py</code> \u0438 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043c\u043e\u0434\u0435\u043b\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b (\u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u043d\u0430 \u0442\u043e, \u0447\u0442\u043e \u044d\u0442\u043e \u043d\u0430\u0441\u043b\u0435\u0434\u043d\u0438\u043a <code>BasePage</code>):</p> <pre><code>from garpix_page.models import BasePage\nfrom django.db import models\n\n\nclass ContactPage(BasePage):\n    address = models.CharField(max_length=250, verbose_name='\u0410\u0434\u0440\u0435\u0441', blank=True, default='', null=False)\n    phone = models.CharField(max_length=30, verbose_name='\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430', blank=True, default='', null=False)\n    email = models.CharField(max_length=100, verbose_name='E-mail', blank=True, default='', null=False)\n\n    template = 'pages/contact_page.html'\n\n    class Meta:\n        verbose_name = \"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\"\n        verbose_name_plural = \"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\"\n        ordering = ('-created_at',)\n\n</code></pre> <p>\u0417\u0430\u0442\u0435\u043c \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e <code>content/models</code> \u0444\u0430\u0439\u043b <code>__init__.py</code> \u0441\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c:</p> <pre><code>from .contact_page import ContactPage\n\n</code></pre> <p>\u0423\u0434\u0430\u043b\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>admin.py</code>. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e <code>content/admin/</code> \u0441 \u0444\u0430\u0439\u043b\u043e\u043c <code>contact_page.py</code> \u0438 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c:</p> <pre><code>from ..models.contact_page import ContactPage\nfrom django.contrib import admin\nfrom garpix_page.admin import BasePageAdmin\n\n\n@admin.register(ContactPage)\nclass ContactPageAdmin(BasePageAdmin):\n    pass\n\n</code></pre> <p>\u0417\u0430\u0442\u0435\u043c \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e <code>content/admin</code> \u0444\u0430\u0439\u043b <code>__init__.py</code> \u0441\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c:</p> <pre><code>from .contact_page import ContactPageAdmin\n\n</code></pre> <p>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u044b. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e, \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e <code>content/translation/</code> \u0438 \u0432 \u043d\u0435\u0439 \u0444\u0430\u0439\u043b <code>contact_page.py</code> \u0441 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c (\u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u043f\u043e\u043b\u0435 <code>title</code> \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0438 \u0435\u0433\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f):</p> <pre><code>from modeltranslation.translator import TranslationOptions, register\nfrom ..models import ContactPage\n\n\n@register(ContactPage)\nclass ContactPageTranslationOptions(TranslationOptions):\n    fields = ('address',)\n\n</code></pre> <p>\u0417\u0430\u0442\u0435\u043c \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e <code>content/translation</code> \u0444\u0430\u0439\u043b <code>__init__.py</code> \u0441\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c:</p> <pre><code>from .contact_page import ContactPageTranslationOptions\n\n</code></pre> <p>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 <code>content</code> \u0432 <code>app/settings.py</code>:</p> <pre><code># app/settings.py\n\nINSTALLED_APPS += ['content']\n\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u0447\u0435\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u0438\u0445:</p> <pre><code>python3 manage.py makemigrations\npython3 manage.py migrate\n</code></pre> <p>\u0422\u0430\u043a\u0436\u0435, \u0443 \u043d\u0430\u0441 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u0448\u0430\u0431\u043b\u043e\u043d, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e <code>content/templates/pages/</code> \u0438 \u0432 \u043d\u0435\u0439 \u0444\u0430\u0439\u043b <code>contact_page.html</code> \u0441 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c:</p> <pre><code>{% extends 'garpixcms/base.html' %}\n\n{% block content %}\n&lt;h1&gt;{{object.title}}&lt;/h1&gt;\n&lt;div&gt;\n    &lt;p&gt;\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430: {{object.phone}}&lt;/p&gt;\n    &lt;p&gt;E-mail: {{object.email}}&lt;/p&gt;\n    &lt;p&gt;\u0410\u0434\u0440\u0435\u0441: {{object.address}}&lt;/p&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0438\u0434\u0435\u043c \u0432 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u044c \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0447\u0435\u0440\u0435\u0437 \"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\":</p> <p>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\" (\u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u043c\u043e\u0434\u0435\u043b\u044c \"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\").</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\"</li> <li>\u0427\u041f\u0423: \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> <li>E-mail: \"example@gmail.com\"</li> <li>\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430: \"8 999 999 99 99\"</li> <li>\u0410\u0434\u0440\u0435\u0441: \"\u0433. \u041c\u043e\u0441\u043a\u0432\u0430\"</li> </ul> <p>\u0417\u0430\u0442\u0435\u043c \u0438\u0434\u0435\u043c \u0432 \"\u041f\u0443\u043d\u043a\u0442\u044b \u043c\u0435\u043d\u044e\" \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u044b\u0439:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</li> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</li> <li>\u0422\u0438\u043f \u043c\u0435\u043d\u044e: Header menu</li> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u0435\u0434\u0435\u0442 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</li> <li>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: 100</li> </ul> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u0430\u0439\u0442\u0430 \u0438 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b. \u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e \"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\", \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0435 \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435\u0439.</p> <p>3.2.2. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \"\u041d\u043e\u0432\u043e\u0441\u0442\u044c\" (\u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u043e\u0432\u043e\u0441\u0442\u0438)</p> <p>\u0414\u043e\u0431\u0430\u0432\u0438\u043c \u043d\u043e\u0432\u0443\u044e \u043c\u043e\u0434\u0435\u043b\u044c \u0438 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0442\u0438\u043f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b.</p> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/models</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>news_page.py</code> (\u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u043f\u043e\u043b\u044f \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442 \u0441 \u043e\u0431\u044b\u0447\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435\u0439 (<code>garpixcms.Page</code>), \u043d\u043e \u043c\u044b \u0441\u043e\u0437\u0434\u0430\u043b\u0438 \u043d\u043e\u0432\u0443\u044e \u043c\u043e\u0434\u0435\u043b\u044c. \u042d\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u043b\u0438 \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0443\u0434\u043e\u0431\u043d\u0435\u0435 \u0431\u044b\u043b\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c. \u041f\u043b\u044e\u0441, \u0432\u043f\u043e\u043b\u043d\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0447\u0442\u043e \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043e\u0441\u043e\u0431\u0443\u044e \u043b\u043e\u0433\u0438\u043a\u0443, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u0443\u044e \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044e \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439.</p> <pre><code>from garpix_page.models import BasePage\nfrom ckeditor_uploader.fields import RichTextUploadingField\n\n\nclass NewsPage(BasePage):\n    content = RichTextUploadingField(verbose_name='\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435', blank=True, default='')\n\n    template = 'pages/news_page.html'\n\n    class Meta:\n        verbose_name = \"\u041d\u043e\u0432\u043e\u0441\u0442\u044c\"\n        verbose_name_plural = \"\u041d\u043e\u0432\u043e\u0441\u0442\u0438\"\n        ordering = ('-created_at',)\n\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>content/models/__init__.py</code>:</p> <pre><code>from .contact_page import ContactPage\nfrom .news_page import NewsPage\n\n</code></pre> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/admin</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>news_page.py</code>:</p> <pre><code>from ..models.news_page import NewsPage\nfrom django.contrib import admin\nfrom garpix_page.admin import BasePageAdmin\n\n\n@admin.register(NewsPage)\nclass NewsPageAdmin(BasePageAdmin):\n    pass\n\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>content/admin/__init__.py</code>:</p> <pre><code>from .contact_page import ContactPageAdmin\nfrom .news_page import NewsPageAdmin\n\n</code></pre> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/translation</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>news_page.py</code>:</p> <pre><code>from modeltranslation.translator import TranslationOptions, register\nfrom ..models import NewsPage\n\n\n@register(NewsPage)\nclass NewsPageTranslationOptions(TranslationOptions):\n    fields = ('content',)\n\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>content/translation/__init__.py</code>:</p> <pre><code>from .contact_page import ContactPageTranslationOptions\nfrom .news_page import NewsPageTranslationOptions\n\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043e\u043f\u044f\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u0438\u0445:</p> <pre><code>python3 manage.py makemigrations\npython3 manage.py migrate\n</code></pre> <p>\u0422\u0430\u043a\u0436\u0435, \u043c\u043e\u0436\u0435\u043c \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u0448\u0430\u0431\u043b\u043e\u043d, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0444\u0430\u0439\u043b <code>content/templates/pages/news_detail.html</code>:</p> <pre><code>{% extends 'garpixcms/base.html' %}\n\n{% block content %}\n&lt;h1&gt;{{object.title}}&lt;/h1&gt;\n&lt;div&gt;{{object.created_at|date:\"d.m.Y\"}}&lt;/div&gt;\n&lt;div&gt;\n    {{object.content|safe}}\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>\u041f\u043e\u043a\u0430 \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0438 \u0432 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438. \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u0438\u0445 \u0441\u043f\u0438\u0441\u043e\u0447\u043d\u043e\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435, \u0441\u043c. \u0434\u0430\u043b\u044c\u0448\u0435.</p> <p>3.2.3. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \"\u0421\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439\"</p> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u0435\u0449\u0435 \u043e\u0434\u0438\u043d \u0442\u0438\u043f \u0441\u0442\u0440\u0430\u043d\u0438\u0446.</p> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/models</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>news_list_page.py</code> \u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u043c\u043e\u0434\u0435\u043b\u0438 \u043e\u0441\u043e\u0431\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 (\u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>get_context</code>).</p> <pre><code>from garpix_page.models import BasePage\nfrom .news_page import NewsPage\n\n\nclass NewsListPage(BasePage):\n    template = 'pages/news_list_page.html'\n\n    def get_context(self, request=None, *args, **kwargs):\n        context = super().get_context(request, *args, **kwargs)\n        posts = NewsPage.on_site.filter(is_active=True, parent=kwargs['object'])\n        context.update({\n            'posts': posts\n        })\n        return context\n\n    class Meta:\n        verbose_name = \"\u0421\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439\"\n        verbose_name_plural = \"\u0421\u043f\u0438\u0441\u043a\u0438 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439\"\n        ordering = ('-created_at',)\n\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>content/models/__init__.py</code>:</p> <pre><code>from .contact_page import ContactPage\nfrom .news_page import NewsPage\nfrom .news_list_page import NewsListPage\n\n</code></pre> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/admin</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>news_list_page.py</code>:</p> <pre><code>from ..models.news_list_page import NewsListPage\nfrom django.contrib import admin\nfrom garpix_page.admin import BasePageAdmin\n\n\n@admin.register(NewsListPage)\nclass NewsListPageAdmin(BasePageAdmin):\n    pass\n\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>content/admin/__init__.py</code>:</p> <pre><code>from .contact_page import ContactPageAdmin\nfrom .news_page import NewsPageAdmin\nfrom .news_list_page import NewsListPage\n\n</code></pre> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/translation</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>news_list_page.py</code>:</p> <pre><code>from modeltranslation.translator import TranslationOptions, register\nfrom ..models import NewsListPage\n\n\n@register(NewsListPage)\nclass NewsListPageTranslationOptions(TranslationOptions):\n    pass\n\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>content/translation/__init__.py</code>:</p> <pre><code>from .contact_page import ContactPageTranslationOptions\nfrom .news_page import NewsPageTranslationOptions\nfrom .news_list_page import NewsListPageTranslationOptions\n\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043e\u043f\u044f\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u0438\u0445:</p> <pre><code>python3 manage.py makemigrations\npython3 manage.py migrate\n</code></pre> <p>\u0422\u0430\u043a\u0436\u0435, \u043c\u043e\u0436\u0435\u043c \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u0448\u0430\u0431\u043b\u043e\u043d, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0444\u0430\u0439\u043b <code>content/templates/pages/news_list_page.html</code>:</p> <pre><code>{% extends 'garpixcms/base.html' %}\n\n{% block content %}\n&lt;h1&gt;{{object.title}}&lt;/h1&gt;\n{% for post in posts %}\n    &lt;div&gt;\n        &lt;h3&gt;&lt;a href=\"{{post.get_absolute_url}}\"&gt;{{post.title}}&lt;/a&gt;&lt;/h3&gt;\n    &lt;/div&gt;\n{% endfor %}\n{% endblock %}\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0445\u043e\u0434\u0438\u0442\u044c \u0432 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u0443\u044e \u043f\u0430\u043d\u0435\u043b\u044c, \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442 \"\u0421\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439\" \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0435\u0433\u043e \u0434\u0430\u043d\u043d\u044b\u0435.</p> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e, \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \"\u041d\u043e\u0432\u043e\u0441\u0442\u044c\" \u0438 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u043b\u0435 \"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\" \u0443 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u0441\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e \u0441\u043e\u0437\u0434\u0430\u043b\u0438.</p> <p>\u041e\u0441\u0442\u0430\u0435\u0442\u0441\u044f \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u043d\u044e:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u041d\u043e\u0432\u043e\u0441\u0442\u0438</li> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041d\u043e\u0432\u043e\u0441\u0442\u0438</li> <li>\u0422\u0438\u043f \u043c\u0435\u043d\u044e: Header menu</li> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u0435\u0434\u0435\u0442 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u0421\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439</li> <li>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: 100</li> </ul> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e, \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 http://localhost:8000 \u0438 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0447\u0442\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c.</p> <p>P.S. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0434\u043b\u044f \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 <code>templates/garpixcms/pages/default.html</code>, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435:</p> <pre><code>{% extends 'garpixcms/base.html' %}\n\n{% block content %}\n&lt;h1&gt;{{object.title}}&lt;/h1&gt;\n&lt;div&gt;\n    {{object.content|safe}}\n&lt;/div&gt;\n{% endblock %}\n</code></pre>"},{"location":"examples/auth_spa/","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0432\u0445\u043e\u0434\u0430 \u043d\u0430 SPA-\u0441\u0430\u0439\u0442 (React, Vue.js, Angular)","text":""},{"location":"examples/auth_spa/#1","title":"\u0428\u0430\u0433 1. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<p>\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430, \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u043f\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438.</p>"},{"location":"examples/auth_spa/#2","title":"\u0428\u0430\u0433 2. \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0432\u0445\u043e\u0434","text":"<p>\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0445\u043e\u0434 \u0432 <code>.env</code>:</p> <pre><code># ...\n\nENABLE_GARPIX_AUTH=True\n\n</code></pre> <p>\u042d\u0442\u043e \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0442\u043e\u0447\u043a\u0438:</p> <ul> <li><code>/login/</code> - \u0432\u0445\u043e\u0434 \u0434\u043b\u044f \u0441\u0430\u0439\u0442\u043e\u0432 \u043d\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445, \u0432\u044b\u0434\u0430\u0435\u0442 \u0441\u0435\u0441\u0441\u0438\u044e;</li> <li><code>/logout/</code> - \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d, \u0441\u0435\u0441\u0441\u0438\u044e;</li> <li><code>/api/auth/login/</code> - \u0432\u0445\u043e\u0434 \u0434\u043b\u044f SPA \u0441\u0430\u0439\u0442\u043e\u0432.</li> <li><code>/api/auth/refresh/</code> - \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u043a\u0435\u043d\u0430 SPA \u0441\u0430\u0439\u0442\u043e\u0432.</li> <li><code>/api/auth/logout/</code> - \u0432\u044b\u0445\u043e\u0434 \u0434\u043b\u044f SPA \u0441\u0430\u0439\u0442\u043e\u0432.</li> </ul>"},{"location":"examples/auth_spa/#_1","title":"\u041f\u0440\u0438\u043c\u0435\u0440\u044b","text":""},{"location":"examples/auth_spa/#spa-httpie","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u0445\u043e\u0434\u0430 \u0434\u043b\u044f SPA \u0441\u0430\u0439\u0442\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 httpie","text":""},{"location":"examples/auth_spa/#1-httpie","title":"\u0428\u0430\u0433 1. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 httpie","text":"<pre><code>brew install httpie  # \u0434\u043b\u044f macos\napt-get install httpie -y  # \u0434\u043b\u044f debian/ubuntu\n</code></pre>"},{"location":"examples/auth_spa/#2_1","title":"\u0428\u0430\u0433 2. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u0432\u0445\u043e\u0434","text":"<p>\u0424\u0430\u0439\u043b <code>.env</code>:</p> <pre><code># ...\n\nENABLE_GARPIX_AUTH=True\n</code></pre> <p>\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439:</p> <pre><code>python3 backend/manage.py makemigrations\npython3 backend/manage.py migrate\n</code></pre> <p>\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0432 <code>backend/app/settings.py</code> \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 (\u0435\u0441\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 <code>0</code> - \u043f\u0440\u043e\u0442\u0443\u0445\u0430\u0442\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442):</p> <pre><code>GARPIX_ACCESS_TOKEN_TTL_SECONDS = 86400  # \u0422\u043e\u043a\u0435\u043d \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0442\u0443\u0445\u0430\u0442\u044c \u0447\u0435\u0440\u0435\u0437 \u0441\u0443\u0442\u043a\u0438\nGARPIX_REFRESH_TOKEN_TTL_SECONDS = 86400 * 14  # \u0420\u0435\u0444\u0440\u0435\u0448-\u0442\u043e\u043a\u0435\u043d \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0442\u0443\u0445\u0430\u0442\u044c \u043f\u043e\u0441\u043b\u0435 14 \u0441\u0443\u0442\u043e\u043a\n</code></pre>"},{"location":"examples/auth_spa/#3","title":"\u0428\u0430\u0433 3. \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0441\u0430\u0439\u0442","text":"<pre><code>python3 backend/manage.py runserver\n</code></pre>"},{"location":"examples/auth_spa/#4","title":"\u0428\u0430\u0433 4. \u0421\u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0432\u0445\u043e\u0434","text":"<p>\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u043b\u043e\u0433\u0438\u043d\u0430 \u0441 <code>/api/login/</code> \u043d\u0430 <code>/api/auth/login/</code>.</p> <p>\u041f\u0440\u0438\u043c\u0435\u0440 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 (\u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f httpie):</p> <pre><code>http POST 'http://localhost:8000/api/auth/login/' username=user password=mysuperpassword\n</code></pre> <p>\u041f\u0440\u0438\u043c\u0435\u0440 \u043e\u0442\u0432\u0435\u0442\u0430:</p> <pre><code>{\n    \"access_token\": \"7c21c191a3720925ff80350b395725d31745bcac\",\n    \"access_token_expires\": 86400,\n    \"refresh_token\": \"946cd6498df1de4bb24d0fc63286b01341265b3e\",\n    \"refresh_token_expires\": 1209600,\n    \"token_type\": \"Bearer\"\n}\n</code></pre>"},{"location":"examples/auth_spa/#5","title":"\u0428\u0430\u0433 5. \u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0439\u0442\u0435 \u043f\u0440\u043e\u0442\u0443\u0445\u0448\u0438\u0439 \u0442\u043e\u043a\u0435\u043d","text":"<p>\u0415\u0441\u043b\u0438 <code>access_token</code> \u043f\u0440\u043e\u0442\u0443\u0445, \u0442\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442\u044c \u043d\u0435 \u0431\u0443\u0434\u0443\u0442. \u0422\u043e\u0433\u0434\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u044d\u0442\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b (\u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f httpie):</p> <pre><code>http POST 'http://localhost:8000/api/auth/refresh/' refresh_token=946cd6498df1de4bb24d0fc63286b01341265b3e\n</code></pre> <p>\u041f\u0440\u0438\u043c\u0435\u0440 \u043e\u0442\u0432\u0435\u0442\u0430:</p> <pre><code>{\n    \"access_token\": \"227b68233b26ab16239db556a267a4f849fd882c\",\n    \"access_token_expires\": 86400,\n    \"result\": true\n}\n</code></pre> <p>\u041f\u0440\u0438 \u044d\u0442\u043e\u043c, \u0435\u0441\u043b\u0438 refresh-\u0442\u043e\u043a\u0435\u043d \u043f\u0440\u043e\u0442\u0443\u0445, \u0442\u043e \u043e\u0442\u0432\u0435\u0442 \u0431\u0443\u0434\u0435\u0442:</p> <pre><code>{\n    \"result\": false\n}\n</code></pre>"},{"location":"examples/auth_spa/#6","title":"\u0428\u0430\u0433 6. \u0423\u0434\u0430\u043b\u044f\u0439\u0442\u0435 \u0442\u043e\u043a\u0435\u043d\u044b \u043f\u0440\u0438 \u0432\u044b\u0445\u043e\u0434\u0435","text":"<p>\u0422\u0430\u043a\u0436\u0435, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0442\u043e\u043a\u0435\u043d\u044b \u0441 \u0431\u044d\u043a\u0435\u043d\u0434\u0430 (\u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0432\u044b\u0445\u043e\u0434), \u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0443 (\u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f httpie):</p> <pre><code>http POST 'http://localhost:8000/api/auth/logout/' 'Authorization: Bearer 227b68233b26ab16239db556a267a4f849fd882c'\n</code></pre> <p>\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0443\u0441\u043f\u0435\u0445\u0430 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u0432\u0435\u0442:</p> <pre><code>{\n    \"result\": true\n}\n</code></pre> <p>\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0443\u0434\u0430\u0447\u0438 \u0431\u0443\u0434\u0435\u0442 \u0441\u0442\u0430\u0442\u0443\u0441-\u043a\u043e\u0434 <code>401 Unauthorized</code>.</p>"},{"location":"examples/auth_templates/","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0432\u0445\u043e\u0434\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442 \u043d\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445","text":""},{"location":"examples/auth_templates/#1","title":"\u0428\u0430\u0433 1. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u0430\u0439\u0442","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043f\u043e \u043f\u0440\u0438\u043c\u0435\u0440\u0443 \u0438\u0437 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438.</p>"},{"location":"examples/auth_templates/#2-env","title":"\u0428\u0430\u0433 2. \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0432 <code>.env</code> \u0432\u0445\u043e\u0434:","text":"<pre><code># ...\n\nENABLE_GARPIX_AUTH=True\n\n</code></pre> <p>\u042d\u0442\u043e \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0442\u043e\u0447\u043a\u0438:</p> <ul> <li><code>/login/</code> - \u0432\u0445\u043e\u0434 \u0434\u043b\u044f \u0441\u0430\u0439\u0442\u043e\u0432 \u043d\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445, \u0432\u044b\u0434\u0430\u0435\u0442 \u0441\u0435\u0441\u0441\u0438\u044e;</li> <li><code>/logout/</code> - \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d, \u0441\u0435\u0441\u0441\u0438\u044e;</li> <li><code>/api/auth/login/</code> - \u0432\u0445\u043e\u0434 \u0434\u043b\u044f SPA \u0441\u0430\u0439\u0442\u043e\u0432.</li> <li><code>/api/auth/refresh/</code> - \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u043a\u0435\u043d\u0430 SPA \u0441\u0430\u0439\u0442\u043e\u0432.</li> <li><code>/api/auth/logout/</code> - \u0432\u044b\u0445\u043e\u0434 \u0434\u043b\u044f SPA \u0441\u0430\u0439\u0442\u043e\u0432.</li> </ul>"},{"location":"examples/auth_templates/#3","title":"\u0428\u0430\u0433 3. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0432\u0445\u043e\u0434\u0430","text":"<p>\u0414\u043e\u0431\u0430\u0432\u0438\u043c \u043d\u043e\u0432\u0443\u044e \u043c\u043e\u0434\u0435\u043b\u044c \u0438 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0442\u0438\u043f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b.</p> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/models</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>login_page.py</code>.</p> <pre><code>from garpix_page.models import BasePage\n\n\nclass LoginPage(BasePage):\n\n    template = 'garpixcms/pages/login.html'\n\n    class Meta:\n        verbose_name = \"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432\u0445\u043e\u0434\u0430\"\n        verbose_name_plural = \"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0432\u0445\u043e\u0434\u0430\"\n        ordering = ('-created_at',)\n\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>content/models/__init__.py</code>:</p> <pre><code># ...\nfrom .login_page import LoginPage\n\n</code></pre> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/admin</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>login_page.py</code>:</p> <pre><code>from ..models.login_page import LoginPage\nfrom django.contrib import admin\nfrom garpix_page.admin import BasePageAdmin\n\n\n@admin.register(LoginPage)\nclass LoginPageAdmin(BasePageAdmin):\n    pass\n\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>content/admin/__init__.py</code>:</p> <pre><code># ...\nfrom .login_page import LoginPageAdmin\n\n</code></pre> <p>\u0412 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>content/translation</code> \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b <code>login_page.py</code>:</p> <pre><code>from modeltranslation.translator import TranslationOptions, register\nfrom ..models import LoginPage\n\n\n@register(LoginPage)\nclass LoginPageTranslationOptions(TranslationOptions):\n    pass\n\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u0444\u0430\u0439\u043b <code>content/translation/__init__.py</code>:</p> <pre><code># ...\nfrom .login_page import LoginPageTranslationOptions\n\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043e\u043f\u044f\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u0438\u0445:</p> <pre><code>python3 manage.py makemigrations\npython3 manage.py migrate\n</code></pre> <p>\u0422\u0430\u043a\u0436\u0435, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u0448\u0430\u0431\u043b\u043e\u043d. \u041d\u0438\u0436\u0435 \u043f\u0440\u0438\u043c\u0435\u0440 \u043e\u0431\u044b\u0447\u043d\u043e\u0433\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0430 <code>garpixcms/pages/login.html</code>:</p> <pre><code>{% extends 'garpixcms/base.html' %}\n\n{% block content %}\n&lt;h1&gt;{{object.title}}&lt;/h1&gt;\n\n&lt;h2&gt;\u0412\u0445\u043e\u0434&lt;/h2&gt;\n&lt;p&gt;\u0427\u0442\u043e\u0431\u044b \u0444\u043e\u0440\u043c\u0430 \u0432\u0445\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430, \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0432 &lt;code&gt;.env&lt;/code&gt; \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e &lt;code&gt;ENABLE_GARPIX_AUTH=True&lt;/code&gt;&lt;/p&gt;\n&lt;div&gt;\n    {% include 'garpixcms/include/login.html' %}\n&lt;/div&gt;\n\n{% endblock %}\n</code></pre> <p>\u0418 \u0444\u0430\u0439\u043b\u0430 <code>garpixcms/include/login.html</code>:</p> <pre><code>{% if request.user.is_authenticated %}\n    User is authenticated ({{request.user.username}}) | &lt;a href=\"{% url 'logout' %}\"&gt;Logout&lt;/a&gt;\n{% else %}\n    &lt;form action=\"{% url 'authorize' %}?next=/\" method=\"post\"&gt;\n        {% csrf_token %}\n        &lt;div&gt;&lt;input type=\"text\" name=\"username\"&gt;&lt;/div&gt;\n        &lt;div&gt;&lt;input type=\"password\" name=\"password\"&gt;&lt;/div&gt;\n        &lt;div&gt;&lt;button type=\"submit\"&gt;Login&lt;/button&gt;&lt;/div&gt;\n    &lt;/form&gt;\n{% endif %}\n\n</code></pre>"},{"location":"examples/auth_templates/#4-","title":"\u0428\u0430\u0433 4. \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0432 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0432\u0445\u043e\u0434\u0430","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0432 \"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\" \u043d\u043e\u0432\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u043f\u043e\u043b\u044f. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0427\u041f\u0423 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c \u0441 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u043c \u043b\u043e\u0433\u0438\u043d\u0430 (URL: <code>/login/</code>)</p>"},{"location":"examples/auth_templates/#5","title":"\u0428\u0430\u0433 5. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u043e\u0439\u0442\u0438","text":"<p>\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 http://localhost:8000/ \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0444\u043e\u0440\u043c\u044b \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e.</p>"},{"location":"examples/notify/","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435","text":""},{"location":"examples/notify/#_2","title":"\u041e\u0431\u0449\u0438\u0439 \u043f\u0440\u0438\u043d\u0446\u0438\u043f \u0440\u0430\u0431\u043e\u0442\u044b","text":"<ol> <li> <p>\u0417\u0430\u0439\u0442\u0438 \u0432 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u044c \u0438 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b \"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\" - \"SMTP-\u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b\". \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c SMTP-\u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 Email-\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439. \u042d\u0442\u043e \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u0438 Email-\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439.</p> </li> <li> <p>\u0422\u0430\u043a\u0436\u0435 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\" - \"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438\" \u0438 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u0438\u0441\u0435\u043c. \u041e\u0431\u044b\u0447\u043d\u043e \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043e\u0434\u043d\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u043d\u043e\u0441\u0438\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 \u0434\u043b\u044f \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0438 \u043c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433\u043e\u0432\u044b\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f.</p> </li> <li> <p>\u0417\u0430\u0439\u0442\u0438 \u0432 \"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\" - \"\u0428\u0430\u0431\u043b\u043e\u043d\u044b\" \u0438 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u043d\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 (\u043a\u043e\u0433\u0434\u0430 \u0432\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u0438\u0445 \u0432 <code>settings.py</code> - \u0441\u043c. \u043d\u0438\u0436\u0435 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435).</p> </li> <li> <p>\u0412 \u043a\u043e\u0434\u0435, \u0433\u0434\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f, \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f:</p> </li> </ol> <pre><code>from garpix_confirm.settings import CHOICES_NOTIFY_CONFIRM_EVENT\nfrom garpix_notify.models import Notify\n\n# \u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441\n# Notify.send(&lt;event&gt;, &lt;context&gt;[, &lt;user=None&gt;, &lt;email=None&gt;, &lt;phone=None&gt;, &lt;files=None&gt;, &lt;data_json=None&gt;])\n# \u0422.\u0435. \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u043f\u0435\u0440\u0432\u044b\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u043c \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0441\u043e\u0431\u044b\u0442\u0438\u044f, \n# \u0432\u0442\u043e\u0440\u044b\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u0448\u0430\u0431\u043b\u043e\u043d\u0430,\n# \u0442\u0440\u0435\u0442\u044c\u0438\u043c - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u0435\u043c\u0435\u0439\u043b, \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0438 \u0442.\u043f.,\n# \u0442.\u043a. \u044d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043e \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0442\u0438\u043f\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430)\n\n# \u041f\u0440\u0438\u043c\u0435\u0440\nuser = request.user  # \u044d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f.\n\nNotify.send(CHOICES_NOTIFY_CONFIRM_EVENT, {\n    'confirmation_code': 'abcdef12345',\n}, user=user)\n\n# \u0415\u0441\u043b\u0438 \u0443 \u043d\u0430\u0441 \u043d\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435, \u043d\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0435\u043c\u0435\u0439\u043b, \u0442\u043e \u043c\u043e\u0436\u0435\u043c \u043f\u043e\u0441\u0442\u0443\u043f\u0438\u0442\u044c\n# \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c\n\nNotify.send(CHOICES_NOTIFY_CONFIRM_EVENT, {\n    'confirmation_code': 'abcdef12345',\n}, email='example@mail.ru')\n\n</code></pre>"},{"location":"examples/notify/#_3","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430:","text":"<p>\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u043c. \u0428\u0430\u0431\u043b\u043e\u043d - \u044d\u0442\u043e \u043c\u043e\u0434\u0435\u043b\u044c, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0434\u043d\u0438\u043c \u0438\u0437 \u0442\u0438\u043f\u043e\u0432 (\u0415\u043c\u0435\u0439\u043b, \u0421\u041c\u0421 \u0438\u043b\u0438 \u041f\u0443\u0448-\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435) \u0438 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0430\u044f \u0442\u0435\u043a\u0441\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d.</p> <p>\u041f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f (-\u0438\u0439) \u043f\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0443, \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u043f\u0438\u0441\u044c\u043c\u043e). \u0428\u0430\u0431\u043b\u043e\u043d\u044b \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 \u0447\u0435\u0440\u0435\u0437 \u0448\u0430\u0431\u043b\u043e\u043d\u0438\u0437\u0430\u0442\u043e\u0440 \u0434\u0436\u0430\u043d\u0433\u043e. \u0422.\u0435. \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 <code>{{ variable }}</code>, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0446\u0438\u043a\u043b\u044b \u0438 \u0443\u0441\u043b\u043e\u0432\u043d\u044b\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u044b <code>{% if blabla %}{% endif %}</code> \u0438 \u0442.\u043f.</p> <p>\u041f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f (-\u0438\u0439) \u043f\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0443 - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442\u0441\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u0435. \u041f\u0440\u0438 \u044d\u0442\u043e\u043c, \u0435\u0441\u043b\u0438 \u043d\u0430 \u043e\u0434\u043d\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0432\u0438\u0441\u0438\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432, \u0442\u043e \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043e\u043d\u0438 \u0432\u0441\u0435.</p> <p>\u0421\u043e\u0431\u044b\u0442\u0438\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043e\u043b\u0436\u043d\u044b \u0438\u043c\u0435\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440.</p> <p>\u0412 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 <code>settings.py</code> \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0441\u043b\u043e\u0432\u0430\u0440\u044c, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0439 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0441\u0435\u0445 (!) \u0441\u043e\u0431\u044b\u0442\u0438\u0439, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0432\u0435\u0441\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435. \u041f\u0440\u0438 \u044d\u0442\u043e\u043c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0438 \u0435\u0433\u043e \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a <code>title</code>.</p> <p>\u0412 settings.py \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438:</p> <pre><code>from garpix_confirm.settings import CHOICES_NOTIFY_CONFIRM_EVENT, NOTIFY_EVENTS_CONFIRM\n\nREGISTRATION_EVENT = 1\nFEEDBACK_EVENT = 2\n\nNOTIFY_EVENTS = {\n    REGISTRATION_EVENT: {\n        'title': '\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f',\n        'context_description': 'super reg context description',\n        'event_description': 'super event description',\n        'test_data': {'ho': 'hey'},\n    },\n    FEEDBACK_EVENT: {\n        'title': '\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c',\n    },\n}\n\n# \u041d\u0415 \u041c\u0415\u041d\u042f\u0422\u042c!\nCHOICES_NOTIFY_EVENT = sorted([(k, v['title']) for k, v in NOTIFY_EVENTS.items()], key=lambda x: x[1])\n\nNOTIFY_USER_WANT_MESSAGE_CHECK = \"app.notify_user_want_message.check\"  # default: None\n\n</code></pre> <p>,\u0433\u0434\u0435 * <code>NOTIFY_EVENTS</code> - \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0439 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0441 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u043c, \u0433\u0434\u0435:      - title - \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f,       - context_description - \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 (\u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0432 \u0430\u0434\u043c\u0438\u043d\u043a\u0435),       - event_description - \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f,       - test_data - \u0441\u043b\u043e\u0432\u0430\u0440\u044c, \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 (\u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0443) \u0434\u043b\u044f \u043e\u0442\u043b\u0430\u0434\u043a\u0438 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 (\u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439)</p> <ul> <li><code>CHOICES_NOTIFY_EVENT</code> - \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u0442\u0438\u043f\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u043b\u0438 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432.</li> <li><code>NOTIFY_SMS_URL</code> - URL \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u043c\u0441.</li> <li><code>NOTIFY_SMS_API_ID</code> - \u0438\u0434 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0441\u0435\u0440\u0432\u0438\u0441\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u043c\u0441.</li> <li><code>FCM_DJANGO_SETTINGS</code> - \u043a\u043b\u044e\u0447 \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 FCM SERVER.</li> <li><code>NOTIFY_USER_WANT_MESSAGE_CHECK</code> - \u043f\u0443\u0442\u044c \u043a \u043c\u0435\u0442\u043e\u0434\u0443, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 (\u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0445\u043e\u0447\u0435\u0442 \u0438\u0445 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c, \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u043b \u044d\u0442\u043e).</li> </ul> <p>\u041f\u0440\u0438\u043c\u0435\u0440 <code>app.notify_user_want_message.check</code>:</p> <pre><code>def check(notify_event_id, notify_type, user=None):\n    if user is None:\n        return True\n    return user.is_notify_enabled:  # your custom variable\n</code></pre>"},{"location":"examples/notify/#_4","title":"\u0412\u0430\u0436\u043d\u043e!","text":"<ol> <li>\u0412 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 celery \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435: settings.py:</li> </ol> <pre><code>CELERY_ENABLE_UTC = False\nDJANGO_CELERY_BEAT_TZ_AWARE = False\n</code></pre> <p>settings.py:</p> <pre><code>from django.utils import timezone\napp.now = timezone.now\n</code></pre> <p>\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u043e\u0431\u0443\u0441\u043b\u043e\u0432\u043b\u0435\u043d\u0430 \u0442\u0435\u043c \u0447\u0442\u043e celery \u043d\u0435\u043e\u0434\u043d\u043e\u0437\u043d\u0430\u0447\u043d\u043e \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u044b\u0432\u0430\u0435\u0442 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447 \u0435\u0441\u043b\u0438 \u0432  \u0441\u0438\u0441\u0442\u0435\u043c\u0435/\u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430 timezone \u043e\u0442\u043b\u0438\u0447\u043d\u0430\u044f \u043e\u0442 UTC.</p> <ol> <li>\u0412 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0435 \u0432\u0432\u0435\u0441\u0442\u0438:</li> </ol> <pre><code>celery -A app worker --loglevel=info -B\n</code></pre> <p>\"celery\" \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e \u0441 \"runserver\"</p>"},{"location":"examples/notify/#_5","title":"\u041e\u0431\u043e\u0431\u0449\u0435\u043d\u043d\u044b\u0439 \u043f\u0440\u0438\u043d\u0446\u0438\u043f \u0440\u0430\u0431\u043e\u0442\u044b","text":"<ol> <li> <p>\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u043e\u0431\u044b\u0442\u0438\u044f, \u043f\u043e\u043f\u0443\u0442\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044f \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u044f.</p> </li> <li> <p>\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439. \u041f\u0440\u0438\u0447\u0435\u043c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f:</p> <ul> <li>\u0441 \u0442\u043e\u0447\u043a\u0438 \u0437\u0440\u0435\u043d\u0438\u044f \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0430\u043d\u0430\u043b\u043e\u0433\u043e\u043c base.html \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u043f\u0440\u043e\u0435\u043a\u0442\u0430. </li> <li>\u0441\u0442\u043e\u0447\u043a\u0438 \u0437\u0440\u0435\u043d\u0438\u044f SMTP \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430 - \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u0441 \u043a\u0430\u043a\u0438\u0445 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432 (\u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u0432 ***@***.***) \u0431\u0443\u0434\u0443\u0442 \u043e\u043f\u0442\u0440\u0430\u0432\u043b\u044f\u0442\u0441\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u044f.  </li> </ul> </li> <li>\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439. \u041f\u0440\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0438 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 <code>settings.NOTIFY_EVENTS.event_id['test_data']</code> \u0432  \u0430\u0434\u043c\u0438\u043d\u043a\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u0434\u043b\u044f \u043e\u0442\u043b\u0430\u0434\u043a\u0438.</li> <li>\u0412 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0443\u0447\u0430\u0441\u0442\u043a\u0430\u0445 \u043a\u043e\u0434\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u043e \u043f\u0440\u0438\u043c\u0435\u0440\u0430\u043c \u043d\u0438\u0436\u0435 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f.</li> </ol>"},{"location":"examples/notify/#_6","title":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435:","text":""},{"location":"examples/notify/#_7","title":"\u0428\u0430\u0431\u043b\u043e\u043d\u044b","text":"<p>\u0414\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u0438\u0441\u0435\u043c \u043f\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u043c, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043e\u0434 <code>send</code> \u043c\u043e\u0434\u0435\u043b\u0438 <code>Notify</code></p> <pre><code>Notify.send(&lt;event&gt;, &lt;context&gt;[, &lt;user=None&gt;, &lt;email=None&gt;, &lt;phone=None&gt;, &lt;files=None&gt;, &lt;data_json=None&gt;])\n</code></pre> <p>,\u0433\u0434\u0435</p> <ul> <li><code>event</code> - \u0441\u043e\u0431\u044b\u0442\u0438\u0435, \u0432\u0435\u0441\u044c \u043f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0443\u043a\u0430\u0437\u0430\u043d \u0432 <code>settings.notify.CHOICES_NOTIFY_EVENT</code></li> <li><code>context</code> - \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0434\u043b\u044f \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f</li> <li><code>user</code> - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u043d, \u0435\u0441\u043b\u0438 \u043e\u043d \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0432 \u043c\u043e\u0434\u0435\u043b\u0438 \u0448\u0430\u0431\u043b\u043e\u043d\u0430</li> <li><code>email</code> - email \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u043e\u0447\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u043d, \u0435\u0441\u043b\u0438 \u043e\u043d \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0432 \u043c\u043e\u0434\u0435\u043b\u0438 \u0448\u0430\u0431\u043b\u043e\u043d\u0430</li> <li><code>phone</code> - \u0442\u0435\u043b\u0435\u0444\u043e\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u043d, \u0435\u0441\u043b\u0438 \u043e\u043d \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0432 \u043c\u043e\u0434\u0435\u043b\u0438 \u0448\u0430\u0431\u043b\u043e\u043d\u0430</li> <li><code>files</code> - \u043c\u0430\u0441\u0441\u0438\u0432 \u0444\u0430\u0439\u043b\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043a\u043e \u0432\u0441\u0435\u043c \u043f\u0438\u0441\u044c\u043c\u0430\u043c</li> <li><code>data_json</code> - \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0434\u0430\u043d\u043d\u044b\u0445, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043a\u0430\u043a data \u043a \u043f\u0443\u0448\u0430\u043c</li> </ul> <p>\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0448\u0430\u0431\u043b\u043e\u043d\u044b <code>notify.models.NotifyTemplate</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432 \u0430\u0434\u043c\u0438\u043d\u043a\u0435 \u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f -&gt; \u0428\u0430\u0431\u043b\u043e\u043d\u044b. \u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u043e\u0431\u0435\u0433\u0430\u0435\u0442 \u043f\u043e \u0432\u0441\u0435\u043c \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u043c \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u043c, \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u043c\u0443 \u0441\u043e\u0431\u044b\u0442\u0438\u044e \u0438 \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043f\u043e \u043d\u0438\u043c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f, \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043e\u0442\u0440\u0435\u043d\u0434\u0435\u0440\u0438\u0432 \u043f\u043e\u043b\u044f \u0442\u0435\u043a\u0441\u0442 \u0438 html, \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043e\u043c</p>"},{"location":"examples/notify/#telegram","title":"Telegram","text":"<p>\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u0432\u043e\u0435\u0433\u043e \u0431\u043e\u0442\u0430 https://t.me/BotFather</p> <p>\u0417\u0430\u0439\u0434\u0438\u0442\u0435 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e http://localhost:8000/admin/garpix_notify/notifyconfig/ \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0440\u0430\u0437\u0434\u0435\u043b \"Telegram\" (<code>API \u043a\u043b\u044e\u0447</code> \u0438 <code>\u0418\u043c\u044f \u0431\u043e\u0442\u0430</code>).</p> <p>\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0434\u0435\u043c\u043e\u043d\u0430:</p> <pre><code>python3 backend/manage.py garpix_notify_telegram\n</code></pre> <p>\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0432\u0430\u0448\u0435\u043c\u0443 \u0431\u043e\u0442\u0443 \u0432 Telegram \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>/start</code></p> <p>\u0422\u0430\u043a\u0436\u0435, \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432\u0430\u0448 \u0444\u0430\u0439\u043b <code>user/admin.py</code> \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c \u0438 \u0443\u0432\u0438\u0434\u0438\u0442\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u043f\u043e \u043f\u0440\u0438\u0432\u044f\u0437\u043a\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f Telegram \u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0432\u0430\u0448\u0435\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b:</p> <pre><code>from django.contrib import admin\nfrom .models import User\nfrom django.contrib.auth.admin import UserAdmin\n\n\n@admin.register(User)\nclass UserAdmin(UserAdmin):\n    fieldsets = (\n        ('Telegram', {\n            'fields': ('telegram_chat_id', 'telegram_secret', 'get_telegram_connect_user_help'),\n        })\n    ) + UserAdmin.fieldsets\n    readonly_fields = ['telegram_secret', 'get_telegram_connect_user_help'] + list(UserAdmin.readonly_fields)\n</code></pre>"},{"location":"examples/notify/#viber","title":"Viber","text":"<ul> <li>\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0431\u043e\u0442\u0430<ul> <li>\u0411\u043e\u0442\u0430 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0443\u0442 https://partners.viber.com/ \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d \\     \u0442\u043e\u043a\u0435\u043d = viber_api_key</li> </ul> </li> <li> <p>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u043e\u0442\u0430</p> <ul> <li>\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u043e\u043a\u0435\u043d \u0432 \u0430\u0434\u043c\u0438\u043d\u043a\u0435  \u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f -&gt; \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 </li> <li>\u041c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u043c\u044f \u0438 \u0430\u0432\u0430\u0442\u0430\u0440 \u0431\u043e\u0442\u0430</li> <li>\u041c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u044b \u0431\u043e\u0442\u0430 \u043d\u0430 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f</li> <li>\u0411\u043e\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 https, \u0434\u043b\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c ngrok</li> <li>\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043e\u0442 \u0432\u0430\u0439\u0431\u0435\u0440\u0430 https://developers.viber.com/docs/api/</li> </ul> </li> <li> <p>Web hook</p> <ul> <li>\u0414\u043b\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0432\u0435\u0431\u0445\u0443\u043a\u0430 \u043d\u0443\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 https://yourdomain/garpix_notify/send_webhook</li> <li>\u0414\u043b\u044f \u0441\u043d\u044f\u0442\u0438\u044f \u0432\u0435\u0431\u0445\u0443\u043a\u0430 \u043d\u0443\u0436\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c POST \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0430\u0434\u0440\u0435\u0441 https://chatapi.viber.com/pa/set_webhook headers X-Viber-Auth-Token: &lt;\u0432\u0430\u0448 \u0442\u043e\u043a\u0435\u043d&gt; \\ body { \"url\":\"\" }</li> </ul> </li> <li>\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c id \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f<ul> <li>\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0435\u0440\u0432\u044b\u043c \u043d\u0430\u0447\u0430\u0442\u044c \u0434\u0438\u0430\u043b\u043e\u0433 \u0441 \u0431\u043e\u0442\u043e\u043c</li> <li>\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u043e\u043b\u0443\u0447\u0430\u043b \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0443 \u043e\u0442 \u0431\u043e\u0442\u0430, \u043e\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0431\u043e\u0442\u0443 viber_secret_key</li> <li>viber_secret_key \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u044e\u0437\u0435\u0440\u0430 \u0432 \u0430\u0434\u043c\u0438\u043d\u043a\u0435. \u043f\u043e\u043b\u0435 \u041a\u043b\u044e\u0447 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f Viber</li> <li>\u0415\u0441\u043b\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441  viber_secret_key, \u0442\u043e viber_chat_id \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f</li> <li>id \u044e\u0437\u0435\u0440\u0430 \u043f\u0440\u0438\u0432\u044f\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043a \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c\u0443 \u0431\u043e\u0442\u0443, \u0442\u043e \u0435\u0441\u0442\u044c, \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432 \u0443 \u044e\u0437\u0435\u0440\u0430 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0437\u043d\u044b\u0439 id</li> </ul> </li> <li>\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 <ul> <li>\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0448\u0430\u0431\u043b\u043e\u043d \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0432 \u043d\u0435\u043c \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f, \u0422\u0438\u043f \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c Viber</li> <li>\u0414\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0433\u0440\u0443\u043f\u043f\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0439 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439</li> <li>\u041c\u043e\u0436\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0447\u0435\u0440\u0435\u0437 \u043a\u043e\u0434, \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0432 \u043c\u0435\u0442\u043e\u0434\u0435 send \u043d\u0443\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c viber_chat_id</li> </ul> </li> </ul> <pre><code>Notify.send(settings.YOUR_EVENT, {\n  'some_context': blabla\n}, viber_chat_id='')\n\n</code></pre>"},{"location":"examples/simple_templates_site/","title":"\u041a\u043e\u0440\u043f\u043e\u0440\u0430\u0442 \u043d\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445","text":"<p>\u041f\u0440\u0438\u043c\u0435\u0440 \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e \u043a\u043e\u0440\u043f\u043e\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0430 \u043d\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445.</p> <p>\u0421\u0430\u0439\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0432 \u0441\u0435\u0431\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435:</p> <ul> <li>\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430</li> <li>\u041d\u043e\u0432\u043e\u0441\u0442\u0438 \u0441\u043f\u0438\u0441\u043e\u043a</li> <li>\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0430\u044f</li> <li>\u041e \u043d\u0430\u0441</li> <li>\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</li> </ul>"},{"location":"examples/simple_templates_site/#1","title":"\u0428\u0430\u0433 1. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<p>\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430, \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u043f\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438.</p> <p>\u0414\u0430\u043b\u0435\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043c\u0438\u0433\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440:</p> <pre><code>python3 backend/manage.py migrate\npython3 backend/manage.py createsuperuser\npython3 backend/manage.py runserver\n</code></pre> <p>\u0418 \u043d\u0435 \u0437\u0430\u0431\u044b\u0432\u0430\u0439\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0432\u0435\u0440\u0441\u0438\u0439:</p> <pre><code>git init\n</code></pre> <p>\u0415\u0441\u043b\u0438 \u043d\u0430 http://localhost:8000 \u0432\u044b \u0432\u0438\u0434\u0438\u0442\u0435 \u043d\u0430\u0434\u043f\u0438\u0441\u044c \"\u0423\u0440\u0430, \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442!\", \u0442\u043e \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442\u044c \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u0448\u0430\u0433\u0443.</p> <p></p>"},{"location":"examples/simple_templates_site/#2","title":"\u0428\u0430\u0433 2. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0432 \u043a\u043e\u0434\u0435","text":"<p>\u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0441\u0430\u0439\u0442\u0430, \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043e\u043c. \u0412 GarpixCMS \u0435\u0441\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0437 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c \u043d\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u043c \u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439 \u0427\u041f\u0423 \u0441 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435\u043c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446.</p> <p>\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043c\u043e\u0434\u0443\u043b\u044c garpix_page \u0441 \u043f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 (\u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0445 \u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0442\u044c).</p> <p>\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0430\u0434\u043e \u043f\u043e\u043d\u044f\u0442\u044c \u0442\u0435\u0440\u043c\u0438\u043d\u043e\u043b\u043e\u0433\u0438\u044e:</p> <ul> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 (Page, Model Page) - \u044d\u0442\u043e \u043c\u043e\u0434\u0435\u043b\u044c, \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0439 \u043a\u043b\u0430\u0441\u0441 \u043e\u0442 <code>BasePage</code>. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0445 \u0441\u0430\u043c\u0438.</li> <li>\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 (Context) - \u0444\u0443\u043d\u043a\u0446\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043b\u043e\u0432\u0430\u0440\u044c. \u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u043c\u043e\u0434\u0435\u043b\u0438. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445. \u0412\u0441\u0435\u0433\u0434\u0430 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u044f <code>object</code> (\u043e\u0431\u044a\u0435\u043a\u0442 \u043a\u043b\u0430\u0441\u0441\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b) \u0438 <code>request</code>.</li> <li>\u0428\u0430\u0431\u043b\u043e\u043d (Template) - \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 Django \u0448\u0430\u0431\u043b\u043e\u043d.</li> </ul> <p>\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0431\u0443\u0434\u0435\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0434\u043e\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e.</p> <p>\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b:</p> <ul> <li><code>--app</code> - \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u0434. \u0415\u0441\u043b\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442, \u0442\u043e \u043e\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043e.</li> <li><code>--page</code> - \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b, \u0432 snake_case. \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u043e \u0432 CamelCase \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438.</li> <li><code>--base</code> - \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c, \u043e\u0442 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b.</li> </ul> <p>\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u0434\u043b\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 <code>--base</code>:</p> <ul> <li><code>page</code> - \u043e\u0434\u0438\u043d\u043e\u0447\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 (\u043d\u0430\u0441\u043b\u0435\u0434\u043d\u0438\u043a \u043e\u0442 <code>BasePage</code>) \u0438\u043b\u0438 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u043f\u0438\u0441\u043a\u0430. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \"\u043f\u043e\u0441\u0442\", \"\u0433\u043b\u0430\u0432\u043d\u0430\u044f\", \"\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\", \"\u0442\u043e\u0432\u0430\u0440\", \"\u0443\u0441\u043b\u0443\u0433\u0430\".</li> <li><code>list</code> - \u0441\u043f\u0438\u0441\u043e\u0447\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 (\u043d\u0430\u0441\u043b\u0435\u0434\u043d\u0438\u043a \u043e\u0442 <code>BaseListPage</code>). \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \"\u043d\u043e\u0432\u043e\u0441\u0442\u0438\", \"\u0430\u043a\u0446\u0438\u0438\", \"\u0442\u043e\u0432\u0430\u0440\u044b\", \"\u0443\u0441\u043b\u0443\u0433\u0438\".</li> <li><code>search</code> - \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 (\u043d\u0430\u0441\u043b\u0435\u0434\u043d\u0438\u043a \u043e\u0442 <code>BaseSearchPage</code>). \u042d\u0442\u043e \u043f\u0440\u043e\u0441\u0442\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u043e\u0438\u0441\u043a\u0430. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0438\u0449\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430\u043c (<code>title</code>).</li> </ul>"},{"location":"examples/simple_templates_site/#21","title":"2.1. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443","text":"<pre><code>python3 backend/manage.py startpage --app=home --page=home --base=page\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043e \u043d\u043e\u0432\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u043c\u043e\u0434\u0435\u043b\u0438, \u0430\u0434\u043c\u0438\u043d\u043a\u0430, \u043a\u043b\u0430\u0441\u0441 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u043e\u0432, \u0448\u0430\u0431\u043b\u043e\u043d.</p> <p></p>"},{"location":"examples/simple_templates_site/#22","title":"2.2. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b","text":"<pre><code>python3 backend/manage.py startpage --app=contacts --page=contact --base=page\n</code></pre>"},{"location":"examples/simple_templates_site/#23","title":"2.3. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u043e\u0432\u043e\u0441\u0442\u0438","text":"<pre><code>python3 backend/manage.py startpage --app=news --page=post_list --base=list\n\npython3 backend/manage.py startpage --app=news --page=post --base=page\n</code></pre>"},{"location":"examples/simple_templates_site/#24","title":"2.4. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443","text":"<pre><code>python3 backend/manage.py startpage --app=search --page=search --base=search\n</code></pre>"},{"location":"examples/simple_templates_site/#25-garpixcmspage","title":"2.5. \u0414\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \"\u041e \u043d\u0430\u0441\" \u0431\u0443\u0434\u0435\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b <code>garpixcms.Page</code> (\u0441\u043c. \u043d\u0438\u0436\u0435).","text":""},{"location":"examples/simple_templates_site/#3","title":"\u0428\u0430\u0433 3. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b","text":""},{"location":"examples/simple_templates_site/#31","title":"3.1 \u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430","text":"<p>\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439.</p> <p>\u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043e\u0431\u044b\u0447\u043d\u0443\u044e \u043c\u043e\u0434\u0435\u043b\u044c CarouselItem, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0431\u0443\u0434\u0435\u043c \u0441\u0432\u044f\u0437\u044b\u0432\u0430\u0442\u044c \u0441 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435\u0439:</p> <pre><code># backend/home/models/carousel_item.py\nfrom django.db import models\nfrom garpix_utils.file.file_field import get_file_path\nfrom garpix_menu.mixins import LinkMixin\nfrom .home_page import HomePage\n\n\nclass CarouselItem(LinkMixin):\n    title = models.CharField(max_length=100, verbose_name='\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a')\n    home_page = models.ForeignKey(HomePage, on_delete=models.CASCADE, verbose_name='\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 (\u043f\u0440\u0438\u0432\u044f\u0437\u043a\u0430)', related_name='carousel_items')\n    image = models.ImageField(upload_to=get_file_path, verbose_name='\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435')\n    sort = models.PositiveSmallIntegerField(default=100, verbose_name='\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430')\n\n    def __str__(self):\n        return self.title\n\n    class Meta:\n        verbose_name = '\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u0438'\n        verbose_name_plural = '\u042d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u0438'\n        ordering = ('sort',)\n</code></pre> <p>\u0417\u0434\u0435\u0441\u044c \u043c\u044b \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043b\u0438 <code>LinkMixin</code> \u0438\u0437 <code>garpix_menu</code> - \u044d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u0442 \u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043b\u044e\u0431\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438\u043b\u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u0439 URL \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430.</p> <p>\u0422\u0430\u043a\u0436\u0435, \u043d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0435\u0449\u0435 \u0434\u0432\u0435 \u0432\u0435\u0449\u0438:</p> <p>\u041f\u043e\u043f\u0440\u0430\u0432\u0438\u0442\u044c <code>__init__.py</code>:</p> <pre><code># backend/home/models/__init__.py\nfrom .home_page import HomePage  # noqa\nfrom .carousel_item import CarouselItem  # noqa\n</code></pre> <p>\u0418 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0430\u043c\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432 <code>INSTALLED_APPS</code>:</p> <pre><code># backend/app/settings.py\nfrom garpixcms.settings import *  # noqa\n\nINSTALLED_APPS += [  # noqa\n    'home',\n    'contacts',\n    'news',\n    'search',\n]\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u0441\u043c\u0438\u0433\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c:</p> <pre><code>python3 backend/manage.py makemigrations\npython3 backend/manage.py migrate\n</code></pre> <p>\u0418 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u043a\u0443:</p> <pre><code># backend/home/admin/carousel_item.py\nfrom ..models.carousel_item import CarouselItem\nfrom django.contrib import admin\n\n\nclass CarouselItemInline(admin.TabularInline):\n    model = CarouselItem\n    fk_name = 'home_page'\n    fields = ('title', 'image', 'sort', 'page', 'url')\n    extra = 1\n</code></pre> <p>\u041d\u0435 \u0437\u0430\u0431\u044b\u0432\u0430\u0435\u043c \u043f\u0440\u043e <code>__init__.py</code>:</p> <pre><code># backend/home/admin/__init__.py\nfrom .home_page import HomePageAdmin  # noqa\nfrom .carousel_item import CarouselItemInline  # noqa\n</code></pre> <p>\u0418 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043a \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 <code>HomePage</code> \u0441\u0430\u043c\u0443 \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u044c:</p> <pre><code># backend/home/admin/home_page.py\nfrom django.contrib import admin\nfrom garpix_page.admin import BasePageAdmin\nfrom ..models.home_page import HomePage\nfrom .carousel_item import CarouselItemInline\n\n\n@admin.register(HomePage)\nclass HomePageAdmin(BasePageAdmin):\n    inlines = (CarouselItemInline,)\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440 (\u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 <code>python3 backend/manage.py runserver</code>) \u0438 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0432 \"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\" \u0437\u0430\u043f\u0438\u0441\u044c \u0441 \"Home\" \u0441\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u0413\u043b\u0430\u0432\u043d\u0430\u044f</li> <li>\u0427\u041f\u0423: \u0441\u0442\u0438\u0440\u0430\u0435\u043c, \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0443\u0436\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e)</li> <li>\u041c\u043e\u0436\u043d\u043e \u0442\u0430\u043a\u0436\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c SEO-\u0442\u0435\u0433\u0438 (\u0434\u0430\u043b\u0435\u0435 \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0445 \u0443\u0432\u0438\u0434\u0435\u0442\u044c, \u0435\u0441\u043b\u0438 \u043e\u0442\u043a\u0440\u043e\u0435\u0442\u0435 \u043a\u043e\u0434 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b http://localhost:8000/)</li> </ul> <p>\u0422\u0430\u043a\u0436\u0435, \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0430\u0440\u0443 \u0441\u043b\u0430\u0439\u0434\u043e\u0432 \u0434\u043b\u044f \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u0438 \u043d\u0430 \u0432\u0430\u0448 \u0432\u043a\u0443\u0441.</p> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 http://localhost:8000 \u0438 \u0443\u0432\u0438\u0434\u0435\u0442\u044c, \u0447\u0442\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b, \u043d\u043e \u043d\u0435\u0442 \u043d\u0430\u0448\u0435\u0439 \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u0438.</p> <p>\u0422.\u043a. \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f Bootstrap 5, \u0442\u043e \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u0432\u043e\u0437\u044c\u043c\u0435\u043c \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u044c \u043e\u0442\u0442\u0443\u0434\u0430 \u0438 \u0432\u0441\u0442\u0430\u0432\u0438\u043c \u0432 \u043d\u0430\u0448 \u0448\u0430\u0431\u043b\u043e\u043d:</p> <pre><code>&lt;!-- frontend/templates/pages/home.html --&gt;\n{% extends 'base.html' %}\n\n{% block content %}\n    &lt;h1&gt;{{ object.title }}&lt;/h1&gt;\n\n    &lt;div id=\"carouselExampleControls\" class=\"carousel slide\" data-bs-ride=\"carousel\"&gt;\n        &lt;div class=\"carousel-inner\"&gt;\n            {% for item in object.carousel_items.all %}\n                &lt;div class=\"carousel-item {% if forloop.first %}active{% endif %}\"&gt;\n                    &lt;a href=\"{{ item.get_link }}\"&gt;\n                        &lt;img class=\"d-block w-100\" src=\"{{ item.image.url }}\" alt=\"{{ item.title }}\"&gt;\n                    &lt;/a&gt;\n                &lt;/div&gt;\n            {% endfor %}\n        &lt;/div&gt;\n        &lt;button class=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#carouselExampleControls\"\n                data-bs-slide=\"prev\"&gt;\n            &lt;span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"&gt;&lt;/span&gt;\n            &lt;span class=\"visually-hidden\"&gt;Previous&lt;/span&gt;\n        &lt;/button&gt;\n        &lt;button class=\"carousel-control-next\" type=\"button\" data-bs-target=\"#carouselExampleControls\"\n                data-bs-slide=\"next\"&gt;\n            &lt;span class=\"carousel-control-next-icon\" aria-hidden=\"true\"&gt;&lt;/span&gt;\n            &lt;span class=\"visually-hidden\"&gt;Next&lt;/span&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n{% endblock %}\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0441\u043d\u043e\u0432\u0430 \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438 \u0443\u0432\u0438\u0434\u0435\u0442\u044c, \u0447\u0442\u043e \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u044c \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442. \u0422\u0430\u043a\u0436\u0435, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043d\u0430 \u043d\u0438\u0445 \u0441\u0441\u044b\u043b\u043a\u0438 \u0441 \u043a\u0430\u0440\u0443\u0441\u0435\u043b\u0438.</p> <p></p>"},{"location":"examples/simple_templates_site/#32","title":"3.2 \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b","text":"<p>\u0422\u0435\u043f\u0435\u0440\u044c \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0441 \u0444\u043e\u0440\u043c\u043e\u0439 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438.</p>"},{"location":"examples/simple_templates_site/#321","title":"3.2.1. \u041d\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b","text":"<p>\u0412 \u0448\u0430\u0433\u0435 2.2 \u043c\u044b \u0443\u0436\u0435 \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u0438\u043b\u0438 \u043c\u043e\u0434\u0435\u043b\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432. \u0422\u0435\u043f\u0435\u0440\u044c \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0432 \u043d\u0435\u0435 \u043e\u0442\u043b\u0438\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0447\u0435\u0440\u0442:</p> <pre><code># backend/contacts/models/contact_page.py\nfrom django.db import models\nfrom ckeditor_uploader.fields import RichTextUploadingField\nfrom garpix_page.models import BasePage\n\n\nclass ContactPage(BasePage):\n    content = RichTextUploadingField(verbose_name='\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435', blank=True, default='')\n    postal_address = models.CharField(max_length=250, blank=True, default='', verbose_name='\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441')\n\n    template = \"pages/contact.html\"\n\n    class Meta:\n        verbose_name = \"Contact\"\n        verbose_name_plural = \"Contacts\"\n        ordering = (\"-created_at\",)\n</code></pre> <p>\u041e\u0431\u044b\u0447\u043d\u043e, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0442\u0430\u043a\u0436\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443 \u0438 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430. \u041d\u043e \u043e\u043d\u0438 \u0440\u0430\u0441\u043f\u043e\u043b\u0430\u0433\u0430\u044e\u0442\u0441\u044f \u043d\u0430 \u0432\u0441\u0435\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430\u0445, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0432 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u043c\u044b \u0438\u0445 \u043d\u0435 \u0441\u0442\u0430\u043b\u0438 \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c - \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0438\u0445 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u0447\u0435\u0440\u0435\u0437 <code>django-solo</code>. \u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u043e\u043f\u0438\u0441\u0430\u043d\u043e \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 https://github.com/lazybird/django-solo.</p> <p>\u041c\u043e\u0436\u043d\u043e \u043c\u0438\u0433\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c:</p> <pre><code>python3 backend/manage.py makemigrations\npython3 backend/manage.py migrate\n</code></pre> <p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u043f\u0440\u0430\u0432\u0438\u043c \u0448\u0430\u0431\u043b\u043e\u043d \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\":</p> <pre><code>&lt;!-- frontend/templates/pages/contact.html --&gt;\n{% extends 'base.html' %}\n\n{% block content %}\n\n    {% include 'include/breadcrumb.html' %}\n\n    &lt;h1&gt;{{ object.title }}&lt;/h1&gt;\n\n    {% if object.postal_address %}\n        &lt;div class=\"alert alert-primary\" role=\"alert\"&gt;\n            \u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441: {{ object.postal_address }}\n        &lt;/div&gt;\n    {% endif %}\n\n    &lt;div&gt;{{ object.content|safe }}&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>\u0418 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0432 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438 \u0432 \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 - \"Contact\":</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</li> <li>\u0427\u041f\u0423: \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> <li>\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441: \u0433. \u041c\u043e\u0441\u043a\u0432\u0430</li> <li>\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435: \u041f\u0440\u0438\u0432\u0435\u0442 \u0432\u0441\u0435\u043c, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435.</li> </ul> <p>\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f \u043d\u0435\u0447\u0442\u043e \u043f\u043e\u0434\u043e\u0431\u043d\u043e\u0435:</p> <p></p>"},{"location":"examples/simple_templates_site/#322","title":"3.2.2. \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0444\u043e\u0440\u043c\u044b \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438","text":"<p>\u0422\u0435\u043f\u0435\u0440\u044c \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c \u0444\u043e\u0440\u043c\u0443 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438.</p> <p>\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u043e\u043f\u0440\u0430\u0432\u0438\u043c \u0448\u0430\u0431\u043b\u043e\u043d. \u0414\u043e\u0431\u0430\u0432\u0438\u043c \u043d\u043e\u0432\u044b\u0439 \u0444\u0430\u0439\u043b <code>frontend/templates/include/feedback.html</code>:</p> <pre><code>&lt;!-- frontend/templates/include/feedback.html --&gt;\n&lt;form method=\"post\"&gt;\n    {% csrf_token %}\n    &lt;div class=\"row mb-3\"&gt;\n        &lt;label for=\"inputEmail\" class=\"col-sm-2 col-form-label\"&gt;Email&lt;/label&gt;\n        &lt;div class=\"col-sm-10\"&gt;\n            &lt;input type=\"email\" name=\"email\" class=\"form-control\" id=\"inputEmail\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row mb-3\"&gt;\n        &lt;label for=\"inputComment\" class=\"col-sm-2 col-form-label\"&gt;\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439&lt;/label&gt;\n        &lt;div class=\"col-sm-10\"&gt;\n            &lt;textarea class=\"form-control\" name=\"comment\" id=\"inputComment\" rows=\"3\"&gt;&lt;/textarea&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;button type=\"submit\" class=\"btn btn-primary\"&gt;\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c&lt;/button&gt;\n&lt;/form&gt;\n</code></pre> <p>\u0418 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0435\u0433\u043e \u0432 \u0448\u0430\u0431\u043b\u043e\u043d \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b:</p> <pre><code>&lt;!-- frontend/templates/pages/contact.html --&gt;\n{% extends 'base.html' %}\n\n{% block content %}\n\n    {% include 'include/breadcrumb.html' %}\n\n    &lt;h1&gt;{{ object.title }}&lt;/h1&gt;\n\n    {% if object.postal_address %}\n        &lt;div class=\"alert alert-primary\" role=\"alert\"&gt;\n            \u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441: {{ object.postal_address }}\n        &lt;/div&gt;\n    {% endif %}\n\n    &lt;div&gt;{{ object.content|safe }}&lt;/div&gt;\n\n    {% include 'include/feedback.html' %}\n{% endblock %}\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043c\u043e\u0434\u0435\u043b\u044c \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u0438\u0441\u0435\u043c \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438:</p> <pre><code># backend/contacts/models/feedback.py\nfrom django.db import models\n\n\nclass Feedback(models.Model):\n    email = models.EmailField(verbose_name='Email')\n    comment = models.TextField(verbose_name='\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439')\n    created_at = models.DateTimeField(auto_now_add=True, verbose_name='\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f')\n\n    def __str__(self):\n        return self.email\n\n    class Meta:\n        ordering = ('-created_at',)\n        verbose_name = '\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c'\n        verbose_name_plural = '\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c'\n</code></pre> <p>\u0418 \u043d\u0435 \u0437\u0430\u0431\u044b\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u043e <code>__init__.py</code>:</p> <pre><code># backend/contacts/models/__init__.py\nfrom .contact_page import ContactPage  # noqa\nfrom .feedback import Feedback  # noqa\n</code></pre> <p>\u0421\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0430\u0434\u043c\u0438\u043d\u043a\u0443:</p> <pre><code># backend/contacts/admin/feedback.py\nfrom django.contrib import admin\nfrom ..models.feedback import Feedback\n\n\n@admin.register(Feedback)\nclass FeedbackAdmin(admin.ModelAdmin):\n    list_display = ('email', 'comment', 'created_at')\n    readonly_fields = ('created_at',)\n</code></pre> <p>\u0418 \u0441\u043d\u043e\u0432\u0430 <code>__init__.py</code>:</p> <pre><code># backend/contacts/admin/__init__.py\nfrom .contact_page import ContactPageAdmin  # noqa\nfrom .feedback import FeedbackAdmin  # noqa\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0444\u043e\u0440\u043c\u0443:</p> <pre><code># backend/contacts/forms/feedback.py\nfrom django.forms import ModelForm\nfrom ..models.feedback import Feedback\n\n\nclass FeedbackForm(ModelForm):\n    class Meta:\n        model = Feedback\n        fields = ['email', 'comment']\n</code></pre> <p>\u0418 <code>__init__.py</code>:</p> <pre><code># backend/contacts/forms/__init__.py\nfrom .feedback import FeedbackForm  # noqa\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u043c\u0438\u0433\u0440\u0438\u0440\u0443\u0435\u043c:</p> <pre><code>python3 backend/manage.py makemigrations\npython3 backend/manage.py migrate\n</code></pre> <p>\u0418 \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0444\u043e\u0440\u043c\u044b \u0447\u0435\u0440\u0435\u0437 \u0444\u0443\u043d\u043a\u0446\u0438\u044e <code>get_context</code> \u0443 \u043c\u043e\u0434\u0435\u043b\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b <code>ContactPage</code>:</p> <pre><code># backend/contacts/models/contact_page.py\nfrom django.db import models\nfrom ckeditor_uploader.fields import RichTextUploadingField\nfrom garpix_page.models import BasePage\nfrom ..forms.feedback import FeedbackForm\n\n\nclass ContactPage(BasePage):\n    content = RichTextUploadingField(verbose_name='\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435', blank=True, default='')\n    postal_address = models.CharField(max_length=250, blank=True, default='', verbose_name='\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441')\n\n    template = \"pages/contact.html\"\n\n    def get_context(self, request=None, *args, **kwargs):\n        context = super().get_context(request, *args, **kwargs)\n        if request.method == 'POST':\n            form = FeedbackForm(request.POST)\n            if form.is_valid():\n                form.save()\n                context.update({\n                    'message': '\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e',\n                })\n            context.update({\n                'form': form,\n            })\n        return context\n\n    class Meta:\n        verbose_name = \"Contact\"\n        verbose_name_plural = \"Contacts\"\n        ordering = (\"-created_at\",)\n</code></pre> <p>\u041a\u0430\u043a \u0432\u0438\u0434\u0438\u043c, \u043c\u044b \u0441\u0434\u0435\u043b\u0430\u043b\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0444\u043e\u0440\u043c\u044b \u0438 \u0440\u0430\u0441\u0448\u0438\u0440\u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0435\u043c\u044b\u0439 \u0432 \u0448\u0430\u0431\u043b\u043e\u043d \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.</p> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0432\u044b\u0432\u043e\u0434 <code>message</code>, \u043a\u043e\u0433\u0434\u0430 \u043e\u043d \u0435\u0441\u0442\u044c, \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0435.</p> <pre><code>&lt;!-- frontend/templates/include/feedback.html --&gt;\n&lt;form method=\"post\"&gt;\n    {% csrf_token %}\n    &lt;div class=\"row mb-3\"&gt;\n        &lt;label for=\"inputEmail\" class=\"col-sm-2 col-form-label\"&gt;Email&lt;/label&gt;\n        &lt;div class=\"col-sm-10\"&gt;\n            &lt;input type=\"text\" name=\"email\" value=\"{{ form.email.value }}\" class=\"form-control\" id=\"inputEmail\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row mb-3\"&gt;\n        &lt;label for=\"inputComment\" class=\"col-sm-2 col-form-label\"&gt;\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439&lt;/label&gt;\n        &lt;div class=\"col-sm-10\"&gt;\n            &lt;textarea class=\"form-control\" required name=\"comment\" id=\"inputComment\" rows=\"3\"&gt;{{ form.comment.value }}&lt;/textarea&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;button type=\"submit\" class=\"btn btn-primary\"&gt;\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c&lt;/button&gt;\n&lt;/form&gt;\n\n{% if message %}\n&lt;div class=\"alert alert-success mt-3\" role=\"alert\"&gt;\n    {{ message }}\n&lt;/div&gt;\n{% endif %}\n\n{% if form.errors %}\n    &lt;div class=\"alert alert-danger mt-3\" role=\"alert\"&gt;\n        &lt;div&gt;\u041f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0438:&lt;/div&gt;\n        &lt;div&gt;{{ form.errors }}&lt;/div&gt;\n    &lt;/div&gt;\n{% endif %}\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b\" \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0443, \u0432 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438 \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c, \u0447\u0442\u043e \u0432\u0441\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f, \u043a\u043e\u0433\u0434\u0430 \u0444\u043e\u0440\u043c\u0430 \u0432\u0430\u043b\u0438\u0434\u043d\u0430.</p> <p></p> <p></p> <p></p>"},{"location":"examples/simple_templates_site/#323","title":"3.2.3. \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f","text":"<p>\u0414\u043b\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u043d\u0430\u0448\u0435\u0439 \u0444\u043e\u0440\u043c\u044b \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u0438\u0441\u044c\u043c\u043e \u043f\u043e \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u043c\u0443.</p> <p>\u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0431\u0443\u0434\u0435\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0431\u0430\u0442\u0430\u0440\u0435\u0439\u043a\u0443 <code>garpix_notify</code> \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u043f\u0438\u0441\u0435\u043c \u043f\u043e SMTP \u0432 \u043d\u0435\u0439. \u042d\u0442\u0430 \u0431\u0430\u0442\u0430\u0440\u0435\u0439\u043a\u0430 \u0443\u0436\u0435 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u0430 \u0432 GARPIX CMS.</p> <p>\u0421\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0432 \"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\" - \"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438\" \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c:</p> <ul> <li>\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a: \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442</li> <li>\u0428\u0430\u0431\u043b\u043e\u043d: {{text}}</li> </ul> <p>\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u0443\u044e \u0432\u0435\u0440\u0441\u0442\u043a\u0443 (\u0448\u0430\u043f\u043a\u0443, \u0444\u0443\u0442\u0435\u0440, \u043f\u043e\u0434\u043f\u0438\u0441\u044c \u0438 \u0442.\u043f.) \u0432 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\u0445. \u0414\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u043f\u0438\u0441\u0435\u043c, \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438.</p> <p>\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432\u0432\u0438\u0434\u0443 \u0442\u043e\u0433\u043e, \u0447\u0442\u043e \u043c\u044b \u0431\u0443\u0434\u0435\u043c \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043e\u0431\u044b\u0447\u043d\u043e\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435, \u0442\u043e \u0442\u0430\u043a \u0435\u0433\u043e \u0438 \u043d\u0430\u0437\u0432\u0430\u043b\u0438.</p> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0437\u0430\u0439\u0434\u0435\u043c \u0432 \"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\" - \"SMTP \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b\" \u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0434\u0430\u043d\u043d\u044b\u0435 SMTP \u0432\u0430\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b.</p> <p>\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0441\u043e\u0431\u044b\u0442\u0438\u0435, \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0431\u0443\u0434\u0435\u043c \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u0438\u0441\u044c\u043c\u043e. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0432 <code>backend/app/settings.py</code> \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435:</p> <pre><code># backend/app/settings.py\nfrom garpixcms.settings import *  # noqa\n\nINSTALLED_APPS += [  # noqa\n    'home',\n    'contacts',\n    'news',\n    'search',\n]\n\nFEEDBACK_EVENT = 1\n\nNOTIFY_EVENTS = {\n    FEEDBACK_EVENT: {\n        'title': '\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c',\n    },\n}\n\nCHOICES_NOTIFY_EVENT = [(k, v['title']) for k, v in NOTIFY_EVENTS.items()]\n</code></pre> <p>\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e, \u043e\u0431\u044b\u0447\u043d\u043e, \u043d\u0430 \u0441\u0430\u0439\u0442\u0430\u0445 \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0434\u043b\u044f \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u043f\u043e\u043d\u044f\u0442\u043d\u044b\u0435 \u0438\u043c\u0435\u043d\u0430 \u0434\u043b\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u0439, \u0442.\u043a. \u0441 \u043d\u0438\u043c\u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440 \u0441\u0430\u0439\u0442\u0430.</p> <p>\u0414\u043e\u0431\u0430\u0432\u0438\u043c \u0432 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0444\u043e\u0440\u043c\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f:</p> <pre><code># backend/contacts/models/contact_page.py\nfrom django.db import models\nfrom ckeditor_uploader.fields import RichTextUploadingField\nfrom garpix_page.models import BasePage\nfrom ..forms.feedback import FeedbackForm\nfrom garpix_notify.models import Notify\nfrom django.conf import settings\n\n\nclass ContactPage(BasePage):\n    content = RichTextUploadingField(verbose_name='\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435', blank=True, default='')\n    postal_address = models.CharField(max_length=250, blank=True, default='', verbose_name='\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441')\n\n    template = \"pages/contact.html\"\n\n    def get_context(self, request=None, *args, **kwargs):\n        context = super().get_context(request, *args, **kwargs)\n        if request.method == 'POST':\n            form = FeedbackForm(request.POST)\n            if form.is_valid():\n                feedback = form.save()\n                Notify.send(settings.FEEDBACK_EVENT, {\n                    'feedback': feedback,\n                }, email=feedback.email)\n                context.update({\n                    'message': '\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e',\n                })\n            context.update({\n                'form': form,\n            })\n        return context\n\n    class Meta:\n        verbose_name = \"Contact\"\n        verbose_name_plural = \"Contacts\"\n        ordering = (\"-created_at\",)\n</code></pre> <p>\u041c\u0438\u0433\u0440\u0438\u0440\u0443\u0435\u043c:</p> <pre><code>python3 backend/manage.py makemigrations\npython3 backend/manage.py migrate\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0438\u0434\u0435\u043c \u0432 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u0443\u044e \u043f\u0430\u043d\u0435\u043b\u044c \"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\" - \"\u0428\u0430\u0431\u043b\u043e\u043d\u044b\" \u0438 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0434\u0432\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430.</p> <p>\u041f\u0435\u0440\u0432\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u0438\u0441\u044c\u043c\u043e \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c - \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443</li> <li>\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a: \u041d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438</li> <li>\u0422\u0435\u043a\u0441\u0442 \u0438 HTML:</li> </ul> <pre><code>\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u043d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435:\n\nEmail: {{feedback.email}}\n\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439: {{feedback.comment}}\n</code></pre> <ul> <li>\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c (\u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c): \u0423\u043a\u0430\u0437\u044b\u0432\u0430\u0439\u0442\u0435 \u0441\u0432\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 (\u0443\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0443\u043a\u0430\u0437\u0430\u043b\u0438 email)</li> <li>\u0422\u0438\u043f: E-mail</li> <li>\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f: \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442</li> <li>\u0421\u043e\u0431\u044b\u0442\u0438\u0435: \u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c</li> </ul> <p>\u0412\u0442\u043e\u0440\u043e\u0435 \u043f\u0438\u0441\u044c\u043c\u043e \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u043d\u0430 \u0430\u0434\u0440\u0435\u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e email.</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c - \u043a\u043b\u0438\u0435\u043d\u0442\u0443</li> <li>\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a: \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435!</li> <li>\u0422\u0435\u043a\u0441\u0442 \u0438 HTML:</li> </ul> <pre><code>\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435!\n\n\u0412\u044b \u043e\u0441\u0442\u0430\u0432\u0438\u043b\u0438 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0443 \u043d\u0430\u0441 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435:\n\n{{feedback.comment}}\n</code></pre> <ul> <li>\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c (\u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c): \u041d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u043d\u0438\u0447\u0435\u0433\u043e</li> <li>\u0422\u0438\u043f: E-mail</li> <li>\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f: \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442</li> <li>\u0421\u043e\u0431\u044b\u0442\u0438\u0435: \u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c</li> </ul> <p>\u041a\u0430\u043a \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442, \u043f\u0440\u0438 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u044f FEEDBACK_EVENT \u0431\u0443\u0434\u0435\u0442 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u043e\u0431\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0438 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0434\u0432\u0430 \u043f\u0438\u0441\u044c\u043c\u0430. \u0415\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u0438\u0441\u0435\u043c \u0438\u043b\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043f\u043e \u0434\u0440\u0443\u0433\u0438\u043c \u043a\u0430\u043d\u0430\u043b\u0430\u043c, \u0442\u043e \u044d\u0442\u043e \u0442\u043e\u0436\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e.</p> <p>\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u041f\u0438\u0441\u044c\u043c\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0432 \u0444\u043e\u043d\u043e\u0432\u043e\u043c \u043f\u043e\u0442\u043e\u043a\u0435, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c <code>celery</code> \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435:</p> <pre><code>cd backend\ncelery -A app worker --loglevel=info -B\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u0438\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0443 \u043d\u0430 \u043b\u0438\u0446\u0435\u0432\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0441\u0430\u0439\u0442\u0430.</p> <p></p> <p>\u041f\u0440\u0438\u043c\u0435\u0440\u043d\u043e \u0447\u0435\u0440\u0435\u0437 \u043c\u0438\u043d\u0443\u0442\u0443 \u043f\u0438\u0441\u044c\u043c\u0430 \u0434\u043e\u0439\u0434\u0443\u0442 (\u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432 \"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\" - \"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\")</p> <p></p> <p>\u0418\u0442\u043e\u0433\u043e, \u043e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0433\u043e\u0442\u043e\u0432\u0430. \u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u043f\u0443\u043d\u043a\u0442\u0443.</p>"},{"location":"examples/simple_templates_site/#33","title":"3.3. \u041d\u043e\u0432\u043e\u0441\u0442\u0438","text":"<p>\u041c\u044b \u0443\u0436\u0435 \u0441\u043e\u0437\u0434\u0430\u043b\u0438 \u0441\u043f\u0438\u0441\u043e\u0447\u043d\u0443\u044e \u0438 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439.</p> <p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u043f\u043e\u043b\u0435 <code>content</code> \u0432 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0443\u044e \u043d\u043e\u0432\u043e\u0441\u0442\u044c. \u041e\u043d\u0430 \u0441\u0442\u0430\u043d\u0435\u0442 \u043e\u0447\u0435\u043d\u044c \u043f\u043e\u0445\u043e\u0436\u0430 \u043d\u0430 \u0434\u0440\u0443\u0433\u0438\u0435 \u043d\u0430\u0448\u0438 \u043c\u043e\u0434\u0435\u043b\u0438, \u043d\u043e \u043b\u043e\u0433\u0438\u0447\u043d\u043e \u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0438\u0445 \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u043c\u043e\u0434\u0435\u043b\u044f\u0445. \u0421\u043f\u0438\u0441\u043e\u0447\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043c\u0435\u043d\u044f\u0442\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u043c, \u043d\u043e \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u043d\u0430 \u0435\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435.</p> <pre><code># backend/news/models/post_page.py\nfrom ckeditor_uploader.fields import RichTextUploadingField\nfrom garpix_page.models import BasePage\n\n\nclass PostPage(BasePage):\n    content = RichTextUploadingField(verbose_name='\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435', blank=True, default='')\n    template = \"pages/post.html\"\n\n    class Meta:\n        verbose_name = \"Post\"\n        verbose_name_plural = \"Posts\"\n        ordering = (\"-created_at\",)\n</code></pre> <p>\u041c\u0438\u0433\u0440\u0438\u0440\u0443\u0435\u043c:</p> <pre><code>python3 backend/manage.py makemigrations\npython3 backend/manage.py migrate\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0438\u0434\u0435\u043c \u0432 \u0430\u0434\u043c\u0438\u043d\u043a\u0443 \u0438 \"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\" \u0438 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 (<code>PostList</code>) \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041d\u043e\u0432\u043e\u0441\u0442\u0438</li> <li>\u0427\u041f\u0423: \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> </ul> <p>\u0417\u0430\u0442\u0435\u043c \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0442\u0430\u043a:</p> <p>\u041f\u043e\u0441\u0442 1:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041f\u043e\u0441\u0442 1</li> <li>\u0427\u041f\u0423: \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> <li>\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430: \u041d\u043e\u0432\u043e\u0441\u0442\u0438</li> <li>\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435: \u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430 1</li> </ul> <p>\u041f\u043e\u0441\u0442 2:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041f\u043e\u0441\u0442 2</li> <li>\u0427\u041f\u0423: \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> <li>\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430: \u041d\u043e\u0432\u043e\u0441\u0442\u0438</li> <li>\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435: \u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430 2</li> </ul> <p>\u041f\u043e\u0441\u0442 3:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041f\u043e\u0441\u0442 3</li> <li>\u0427\u041f\u0423: \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> <li>\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430: \u041d\u043e\u0432\u043e\u0441\u0442\u0438</li> <li>\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435: \u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430 3</li> </ul> <p>\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f \u043f\u0440\u0438\u043c\u0435\u0440\u043d\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435</p> <p></p> <p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u0434\u043f\u0440\u0430\u0432\u0438\u043c \u0448\u0430\u0431\u043b\u043e\u043d \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u043d\u043e\u0432\u043e\u0441\u0442\u0438 (\u043c\u044b \u0436\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u043d\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435):</p> <pre><code>&lt;!-- frontend/templates/pages/post.html --&gt;\n{% extends 'base.html' %}\n\n{% block content %}\n    {% include 'include/breadcrumb.html' %}\n    &lt;h1&gt;{{ object.title }}&lt;/h1&gt;\n    &lt;div&gt;{{ object.content|safe }}&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \"\u041d\u043e\u0432\u043e\u0441\u0442\u0438\" \u0432 \"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\" \u0438 \u0443\u0432\u0438\u0434\u0438\u0442\u0435, \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u0435 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u044b \u043c\u0435\u0436\u0434\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430\u043c\u0438 \u0438 \u0445\u043b\u0435\u0431\u043d\u044b\u043c\u0438 \u043a\u0440\u043e\u0448\u043a\u0430\u043c\u0438. \u0422\u0430\u043a\u0436\u0435, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u0441\u0442\u043e\u0432 \u0438\u043b\u0438 \u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 <code>paginated_by</code> \u0432 \u043c\u043e\u0434\u0435\u043b\u0438 <code>PostList</code> \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u044f\u0432\u0438\u043b\u0430\u0441\u044c \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u044f.</p> <p></p> <p></p> <p>\u0421 \u043d\u043e\u0432\u043e\u0441\u0442\u044f\u043c\u0438 \u0433\u043e\u0442\u043e\u0432\u043e, \u043f\u043e\u0448\u043b\u0438 \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u0448\u0430\u0433\u0443.</p>"},{"location":"examples/simple_templates_site/#34","title":"3.4. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u043e\u0438\u0441\u043a\u0430","text":"<p>\u0418\u0434\u0435\u043c \u0432 \"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\" \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 <code>Search</code> \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0435\u0435:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041f\u043e\u0438\u0441\u043a</li> <li>\u0427\u041f\u0423: \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> </ul> <p>\u0413\u043e\u0442\u043e\u0432\u043e. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043f\u043e\u0438\u0441\u043a \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430\u043c \u0441\u0442\u0440\u0430\u043d\u0438\u0446.</p> <p>\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043d\u0430 \u043b\u0438\u0446\u0435\u0432\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0441\u0430\u0439\u0442\u0430 \u0438 \u0432\u0431\u0438\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043e\u0434\u043d\u043e\u0439 \u0438\u0437 \u0441\u0442\u0440\u0430\u043d\u0438\u0446, \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u043d\u0435\u0447\u0442\u043e \u043f\u043e\u0434\u043e\u0431\u043d\u043e\u0435:</p> <p></p> <p>\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0438\u0441\u043a \u0448\u0435\u043b \u0442\u0430\u043a\u0436\u0435 \u043f\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u043c\u0443, \u0442\u043e \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u043e\u043b\u044f \u0432 <code>searchable_fields</code> \u0443 \u043c\u043e\u0434\u0435\u043b\u0438.</p> <p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u043c\u0435\u043d\u044f\u0435\u043c \u044d\u0442\u043e \u0443 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439:</p> <pre><code># backend/news/models/post_page.py\nfrom ckeditor_uploader.fields import RichTextUploadingField\nfrom garpix_page.models import BasePage\n\n\nclass PostPage(BasePage):\n    content = RichTextUploadingField(verbose_name='\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435', blank=True, default='')\n    template = \"pages/post.html\"\n    searchable_fields = ['title', 'content']\n\n    class Meta:\n        verbose_name = \"Post\"\n        verbose_name_plural = \"Posts\"\n        ordering = (\"-created_at\",)\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0438\u0441\u043a\u0430\u0442\u044c \u043f\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u043c\u0443 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439.</p> <p>\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0434\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a \u043f\u0440\u043e\u0441\u0442\u0435\u0439\u0448\u0438\u0439 \u0438 \u043d\u0435 \u043f\u043e\u043b\u043d\u043e\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0435\u0433\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u043e\u0433\u0434\u0430, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435\u0442 \u043e\u0441\u043e\u0431\u044b\u0445 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0439 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430. \u041a\u043e\u0433\u0434\u0430 \u043d\u0443\u0436\u0435\u043d \u0441\u0435\u0440\u044c\u0435\u0437\u043d\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 ElasticSearch \u0438\u043b\u0438 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u044b\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u044f.</p> <p>\u0421 \u043f\u043e\u0438\u0441\u043a\u043e\u043c \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0438, \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u0448\u0430\u0433\u0443.</p>"},{"location":"examples/simple_templates_site/#35","title":"3.5. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \"\u041e \u043d\u0430\u0441\"","text":"<p>\u0411\u0443\u0434\u0435\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0439 <code>Page</code>.</p> <p>\u0418\u0434\u0435\u043c \u0432 \"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\", \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0438 \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430\", \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u043c\u0438:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041e \u043d\u0430\u0441</li> <li>\u0427\u041f\u0423: \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438</li> <li>\u0421\u0430\u0439\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435</li> <li>\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435: \u041a\u043e\u043d\u0442\u0435\u043d\u0442 \u043e \u043d\u0430\u0441.</li> </ul> <p>\u041e\u0431\u044b\u0447\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u0432\u0438\u0434 \u0441\u0442\u0440\u0430\u043d\u0438\u0446, \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0448\u0430\u0431\u043b\u043e\u043d <code>frontend/templates/garpixcms/pages/default.html</code>.</p>"},{"location":"examples/simple_templates_site/#36","title":"3.6. \u041c\u0435\u043d\u044e","text":"<p>\u0421\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430\u043c\u0438 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0438, \u0442\u0435\u043f\u0435\u0440\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430, \u0441\u043e\u0437\u0434\u0430\u0432 \u043c\u0435\u043d\u044e.</p> <p>\u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u043c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u043c\u0435\u043d\u044e \u0432 <code>backend/app/settings.py</code>, \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u0434:</p> <pre><code># ...\n\nMENU_TYPE_HEADER_MENU = 'header_menu'\n\nMENU_TYPES = {\n    MENU_TYPE_HEADER_MENU: {\n        'title': '\u0412\u0435\u0440\u0445\u043d\u0435\u0435 \u043c\u0435\u043d\u044e',\n    },\n}\n\nCHOICE_MENU_TYPES = [(k, v['title']) for k, v in MENU_TYPES.items()]\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u0435 \u043d\u0435\u043d\u0443\u0436\u043d\u043e\u0435 \u043c\u0435\u043d\u044e \u0432 \u0444\u0443\u0442\u0435\u0440\u0435:</p> <ul> <li>\u0412 \u0444\u0430\u0439\u043b\u0435 <code>frontend/templates/base.html</code> \u0443\u0431\u0440\u0430\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 <code>{% include 'include/footer.html' %}</code>.</li> <li>\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0430\u0439\u043b <code>frontend/templates/include/footer.html</code>.</li> </ul> <p>\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043c\u0438\u0433\u0440\u0438\u0440\u0443\u0435\u043c.</p> <pre><code>python3 backend/manage.py makemigrations\npython3 backend/manage.py migrate\n</code></pre> <p>\u0418\u0434\u0435\u043c \u0432 \u0430\u0434\u043c\u0438\u043d\u043a\u0443 \"\u041c\u0435\u043d\u044e\" - \"\u041f\u0443\u043d\u043a\u0442\u044b \u043c\u0435\u043d\u044e\" \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c:</p> <p>\u0413\u043b\u0430\u0432\u043d\u0430\u044f:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u0413\u043b\u0430\u0432\u043d\u0430\u044f</li> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u0413\u043b\u0430\u0432\u043d\u0430\u044f</li> <li>\u0422\u0438\u043f \u043c\u0435\u043d\u044e: \u0412\u0435\u0440\u0445\u043d\u0435\u0435 \u043c\u0435\u043d\u044e</li> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u0435\u0434\u0435\u0442 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430</li> <li>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: 50</li> </ul> <p>\u041d\u043e\u0432\u043e\u0441\u0442\u0438:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u041d\u043e\u0432\u043e\u0441\u0442\u0438</li> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041d\u043e\u0432\u043e\u0441\u0442\u0438</li> <li>\u0422\u0438\u043f \u043c\u0435\u043d\u044e: \u0412\u0435\u0440\u0445\u043d\u0435\u0435 \u043c\u0435\u043d\u044e</li> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u0435\u0434\u0435\u0442 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u041d\u043e\u0432\u043e\u0441\u0442\u0438</li> <li>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: 100</li> </ul> <p>\u041e \u043d\u0430\u0441:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u041e \u043d\u0430\u0441</li> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041e \u043d\u0430\u0441</li> <li>\u0422\u0438\u043f \u043c\u0435\u043d\u044e: \u0412\u0435\u0440\u0445\u043d\u0435\u0435 \u043c\u0435\u043d\u044e</li> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u0435\u0434\u0435\u0442 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u041e \u043d\u0430\u0441</li> <li>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: 150</li> </ul> <p>\u041f\u043e\u0438\u0441\u043a:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u041f\u043e\u0438\u0441\u043a</li> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041f\u043e\u0438\u0441\u043a</li> <li>\u0422\u0438\u043f \u043c\u0435\u043d\u044e: \u0412\u0435\u0440\u0445\u043d\u0435\u0435 \u043c\u0435\u043d\u044e</li> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u0435\u0434\u0435\u0442 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u041f\u043e\u0438\u0441\u043a</li> <li>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: 200</li> </ul> <p>\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:</p> <ul> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0430: \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</li> <li>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</li> <li>\u0422\u0438\u043f \u043c\u0435\u043d\u044e: \u0412\u0435\u0440\u0445\u043d\u0435\u0435 \u043c\u0435\u043d\u044e</li> <li>\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u0435\u0434\u0435\u0442 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b</li> <li>\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: 250</li> </ul> <p>\u041f\u043e\u0441\u043b\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u0435\u043d\u044e, \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0442\u044c\u0441\u044f \u043f\u043e \u0441\u0430\u0439\u0442\u0443. \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u0438\u043f\u043e\u0432 \u043c\u0435\u043d\u044e \u0442\u0430\u043a\u0436\u0435 \u043d\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f, \u043d\u043e \u0431\u0443\u0434\u044c\u0442\u0435 \u0430\u043a\u043a\u0443\u0440\u0430\u0442\u043d\u044b \u0441 \u043d\u0435\u0439\u043c\u0438\u043d\u0433\u043e\u043c.</p> <p></p>"},{"location":"examples/simple_templates_site/#37","title":"3.7. \u041a\u0430\u0440\u0442\u0430 \u0441\u0430\u0439\u0442\u0430","text":"<p>\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0441\u044f \u043a\u0430\u0440\u0442\u0430 \u0441\u0430\u0439\u0442\u0430 \u0438\u0437 \u0432\u0441\u0435\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446.</p> <p>\u0423\u0432\u0438\u0434\u0435\u0442\u044c \u0435\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 http://localhost:8000/sitemap.xml</p> <p>\u0414\u043b\u044f \u0441\u043c\u0435\u043d\u044b \u0434\u043e\u043c\u0435\u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u043e\u0431\u044b\u0447\u043d\u044b\u0439 <code>Sites Framework</code>. \u041f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u043c\u043e\u0436\u043d\u043e \u0432 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438 \u0432 \"\u0421\u0430\u0439\u0442\u044b\" - \"\u0421\u0430\u0439\u0442\u044b\".</p> <p>\u041d\u0430 \u044d\u0442\u043e\u043c \u0432\u0441\u0435, \u043d\u0430\u0448 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u043a\u043e\u0440\u043f\u043e\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442 \u0433\u043e\u0442\u043e\u0432. \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u0438 \u0443\u0441\u043f\u0435\u0445\u043e\u0432 \u0432\u0430\u043c!</p>"},{"location":"examples/auth/apple/","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0432\u0445\u043e\u0434\u0430 \u0447\u0435\u0440\u0435\u0437 AppleId (SPA)","text":"<p>\u041f\u0440\u0438\u043c\u0435\u0440 \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0437\u0434\u0435\u0441\u044c: https://example.cms.garpix.com/kontakty (\u0441\u043c. \u043a\u043e\u043d\u0441\u043e\u043b\u044c \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430)</p> <p>\u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 \u0437\u0434\u0435\u0441\u044c: https://github.com/garpixcms/example-corp-spa</p>"},{"location":"examples/auth/apple/#1","title":"\u0428\u0430\u0433 1. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<p>\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430, \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u043f\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438.</p>"},{"location":"examples/auth/apple/#2","title":"\u0428\u0430\u0433 2. \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0432\u0445\u043e\u0434","text":"<p>\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0445\u043e\u0434 \u0432 <code>.env</code>:</p> <pre><code># ...\nENABLE_GARPIX_AUTH=True\n</code></pre>"},{"location":"examples/auth/apple/#3-developer-apple","title":"\u0428\u0430\u0433 3. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b Developer Apple","text":"<p>3.1. \u0412\u0430\u043c \u043d\u0443\u0436\u0435\u043d \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 Apple.</p> <p>3.2. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 https://developer.apple.com/account/resources/identifiers/list</p> <p>3.2.1. \u041d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435 \"Register a new identifier\" \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \"App IDs\" \u0438 \u0436\u043c\u0435\u043c \"Continue\". 3.2.2. \u041d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435 \"Select a type\" \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \"App\" \u0438 \u0436\u043c\u0435\u043c \"Continue\". 3.2.3. \u041d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435 \"Register an App ID\" \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 (\u043f\u0440\u0438\u043c\u0435\u0440):</p> <ul> <li>Description: MyApplication</li> <li>Bundle ID: com.mycompany.MyApplication</li> <li>Capabilities: \u0441\u0442\u0430\u0432\u0438\u043c \u0433\u0430\u043b\u043a\u0443 \"Sign In with Apple\", \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \"Enable as a primary App ID\" \u0438 \u0432 \"Server to Server Notification Endpoint\" \u043f\u0438\u0448\u0435\u043c \u0430\u0434\u0440\u0435\u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \"https://mysite.com\"</li> <li>\u0416\u043c\u0435\u043c \"Continue\"</li> </ul> <p>3.2.4. \u041d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435 \"Confirm your App ID\" \u0436\u043c\u0435\u043c \"Register\".</p> <p>\u0422\u0430\u043a\u0436\u0435, \u0441\u0432\u0435\u0440\u0445\u0443 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0435\u0441\u0442\u044c Team ID (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \"XXAAAA99A9\"), \u0437\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0435\u0433\u043e, \u043e\u043d \u043f\u0440\u0438\u0433\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u043c.</p> <p>3.3. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u044b\u0439 \u043a\u043b\u044e\u0447 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 https://developer.apple.com/account/resources/authkeys/list</p> <p>3.3.1. \u041d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435 \"Register a New Key\" \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435:</p> <ul> <li>Key Name: MyApplication</li> <li>\u0421\u0442\u0430\u0432\u0438\u043c \u0433\u0430\u043b\u043a\u0443 \u043d\u0430 \"Sign in with Apple\", \u0436\u043c\u0435\u043c \"Configure\" \u0438 \u0432 \"Primary App ID\" \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440, \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0439 \u0432\u044b\u0448\u0435. \u0416\u043c\u0435\u043c \"Save\"</li> </ul> <p>3.3.2. \u041d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u044d\u043a\u0440\u0430\u043d\u0435 \"Register a New Key\" \u0436\u043c\u0435\u043c \"Register\".</p> <p>3.3.3. \u041d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u044d\u043a\u0440\u0430\u043d\u0435 \u0436\u043c\u0435\u043c \"Download\" \u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u0435\u043c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447. \u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0432 \u043d\u0430\u0434\u0435\u0436\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u043f\u043e\u0442\u0435\u0440\u044f\u0442\u044c. \u0422\u0430\u043a\u0436\u0435, \u043e\u043d \u043d\u0430\u043c \u043f\u0440\u0438\u0433\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u043c.</p> <p>3.3.4. \u0417\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \"Key ID\", \u043e\u043d \u043f\u0440\u0438\u0433\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430\u043c \u0432 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u043c.</p> <p>3.4. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 https://developer.apple.com/account/resources/identifiers/list/serviceId</p> <p>3.4.1. \u041d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \"Register a new identifier\" \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \"Services IDs\" \u0438 \u0436\u043c\u0435\u043c \"Continue\".</p> <p>3.4.2. \u041d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435 \"Register a Services ID\" \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 (\u043f\u0440\u0438\u043c\u0435\u0440):</p> <ul> <li>Description: MyApplicationService</li> <li>Identifier: com.mycompany.MyApplicationService</li> </ul> <p>3.4.3. \u0416\u043c\u0435\u043c \"Register\".</p>"},{"location":"examples/auth/apple/#4","title":"\u0428\u0430\u0433 4. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0431\u044d\u043a\u0435\u043d\u0434\u0430","text":"<p>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 <code>backend/app/settings.py</code>:</p> <pre><code># ...\n\nAUTHENTICATION_BACKENDS = [\n    'social_core.backends.apple.AppleIdAuth',  # for client backend: apple-id\n] + AUTHENTICATION_BACKENDS\n\n# social - apple\nSOCIAL_AUTH_APPLE_ID_CLIENT = env('SOCIAL_AUTH_APPLE_ID_CLIENT')  # Your client_id com.application.your, aka \"Service ID\"\nSOCIAL_AUTH_APPLE_ID_TEAM = env('SOCIAL_AUTH_APPLE_ID_TEAM')  # Your Team ID, ie K2232113\nSOCIAL_AUTH_APPLE_ID_KEY = env('SOCIAL_AUTH_APPLE_ID_KEY')  # Your Key ID, ie Y2P99J3N81K\nSOCIAL_AUTH_APPLE_ID_SECRET = env('SOCIAL_AUTH_APPLE_ID_SECRET')  # SOCIAL_AUTH_APPLE_ID_SECRET=\"-----BEGIN PRIVATE KEY-----\\nMIGTAgE.....\\n-----END PRIVATE KEY-----\"\nSOCIAL_AUTH_APPLE_ID_SCOPE = ['email', 'name']\nSOCIAL_AUTH_APPLE_ID_EMAIL_AS_USERNAME = True\n</code></pre> <p>\u0418 \u0432 \u0444\u0430\u0439\u043b <code>.env</code>:</p> <pre><code># \u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0441\u0435\u0440\u0432\u0438\u0441\u0430\nSOCIAL_AUTH_APPLE_ID_CLIENT=com.mycompany.MyApplicationService\n# Team ID\nSOCIAL_AUTH_APPLE_ID_TEAM=XXAAAA99A9\n# Key ID\nSOCIAL_AUTH_APPLE_ID_KEY=NYAAAAAA9A\n# \u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430, \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044b \u0441\u0442\u0440\u043e\u043a \u043d\u0430 \\n\nSOCIAL_AUTH_APPLE_ID_SECRET=\"-----BEGIN PRIVATE KEY-----\\nMIGTAgEAMBMGB...\\n...\\n-----END PRIVATE KEY-----\"\n</code></pre>"},{"location":"examples/auth/apple/#5","title":"\u0428\u0430\u0433 5. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438","text":"<p>\u0417\u0430\u0445\u043e\u0434\u0438\u043c \u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 <code>/admin/oauth2_provider/application/</code> (DJANGO OAUTH TOOLKIT -&gt; Applications) \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u044b\u0439:</p> <ul> <li>Client type: Confidential</li> <li>Authorization grant type: Client credentials</li> <li>Name: apple-id</li> </ul> <p>\u041e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u043a\u0430\u043a \u0435\u0441\u0442\u044c \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c.</p> <p>\u0422\u0430\u043a\u0436\u0435, \u0441\u0442\u0440\u043e\u043a\u0438 \"Client id\" \u0438 \"Client secret\" \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b \u043d\u0430 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0435.</p>"},{"location":"examples/auth/apple/#6-react","title":"\u0428\u0430\u0433 6. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0430 (React)","text":"<p>6.1. \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043c\u043e\u0434\u0443\u043b\u044c \"react-apple-signin-auth\":</p> <pre><code>yarn add react-apple-signin-auth\n</code></pre> <p>6.2. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442:</p> <pre><code>import React from \"react\";\nimport AppleSignin from 'react-apple-signin-auth';\n\nexport default class LoginWithAppleId extends React.Component {\n\n    handleSocialLogin = async (data) =&gt; {\n        console.log(data);\n        // convert token\n        // POST /api/social-auth/convert-token/\n        // Payload:\n        /*\n        {\n            grant_type: 'convert_token',\n            // Client id \u0438\u0437 \u043f. 5\n            client_id: 'CSDuH8UgHDTFue2GbjZbYJmaRm7VY70QVEFj6A4T',\n            // Client secret \u0438\u0437 \u043f. 5\n            client_secret: 'ic0GJAhwLUF12hvrQugXueplPvvtkkXQS6Yno6fYKiWl7wPE5VNmvvxAWvnBPMIirjtuMds9RQ8oT0U7wSpAqmLrI9fnmX1Ft1NYNW9oybo5ECbAwOZUTEV3b1NZlrRb',\n            backend: 'apple-id',\n            token: data.authorization.id_token,\n        }\n        */\n        // \u0412 \u043e\u0442\u0432\u0435\u0442 \u0432\u0435\u0440\u043d\u0435\u0442\u0441\u044f \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043a\u0430\u043a \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0442\u043e\u043a\u0435\u043d\u0430.\n    };\n\n    render() {\n        return (\n            &lt;div&gt;\n                &lt;AppleSignin\n                    authOptions={{\n                      // SOCIAL_AUTH_APPLE_ID_CLIENT \n                      clientId: 'com.mycompany.MyApplicationService',\n                      scope: 'email name',\n                      redirectURI: 'https://mysite.com',\n                      state: '',\n                      nonce: 'nonce',\n                      usePopup: true,\n                    }}\n                    uiType=\"dark\"\n                    className=\"apple-auth-btn\"\n                    buttonExtraChildren=\"Continue with Apple ID\"\n                    onSuccess={this.handleSocialLogin}\n                    onError={(error) =&gt; console.error(error)}\n                  /&gt;\n            &lt;/div&gt;\n        )\n    }\n}\n</code></pre>"},{"location":"examples/auth/apple/#7","title":"\u0428\u0430\u0433 7. \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c","text":"<p>\u0412\u0445\u043e\u0434 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e https, \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0441 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u0432.</p>"},{"location":"examples/auth/google/","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0432\u0445\u043e\u0434\u0430 \u0447\u0435\u0440\u0435\u0437 Google (SPA)","text":"<p>\u041f\u0440\u0438\u043c\u0435\u0440 \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0437\u0434\u0435\u0441\u044c: https://example.cms.garpix.com/kontakty (\u0441\u043c. \u043a\u043e\u043d\u0441\u043e\u043b\u044c \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430)</p> <p>\u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 \u0437\u0434\u0435\u0441\u044c: https://github.com/garpixcms/example-corp-spa</p>"},{"location":"examples/auth/google/#1","title":"\u0428\u0430\u0433 1. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<p>\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430, \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u043f\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438.</p>"},{"location":"examples/auth/google/#2","title":"\u0428\u0430\u0433 2. \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0432\u0445\u043e\u0434","text":"<p>\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0445\u043e\u0434 \u0432 <code>.env</code>:</p> <pre><code># ...\nENABLE_GARPIX_AUTH=True\n</code></pre>"},{"location":"examples/auth/google/#3-google","title":"\u0428\u0430\u0433 3. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b Google","text":"<p>3.1. \u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 Google Console Credentials https://console.cloud.google.com/apis/credentials</p> <p>3.2. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \"Create Credentaials\" \u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \"OAuth client ID\"</p> <p>3.3. \u0412 \"Application type\" \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \"Web application\".</p> <p>3.4. \u0412 \u043f\u043e\u044f\u0432\u0438\u0432\u0448\u0435\u0439\u0441\u044f \u0444\u043e\u0440\u043c\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u044f:</p> <ul> <li>Name: \u043b\u044e\u0431\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430</li> <li>Authorized JavaScript origins: \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0438 \u0432\u0432\u0435\u0441\u0442\u0438 \u0430\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \"https://mysite.com\"</li> <li>\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \"Create\"</li> </ul> <p>3.5. \u0421\u043a\u0430\u0447\u0430\u0439\u0442\u0435 \u0444\u0430\u0439\u043b (\u0436\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u043e) \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435 \u043a\u043b\u044e\u0447\u0438 \"Client ID\" \u0438 \"Client Secret\". \u041e\u043d\u0438 \u043f\u0440\u0438\u0433\u043e\u0434\u044f\u0442\u0441\u044f \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u0448\u0430\u0433\u0435.</p>"},{"location":"examples/auth/google/#4","title":"\u0428\u0430\u0433 4. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0431\u044d\u043a\u0435\u043d\u0434\u0430","text":"<p>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 <code>backend/app/settings.py</code>:</p> <pre><code># ...\n\nAUTHENTICATION_BACKENDS = [\n    'social_core.backends.google.GoogleOAuth2',  # for client backend: google-oauth2\n] + AUTHENTICATION_BACKENDS\n\n# social - google\nSOCIAL_AUTH_GOOGLE_OAUTH2_KEY = env('SOCIAL_AUTH_GOOGLE_OAUTH2_KEY')\nSOCIAL_AUTH_GOOGLE_OAUTH2_SECRET = env('SOCIAL_AUTH_GOOGLE_OAUTH2_SECRET')\n</code></pre> <p>\u0418 \u0432 \u0444\u0430\u0439\u043b <code>.env</code>:</p> <pre><code># Client ID \u043e\u0442 Google\nSOCIAL_AUTH_GOOGLE_OAUTH2_KEY=999999999999-A99AAAAAAAAAA652f6hlem2q5rfvnel4.apps.googleusercontent.com\n# Client Secret \u043e\u0442 Google\nSOCIAL_AUTH_GOOGLE_OAUTH2_SECRET=AAAAAA-Jt8qTX3Nw8_mXW2dxnpiDM-AAAA9A\n</code></pre>"},{"location":"examples/auth/google/#5","title":"\u0428\u0430\u0433 5. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438","text":"<p>\u0417\u0430\u0445\u043e\u0434\u0438\u043c \u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 <code>/admin/oauth2_provider/application/</code> (DJANGO OAUTH TOOLKIT -&gt; Applications) \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u044b\u0439:</p> <ul> <li>Client type: Confidential</li> <li>Authorization grant type: Client credentials</li> <li>Name: google-oauth2</li> </ul> <p>\u041e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u043a\u0430\u043a \u0435\u0441\u0442\u044c \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c.</p> <p>\u0422\u0430\u043a\u0436\u0435, \u0441\u0442\u0440\u043e\u043a\u0438 \"Client id\" \u0438 \"Client secret\" \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b \u043d\u0430 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0435.</p>"},{"location":"examples/auth/google/#6-react","title":"\u0428\u0430\u0433 6. \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0430 (React)","text":"<p>6.1. \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438:</p> <pre><code>yarn add react-social-login\n</code></pre> <p>6.2. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b:</p> <p>\u0424\u0430\u0439\u043b <code>SocialButton.js</code>:</p> <pre><code>import React from \"react\";\nimport SocialLogin from \"react-social-login\";\n\nclass SocialButton extends React.Component {\n  render() {\n    const { children, triggerLogin, ...props } = this.props;\n    return (\n      &lt;button onClick={triggerLogin} {...props}&gt;\n        {children}\n      &lt;/button&gt;\n    );\n  }\n}\n\nexport default SocialLogin(SocialButton);\n</code></pre> <p>\u0424\u0430\u0439\u043b <code>LoginWithGoogle.js</code>:</p> <pre><code>import React from \"react\";\nimport SocialButton from \"../SocialButton\";\n\nexport default class LoginWithGoogle extends React.Component {\n\n    handleSocialLogin = async (user) =&gt; {\n        console.log(user);\n        // convert token\n        // POST /api/social-auth/convert-token/\n        // Payload:\n        /*\n        {\n            grant_type: 'convert_token',\n            // Client id \u0438\u0437 \u043f. 5\n            client_id: '999999999999-A99AAAAAAAAAA652f6hlem2q5rfvnel4.apps.googleusercontent.com',\n            // Client secret \u0438\u0437 \u043f. 5\n            client_secret: 'AAAAAA-Jt8qTX3Nw8_mXW2dxnpiDM-AAAA9A',\n            backend: 'google-oauth2',\n            token: user._token.accessToken,\n        }\n        */\n        // \u0412 \u043e\u0442\u0432\u0435\u0442 \u0432\u0435\u0440\u043d\u0435\u0442\u0441\u044f \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043a\u0430\u043a \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0442\u043e\u043a\u0435\u043d\u0430.\n    };\n\n    handleSocialLoginFailure = (err) =&gt; {\n        console.error(err);\n    };\n\n    render() {\n        return (\n            &lt;div&gt;\n                &lt;SocialButton\n                    provider=\"google\"\n                    // Client ID \u043e\u0442 Google\n                    appId=\"999999999999-A99AAAAAAAAAA652f6hlem2q5rfvnel4.apps.googleusercontent.com\"\n                    onLoginSuccess={\n                        this.handleSocialLogin\n                    }\n                    onLoginFailure={\n                        this.handleSocialLoginFailure\n                    }\n                &gt;\n                    Login with Google\n                &lt;/SocialButton&gt;\n            &lt;/div&gt;\n        )\n    }\n}\n</code></pre>"},{"location":"examples/auth/google/#7","title":"\u0428\u0430\u0433 7. \u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c","text":"<p>\u0412\u0445\u043e\u0434 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e https, \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0441 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u0432.</p>"},{"location":"migrate/migrate_1.15.0_to_2.0.0/","title":"\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u0441 1.15.0 \u043d\u0430 2.0.0","text":""},{"location":"migrate/migrate_1.15.0_to_2.0.0/#_1","title":"\u041d\u0430 \u0431\u044d\u043a\u0435\u043d\u0434\u0435","text":"<p>\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c garpixcms \u0432\u0435\u0440\u0441\u0438\u0438 2.0.0:</p> <pre><code>pipenv install garpixcms==2.0.0\n</code></pre> <p>\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0444\u0430\u0439\u043b\u043e\u0432 \u0438 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0439:</p> <pre><code>app/migrations/garpix_auth/\napp/migrations/garpix_auth/__init__.py\n</code></pre> <p>\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439:</p> <pre><code>python3 backend/manage.py makemigrations\npython3 backend/manage.py migrate\n</code></pre> <p>\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0432 <code>backend/app/settings.py</code> \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 (\u0435\u0441\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 <code>0</code> - \u043f\u0440\u043e\u0442\u0443\u0445\u0430\u0442\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442):</p> <pre><code>GARPIX_ACCESS_TOKEN_TTL_SECONDS = 86400  # \u0422\u043e\u043a\u0435\u043d \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0442\u0443\u0445\u0430\u0442\u044c \u0447\u0435\u0440\u0435\u0437 \u0441\u0443\u0442\u043a\u0438\nGARPIX_REFRESH_TOKEN_TTL_SECONDS = 86400 * 14  # \u0420\u0435\u0444\u0440\u0435\u0448-\u0442\u043e\u043a\u0435\u043d \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0442\u0443\u0445\u0430\u0442\u044c \u043f\u043e\u0441\u043b\u0435 14 \u0441\u0443\u0442\u043e\u043a\n</code></pre>"},{"location":"migrate/migrate_1.15.0_to_2.0.0/#spa","title":"\u041d\u0430 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0435 SPA","text":"<p>\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u043b\u043e\u0433\u0438\u043d\u0430 \u0441 <code>/api/login/</code> \u043d\u0430 <code>/api/auth/login/</code>.</p> <p>\u041f\u0440\u0438\u043c\u0435\u0440 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 (\u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f httpie):</p> <pre><code>http POST 'http://localhost:8000/api/auth/login/' username=user password=mysuperpassword\n</code></pre> <p>\u041f\u0440\u0438\u043c\u0435\u0440 \u043e\u0442\u0432\u0435\u0442\u0430:</p> <pre><code>{\n    \"access_token\": \"7c21c191a3720925ff80350b395725d31745bcac\",\n    \"access_token_expires\": 86400,\n    \"refresh_token\": \"946cd6498df1de4bb24d0fc63286b01341265b3e\",\n    \"refresh_token_expires\": 1209600,\n    \"token_type\": \"Bearer\"\n}\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0438\u043f \u0442\u043e\u043a\u0435\u043d\u0430 \u0432 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430\u0445 (Headers) \u0441 <code>Token</code> \u043d\u0430 <code>Bearer</code>. T.\u0435.:</p> <ul> <li>\u0431\u044b\u043b\u043e: <code>Authorization: Token 7c21c191a3720925ff80350b395725d31745bcac</code></li> <li>\u0441\u0442\u0430\u043b\u043e: <code>Authorization: Bearer 7c21c191a3720925ff80350b395725d31745bcac</code></li> </ul> <p>\u0422\u0430\u043a\u0436\u0435, \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0440\u0430\u043d\u044c\u0448\u0435 \u043a\u043b\u044e\u0447 \u0432 \u043e\u0442\u0432\u0435\u0442\u0435 \u0431\u044b\u043b <code>token</code>, \u0441\u0442\u0430\u043b <code>access_token</code>.</p> <p>\u0415\u0441\u043b\u0438 <code>access_token</code> \u043f\u0440\u043e\u0442\u0443\u0445, \u0442\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442\u044c \u043d\u0435 \u0431\u0443\u0434\u0443\u0442. \u0422\u043e\u0433\u0434\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u044d\u0442\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b (\u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f httpie):</p> <pre><code>http POST 'http://localhost:8000/api/auth/refresh/' refresh_token=946cd6498df1de4bb24d0fc63286b01341265b3e\n</code></pre> <p>\u041f\u0440\u0438\u043c\u0435\u0440 \u043e\u0442\u0432\u0435\u0442\u0430:</p> <pre><code>{\n    \"access_token\": \"227b68233b26ab16239db556a267a4f849fd882c\",\n    \"access_token_expires\": 86400,\n    \"result\": true\n}\n</code></pre> <p>\u041f\u0440\u0438 \u044d\u0442\u043e\u043c, \u0435\u0441\u043b\u0438 refresh-\u0442\u043e\u043a\u0435\u043d \u043f\u0440\u043e\u0442\u0443\u0445, \u0442\u043e \u043e\u0442\u0432\u0435\u0442 \u0431\u0443\u0434\u0435\u0442:</p> <pre><code>{\n    \"result\": false\n}\n</code></pre> <p>\u0422\u0430\u043a\u0436\u0435, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0442\u043e\u043a\u0435\u043d\u044b \u0441 \u0431\u044d\u043a\u0435\u043d\u0434\u0430 (\u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0432\u044b\u0445\u043e\u0434), \u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0443 (\u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f httpie):</p> <pre><code>http POST 'http://localhost:8000/api/auth/logout/' 'Authorization: Bearer 227b68233b26ab16239db556a267a4f849fd882c'\n</code></pre> <p>\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0443\u0441\u043f\u0435\u0445\u0430 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u0432\u0435\u0442:</p> <pre><code>{\n    \"result\": true\n}\n</code></pre> <p>\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0443\u0434\u0430\u0447\u0438 \u0431\u0443\u0434\u0435\u0442 \u0441\u0442\u0430\u0442\u0443\u0441-\u043a\u043e\u0434 <code>401 Unauthorized</code>.</p>"},{"location":"packages/garpix_auth/","title":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f (\u0443\u0441\u0442\u0430\u0440\u0435\u043b)","text":"<p>Auth module for Django/DRF projects. Part of GarpixCMS.</p> <p>Used packages: </p> <ul> <li>django rest framework</li> <li>social-auth-app-django</li> <li>django-rest-framework-social-oauth2</li> <li>etc; see setup.py</li> </ul>"},{"location":"packages/garpix_auth/#quickstart","title":"Quickstart","text":"<p>Install with pip:</p> <pre><code>pip install garpix_auth\n</code></pre> <p>Add the <code>garpix_auth</code> to your <code>INSTALLED_APPS</code>:</p> <pre><code># settings.py\n\nINSTALLED_APPS = [\n    # ...\n    'garpix_auth',\n]\n</code></pre> <p>Add to <code>urls.py</code>:</p> <pre><code>from garpix_auth.views import LogoutView, LoginView\n\nurlpatterns = [\n    # ...\n    path('logout/', LogoutView.as_view(url='/'), name=\"logout\"),\n    path('login/', LoginView.as_view(), name=\"authorize\"),\n    # ...\n]\n</code></pre> <p>For custom auth with phone and email use this in <code>settings.py</code>:</p> <pre><code>AUTHENTICATION_BACKENDS = (\n    # Django\n    'garpix_auth.models.CustomAuthenticationBackend',\n    'django.contrib.auth.backends.ModelBackend',\n)\n</code></pre>"},{"location":"packages/garpix_auth/#with-django-rest-framework","title":"With Django Rest Framework","text":"<p>Add this for SPA:</p> <pre><code>INSTALLED_APPS += [\n    # ...\n    'rest_framework',\n    'rest_framework.authtoken',\n    'oauth2_provider',\n    'social_django',\n    'rest_framework_social_oauth2',\n    # ...\n]\n\nREST_FRAMEWORK = {\n    'DEFAULT_AUTHENTICATION_CLASSES': (\n        'garpix_auth.rest.authentication.MainAuthentication',\n        'oauth2_provider.contrib.rest_framework.OAuth2Authentication',\n        'rest_framework_social_oauth2.authentication.SocialAuthentication',\n    ),\n    'DEFAULT_SCHEMA_CLASS': 'drf_spectacular.openapi.AutoSchema',\n}\n\nAUTHENTICATION_BACKENDS = (\n    # Only your social networks\n    'social_core.backends.google.GoogleOAuth2',\n    'social_core.backends.twitter.TwitterOAuth',\n    'social_core.backends.vk.VKOAuth2',\n    'social_core.backends.facebook.FacebookAppOAuth2',\n    'social_core.backends.facebook.FacebookOAuth2',\n    # Django\n    'rest_framework_social_oauth2.backends.DjangoOAuth2',\n    'django.contrib.auth.backends.ModelBackend',\n)\n\nSOCIAL_AUTH_PIPELINE = (\n    'social_core.pipeline.social_auth.social_details',\n    'social_core.pipeline.social_auth.social_uid',\n    'social_core.pipeline.social_auth.auth_allowed',\n    'social_core.pipeline.social_auth.social_user',\n    'social_core.pipeline.user.get_username',\n    'social_core.pipeline.social_auth.associate_by_email',\n    'social_core.pipeline.user.create_user',\n    'social_core.pipeline.social_auth.associate_user',\n    'social_core.pipeline.social_auth.load_extra_data',\n    'social_core.pipeline.user.user_details'\n)\n\n</code></pre> <p>Add to <code>urls.py</code>:</p> <pre><code>from django.urls import path, include\n\nurlpatterns = [\n    # ...\n    path('api/auth/', include(('garpix_auth.urls', 'garpix_auth'), namespace='garpix_auth')),\n    # ...\n]\n</code></pre> <p>See <code>garpix_auth/tests/test_api.py</code> for examples.</p>"},{"location":"packages/garpix_company/","title":"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438","text":"<p>Company module for Django/DRF projects.</p>"},{"location":"packages/garpix_company/#quickstart","title":"Quickstart","text":"<p>Install with pip:</p> <pre><code>pip install garpix_company\n</code></pre> <p>Add the <code>garpix_company</code> to your <code>INSTALLED_APPS</code>:</p> <pre><code># settings.py\n\n# ...\nINSTALLED_APPS = [\n    # ...\n    'garpix_company',\n]\n</code></pre> <p>and to migration modules:</p> <pre><code># settings.py\n\n# ...\nMIGRATION_MODULES = {\n    'garpix_company': 'app.migrations.garpix_company',\n}\n</code></pre> <p>Add to <code>urls.py</code>:</p> <pre><code>\n# ...\nurlpatterns = [\n    # ...\n    # garpix_company\n    path('', include(('garpix_company.urls', 'garpix_company'), namespace='garpix_company')),\n\n]\n</code></pre> <p>Add Company model to your project using abstract <code>AbstractCompany</code> from the model:</p> <pre><code>from garpix_company.models import AbstractCompany\n\n\nclass Company(AbstractCompany):\n    pass\n\n</code></pre> <p>Add UserCompanyRole model to your project using abstract <code>AbstractUserCompanyRole</code> from the model:</p> <pre><code>from garpix_company.models import AbstractUserCompanyRole\n\n\nclass UserCompanyRole(AbstractUserCompanyRole):\n    pass\n\n\n</code></pre> <p>Add <code>GARPIX_COMPANY_MODEL</code> and <code>GARPIX_COMPANY_ROLE_MODEL</code> to <code>settings.py</code>:</p> <pre><code># settings.py\n\nGARPIX_COMPANY_MODEL = 'app.Company'\nGARPIX_COMPANY_ROLE_MODEL = 'app.UserCompanyRole'\n\n</code></pre> <p>Use <code>CompanyAdmin</code> as base in your admin panel:</p> <pre><code>from django.contrib import admin\n\nfrom app.models import Company\nfrom garpix_company.admin import CompanyAdmin\n\n\n@admin.register(Company)\nclass CompanyAdmin(CompanyAdmin):\n    pass\n\n</code></pre>"},{"location":"packages/garpix_company/#invite-and-create-user","title":"Invite and create user","text":"<p>You can add fields to <code>company_invite/create_and_invite</code> endpoint.  </p> <p>To do it override <code>CreateAndInviteToCompanySerializer</code> by adding field and add it to <code>settings</code>:</p> <pre><code># settings.py\n\nGARPIX_COMPANY_CREATE_AND_INVITE_SERIALIZER = 'app.serializers.CustomInviteCompanySerializer'\n\n</code></pre> <pre><code># app.serializers.py\n\nfrom rest_framework import serializers\n\nfrom garpix_company.serializers import CreateAndInviteToCompanySerializer\n\n\nclass CustomInviteCompanySerializer(CreateAndInviteToCompanySerializer):\n    username = serializers.CharField(write_only=True)\n\n    class Meta(CreateAndInviteToCompanySerializer.Meta):\n        fields = CreateAndInviteToCompanySerializer.Meta.fields + ('username',)\n\n\n</code></pre> <p>You also can override <code>UserSerializer</code> and <code>CompanyRoleSerializer</code> to add custom fields to <code>user</code> and <code>role</code> fields of <code>/company/{pk}/user/</code> endpoints:</p> <pre><code># settings.py\n\nGARPIX_COMPANY_USER_SERIALIZER = 'app.serializers.UserSerializer'\nGARPIX_COMPANY_ROLE_SERIALIZER = 'app.serializers.CompanyRoleSerializer'\n\n</code></pre>"},{"location":"packages/garpix_company/#companies-count-limit","title":"Companies count limit","text":"<p>If you need to add some limitations on companies count the user can be a part of, you can override <code>check_user_companies_limit</code> class method of <code>Company</code> class:</p> <pre><code>from garpix_company.models import AbstractCompany, UserCompany\n\n\nclass Company(AbstractCompany):\n\n    @classmethod\n    def check_user_companies_limit(cls, user):\n        return UserCompany.objects.filter(user=user).count() &lt; 1\n\n</code></pre> <p>See <code>garpix_company/tests/test_company.py</code> for examples.</p>"},{"location":"packages/garpix_menu/","title":"\u041c\u0435\u043d\u044e","text":"<p>Customizable menus for garpix_page.</p>"},{"location":"packages/garpix_menu/#quickstart","title":"Quickstart","text":"<p>First, install and set up garpix_page.</p> <p>Install with pip:</p> <pre><code>pip install garpix_menu\n</code></pre> <p>Add the <code>garpix_menu</code> and dependency packages to your <code>INSTALLED_APPS</code>:</p> <pre><code># settings.py\n\nINSTALLED_APPS = [\n    # ...\n    'garpix_menu',\n]\n\n</code></pre> <p>Package not included migrations, set path to migration directory. Don't forget create this directory (<code>app/migrations/garpix_page/</code>) and place empty <code>__init__.py</code>:</p> <pre><code>app/migrations/\napp/migrations/__init__.py  # empty file\napp/migrations/garpix_menu/__init__.py  # empty file\n</code></pre> <p>Add path and other settings:</p> <pre><code># settings.py\n\nMIGRATION_MODULES = {\n    'garpix_menu': 'app.migrations.garpix_menu',\n}\n\nTEMPLATES = [\n    {\n        # ...\n        'OPTIONS': {\n            'context_processors': [\n                # ...\n                'garpix_menu.context_processors.menu_processor',\n            ],\n        },\n    },\n]\n</code></pre> <p>Run make migrations:</p> <pre><code>python manage.py makemigrations\n</code></pre> <p>Migrate:</p> <pre><code>python manage.py migrate\n</code></pre>"},{"location":"packages/garpix_menu/#example","title":"Example","text":"<p>Set up your custom menus in <code>settings.py</code>, for example:</p> <pre><code># settings.py\n\nMENU_TYPE_HEADER_MENU = 'header_menu'\nMENU_TYPE_FOOTER_MENU = 'footer_menu'\n\nMENU_TYPES = {\n    MENU_TYPE_HEADER_MENU: {\n        'title': 'Header menu',\n    },\n    MENU_TYPE_FOOTER_MENU: {\n        'title': 'Footer menu',\n    },\n}\n\nCHOICE_MENU_TYPES = [(k, v['title']) for k, v in MENU_TYPES.items()]\n</code></pre> <p>Example template for default menu:</p> <pre><code># templates/menus/default.html\n\n{% for menu_item in menu %}\n&lt;a {% if menu_item.target_blank %}target=\"_blank\" {% endif %}\n   href=\"{{ menu_item.get_link }}\"&gt;{{ menu_item.title }}&lt;/a&gt;\n{% if not forloop.last %}|{% endif %}\n{% endfor %}\n</code></pre> <p>Example with all templates:</p> <pre><code># templates/base.html\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    {% include 'garpix_page/seo.html' %}\n    &lt;link href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\" rel=\"stylesheet\"\n          crossorigin=\"anonymous\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n{% include 'include/header.html' %}\n\n&lt;main class=\"container\"&gt;\n    {% block content %}\n    {% endblock %}\n&lt;/main&gt;\n\n{% include 'include/footer.html' %}\n&lt;/body&gt;\n&lt;/html&gt;\n\n# templates/pages/default.html\n\n{% extends 'base.html' %}\n\n{% block content %}\n&lt;h1&gt;{{object.title}}&lt;/h1&gt;\n&lt;div&gt;\n    {{object.content|safe}}\n&lt;/div&gt;\n{% endblock %}\n\n# templates/include/header.html\n\n&lt;nav class=\"navbar navbar-expand-md navbar-dark bg-dark\"&gt;\n    &lt;div class=\"container-fluid\"&gt;\n        &lt;a class=\"navbar-brand\" href=\"/\"&gt;My Site&lt;/a&gt;\n        &lt;button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarsExampleDefault\"\n                aria-controls=\"navbarsExampleDefault\" aria-expanded=\"false\" aria-label=\"Toggle navigation\"&gt;\n            &lt;span class=\"navbar-toggler-icon\"&gt;&lt;/span&gt;\n        &lt;/button&gt;\n\n        &lt;div class=\"collapse navbar-collapse\" id=\"navbarsExampleDefault\"&gt;\n            {% include 'menus/header_menu.html' with menu=menus.header_menu %}\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/nav&gt;\n\n# templates/include/footer.html\n\n&lt;style&gt;\n    /* Sticky footer styles\n    -------------------------------------------------- */\n    html {\n        position: relative;\n        min-height: 100%;\n    }\n\n    body {\n        margin-bottom: 60px; /* Margin bottom by footer height */\n    }\n\n    .footer {\n        position: absolute;\n        bottom: 0;\n        width: 100%;\n        height: 60px; /* Set the fixed height of the footer here */\n        line-height: 60px; /* Vertically center the text there */\n        background-color: #f5f5f5;\n    }\n\n&lt;/style&gt;\n\n&lt;footer class=\"footer\"&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;span class=\"text-muted\"&gt;\n            {% include 'menus/footer_menu.html' with menu=menus.footer_menu %}\n        &lt;/span&gt;\n    &lt;/div&gt;\n&lt;/footer&gt;\n\n# templates/menus/header_menu.html\n\n&lt;ul class=\"navbar-nav me-auto mb-2 mb-md-0\"&gt;\n    {% for menu_item in menu %}\n    &lt;li class=\"nav-item\"&gt;\n        &lt;a class=\"nav-link {% if menu_item.is_current %}active{% endif %}\" aria-current=\"page\"\n           {% if menu_item.target_blank %}target=\"_blank\" {% endif %}\n           href=\"{{ menu_item.get_link }}\"&gt;{{ menu_item.title }}&lt;/a&gt;\n    &lt;/li&gt;\n    {% endfor %}\n&lt;/ul&gt;\n\n# templates/menus/footer_menu.html\n\n{% for menu_item in menu %}\n&lt;a {% if menu_item.target_blank %}target=\"_blank\" {% endif %}\n   href=\"{{ menu_item.get_link }}\"&gt;{{ menu_item.title }}&lt;/a&gt;\n{% if not forloop.last %}|{% endif %}\n{% endfor %}\n\n</code></pre> <p>Now you can auth in admin panel and starting add menus and pages.</p>"},{"location":"packages/garpix_notify/","title":"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f","text":""},{"location":"packages/garpix_notify/#quickstart","title":"Quickstart","text":"<p>Install with pip:</p> <pre><code>pip install garpix_notify\n</code></pre> <p>Add the <code>garpix_notify</code> and dependencies to your <code>INSTALLED_APPS</code>:</p> <pre><code># settings.py\n\nINSTALLED_APPS = [\n    # ...\n    'fcm_django',\n    'garpix_notify',\n]\n\nFCM_DJANGO_SETTINGS = {\n        \"APP_VERBOSE_NAME\": \"Firebase Cloud Messaging\",\n        \"FCM_SERVER_KEY\": \"[your api key]\",\n        \"ONE_DEVICE_PER_USER\": False,\n        \"DELETE_INACTIVE_DEVICES\": False,\n}\n\n</code></pre> <p>Package not included migrations, set path to migration directory. Don't forget create this directory (<code>app/migrations/garpix_notify/</code>) and place empty <code>__init__.py</code>:</p> <pre><code>app/migrations/\napp/migrations/__init__.py  # empty file\napp/migrations/garpix_notify/__init__.py  # empty file\n</code></pre> <p>Add path to settings:</p> <pre><code># settings.py\n\nMIGRATION_MODULES = {\n    'garpix_notify': 'app.migrations.garpix_notify',\n}\n</code></pre> <p>Add mixin to settings:</p> <pre><code># settings.py\nGARPIX_NOTIFY_MIXIN = 'app.models.notify_mixin.NotifyMixin'\n</code></pre> <p>Create your custom user model and add <code>AUTH_USER_MODEL</code> to <code>app/settings.py</code>:</p> <pre><code>AUTH_USER_MODEL = 'user.User'\n</code></pre> <p>Run make migrations:</p> <pre><code>python manage.py makemigrations\n</code></pre> <p>Migrate:</p> <pre><code>python manage.py migrate\n</code></pre>"},{"location":"packages/garpix_notify/#example","title":"Example","text":""},{"location":"packages/garpix_notify/#step-1-set-notify-types-in-appsettingspy-for-example","title":"Step 1. Set notify types in <code>app/settings.py</code>, for example:","text":"<pre><code>REGISTRATION_EVENT = 1\nFEEDBACK_EVENT = 2\nEXAMPLE_EVENT_1 = 3\nEXAMPLE_EVENT_2 = 4\n\n\nNOTIFY_EVENTS = {\n    REGISTRATION_EVENT: {\n        'title': 'Register',\n    },\n    FEEDBACK_EVENT: {\n        'title': 'Feeback',\n    },\n    EXAMPLE_EVENT_1: {\n        'title': 'Example 1',\n    },\n    EXAMPLE_EVENT_2: {\n        'title': 'Example 2',\n    },\n}\n\nCHOICES_NOTIFY_EVENT = [(k, v['title']) for k, v in NOTIFY_EVENTS.items()]\n\n</code></pre>"},{"location":"packages/garpix_notify/#step-2-import-default-settings-in-your-appsettingspy","title":"Step 2. Import default settings in your <code>app/settings.py</code>","text":"<pre><code>\n    from garpix_notify.settings import *\n</code></pre> <p>or copy from here if you want more customization</p> <pre><code>PERIODIC_SENDING = 60\nEMAIL_MAX_DAY_LIMIT = 240\nEMAIL_MAX_HOUR_LIMIT = 240\n# SMS\nSMS_URL_TYPE = 0\nSMS_API_ID = 1234567890\nSMS_LOGIN = ''\nSMS_PASSWORD = ''\nSMS_FROM = ''\n# CALL\nCALL_URL_TYPE = 0\nCALL_API_ID = 1234567890\nCALL_LOGIN = ''\nCALL_PASSWORD = ''\n# TELEGRAM\nTELEGRAM_API_KEY = '000000000:AAAAAAAAAA-AAAAAAAA-_AAAAAAAAAAAAAA'\nTELEGRAM_BOT_NAME = 'MySuperBot'\nTELEGRAM_WELCOME_TEXT = 'Hello'\nTELEGRAM_HELP_TEXT = '/set !help for HELP'\nTELEGRAM_BAD_COMMAND_TEXT = 'Incorrect command format'\nTELEGRAM_SUCCESS_ADDED_TEXT = 'Success'\nTELEGRAM_FAILED_ADDED_TEXT = 'Failed'\nTELEGRAM_PARSE_MODE = None\nTELEGRAM_DISABLE_NOTIFICATION = False\nTELEGRAM_DISABLE_PAGE_PREVIEW = False\nTELEGRAM_SENDING_WITHOUT_REPLY = False\nTELEGRAM_TIMEOUT = None\n# VIBER\nVIBER_API_KEY = '000000000:AAAAAAAAAA-AAAAAAAA-_AAAAAAAAAAAAAA'\nVIBER_BOT_NAME = 'MySuperViberBot'\nVIBER_WELCOME_TEXT = 'Hello'\nVIBER_SUCCESS_ADDED_TEXT = 'Success'\nVIBER_FAILED_ADDED_TEXT = 'Failed'\nVIBER_TEXT_FOR_NEW_SUB = 'HI!'\n# WHATSAPP\nIS_WHATS_APP_ENABLED = True\nWHATS_APP_AUTH_TOKEN = None\nWHATS_APP_ACCOUNT_SID = None\nWHATS_APP_NUMBER_SENDER = None\n# SETTINGS\nEMAIL_MALLING = 1\nGARPIX_NOTIFY_MIXIN = 'garpix_notify.mixins.notify_mixin.NotifyMixin'\nNOTIFY_USER_WANT_MESSAGE_CHECK = None\nNOTIFY_CALL_CODE_CHECK = None\nGARPIX_NOTIFY_CELERY_SETTINGS = 'app.celery.app'\nDEFAULT_SYSTEM_NOTIFY_TYPE = 'system'\n\n</code></pre>"},{"location":"packages/garpix_notify/#step-3-go-to-the-admin-panel-and-go-to-the-notifications-section-smtp-accounts","title":"Step 3. Go to the admin panel and go to the \"Notifications\" section - \"SMTP accounts\"","text":"<p>Add an SMTP account to send Email notifications. These will be the senders of Email notifications.</p>"},{"location":"packages/garpix_notify/#step-4-also-go-to-notifications-categories","title":"Step 4. Also go to \"Notifications\" - \"Categories\"","text":"<p>Create a category that will be used to send emails. Usually one category is enough. The ability to enter several categories is necessary to divide them into informational and marketing notifications.</p>"},{"location":"packages/garpix_notify/#step-4-go-to-notifications-templates","title":"Step 4. Go to \"Notifications\" - \"Templates\"","text":"<p>Create a template for a specific event (when you added them to <code>settings.py</code>).</p>"},{"location":"packages/garpix_notify/#step-5-call-notifysend","title":"Step 5. Call Notify.send()","text":"<p>In the code where it is necessary to work out sending a notification, we perform the following actions:</p> <pre><code>import datetime\nfrom django.conf import settings\nfrom garpix_notify.models import Notify\n\n# Syntax\n# Notify.send(&lt;event&gt;, &lt;context&gt;[, &lt;user=None&gt;, &lt;email=None&gt;, &lt;phone=None&gt;, &lt;files=None&gt;, &lt;data_json=None&gt;])\n# That is, we specify the event ID as the first parameter,\n# create variables for the template,\n# third - the user to send it to (it is not necessary to specify his email, phone number, etc.,\n# because this will be determined automatically depending on the type of template)   \n\n# Example\nuser = request.user  # this will be the recipient of the notification.\n\nNotify.send(settings.REGISTRATION_EVENT, {\n    'confirmation_code': 'abcdef12345',\n}, user=user)\n\n# If we do not have a user in the system, but we need to send an email, we can do the following\n\nNotify.send(settings.EXAMPLE_EVENT_1, {\n    'confirmation_code': 'abcdef12345',\n}, email='example@mail.ru')\n\n# If you need more detailed time settings, add send_at\n\nNotify.send(settings.EXAMPLE_EVENT_1, {\n    'confirmation_code': 'abcdef12345',\n}, email='example@mail.ru', send_at=(datetime.datetime.now() + datetime.timedelta(days=1)))\n\n# If you need to send a code by phone call\nNotify.send(settings.EXAMPLE_EVENT_2, phone='79998881122', context={})\n\n# or if you need to get the code directly\nNotify.call(phone=79998881122)\n\n\n</code></pre>"},{"location":"packages/garpix_notify/#mass-email-and-sms-mailing","title":"Mass email and sms mailing:","text":"<p>To perform a mass mailing, you need to add user lists to the template. Or directly in the notification.</p>"},{"location":"packages/garpix_notify/#new-system-notifications","title":"New system Notifications:","text":"<p>Now system notifications are placed in an independent model.  It is not necessary to create templates for them.  Mass mailing is also available.</p> <pre><code>from django.conf import settings\nfrom garpix_notify.models import SystemNotify\nfrom django.contrib.auth import get_user_model\n\n# 1. Example of use without templates\nUser = get_user_model()\nuser = User.objects.filter().first()\nSystemNotify.send({'test': 'data'}, user)\n\n# 2. Example of using a template\nSystemNotify.send({'test': 'data'}, event=settings.EXAMPLE_EVENT_2)\n</code></pre>"},{"location":"packages/garpix_notify/#do-not-forget-run-celery","title":"Do not forget run celery:","text":"<pre><code>celery -A app worker --loglevel=info -B\n</code></pre>"},{"location":"packages/garpix_notify/#telegram-notify","title":"Telegram Notify","text":"<p>Register you bot https://t.me/BotFather</p> <p>Go to http://localhost:8000/admin/garpix_notify/notifyconfig/ and fill \"Telegram\" section (<code>API key</code> and <code>Bot name</code>).</p> <p>Run daemon:</p> <pre><code>python3 backend/manage.py garpix_notify_telegram\n</code></pre> <p>Go to your bot and send <code>/start</code> command.</p> <p>Also, see <code>user/admin.py</code> file (see instructions):</p> <pre><code>from django.contrib import admin\nfrom .models import User\nfrom django.contrib.auth.admin import UserAdmin\n\n\n@admin.register(User)\nclass UserAdmin(UserAdmin):\n    fieldsets = (\n        ('Telegram', {\n            'fields': ('telegram_chat_id', 'telegram_secret', 'get_telegram_connect_user_help'),\n        })\n    ) + UserAdmin.fieldsets\n    readonly_fields = ['telegram_secret', 'get_telegram_connect_user_help'] + list(UserAdmin.readonly_fields)\n</code></pre>"},{"location":"packages/garpix_notify/#system-ws-notify","title":"System ws Notify","text":"<p>Add the <code>channels</code> to your <code>INSTALLED_APPS</code>:</p> <pre><code># settings.py\n\nINSTALLED_APPS = [\n    # ...\n    'channels',\n]\n</code></pre> <p>Add the <code>REDIS_HOST</code> and <code>REDIS_PORT</code> variables and <code>asgi</code> and <code>channels</code> configurations:</p> <pre><code># settings.py\n\nREDIS_HOST = os.getenv('REDIS_HOST', 'localhost')\nREDIS_PORT = os.getenv('REDIS_PORT', 6379)\n\n...\n\nASGI_APPLICATION = 'app.asgi.application'\nCHANNEL_LAYERS = {\n    'default': {\n        'BACKEND': 'channels_redis.core.RedisChannelLayer',\n        'CONFIG': {\n            \"hosts\": [(REDIS_HOST, REDIS_PORT)],\n        },\n    },\n}\n</code></pre> <p>Edit your <code>asgi.py</code> file</p> <pre><code>import os\nfrom channels.auth import AuthMiddlewareStack\nfrom channels.routing import ProtocolTypeRouter, URLRouter\nfrom django.core.asgi import get_asgi_application\nfrom garpix_notify import routing\n\n\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'app.settings')\n\napplication = ProtocolTypeRouter({\n  \"http\": get_asgi_application(),\n  \"websocket\": AuthMiddlewareStack(\n        URLRouter(\n            routing.websocket_urlpatterns\n        )\n    ),\n})\n</code></pre> <p>Socket notification example</p> <pre><code>group_name = f'workflow-{user.pk}'\nNotify.send(settings.MY_NOTIFY, {\n        'message': 'my message',\n    }, room_name=group_name, user=user)\n</code></pre> <p>For notifications of the SYSTEM type, a separate non-periodic task is used that works instantly, if room_name is missing system messages will be sent in <code>'room_{id}'</code> where <code>'id'</code> is user id</p>"},{"location":"packages/garpix_page/","title":"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b","text":"<p>Convenient page structure with any context and template. It is suitable not only for a blog, but also for large sites with a complex presentation. Supports SEO.</p>"},{"location":"packages/garpix_page/#quickstart","title":"Quickstart","text":"<p>Install with pip:</p> <pre><code>pip install garpix_page\n</code></pre> <p>Add the <code>garpix_page</code> and dependency packages to your <code>INSTALLED_APPS</code>:</p> <pre><code># settings.py\n\nINSTALLED_APPS = [\n    'modeltranslation',\n    'polymorphic_tree',\n    'polymorphic',\n    'mptt',\n    # ... django.contrib.*\n    'django.contrib.sites',\n    'tabbed_admin',\n    'garpix_page',\n    # third-party and your apps\n]\n\nSITE_ID=1\n\nLANGUAGE_CODE = 'en'\nUSE_DEFAULT_LANGUAGE_PREFIX = False\n\nLANGUAGES = (\n    ('en', 'English'),\n)\n\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': ['templates'],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\nMIDDLEWARE = [\n    'django.middleware.locale.LocaleMiddleware'\n]\n\n</code></pre> <p>Package not included migrations, set path to migration directory. Don't forget create this directory (<code>app/migrations/garpix_page/</code>) and place empty <code>__init__.py</code>:</p> <pre><code>app/migrations/\napp/migrations/__init__.py  # empty file\napp/migrations/garpix_page/__init__.py  # empty file\n</code></pre> <p>Add path to settings:</p> <pre><code># settings.py\n\nMIGRATION_MODULES = {\n    'garpix_page': 'app.migrations.garpix_page',\n}\n</code></pre> <p>Run make migrations:</p> <pre><code>python manage.py makemigrations\n</code></pre> <p>Migrate:</p> <pre><code>python manage.py migrate\n</code></pre> <p>Add celery settings path to <code>settings.py</code>:</p> <pre><code>GARPIXCMS_CELERY_SETTINGS = 'app.celery.app'\n</code></pre> <p>Now, you can create your models from <code>BasePage</code> and set template and context. See example below.</p>"},{"location":"packages/garpix_page/#important","title":"Important","text":"<p>Page (Model Page) - model, subclass from <code>BasePage</code>. You create it yourself. There must be at least 1 descendant from BasePage.</p> <p>Context - includes <code>object</code> and <code>request</code>. It is a function that returns a dictionary from model instance. Values from the key dictionary can be used in the template.</p> <p>Template - standard Django template.</p>"},{"location":"packages/garpix_page/#example","title":"Example","text":"<p>Urls:</p> <pre><code># app/urls.py\n\nfrom django.contrib import admin\nfrom django.urls import path, re_path\nfrom django.conf.urls.i18n import i18n_patterns\nfrom garpix_page.views.page import PageView\nfrom multiurl import ContinueResolving, multiurl\nfrom django.http import Http404\nfrom django.conf import settings\nfrom garpix_page.views.index import IndexView\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n]\n\nurlpatterns += i18n_patterns(\n    multiurl(\n        path('', PageView.as_view()),\n        re_path(r'^(?P&lt;url&gt;.*?)$', PageView.as_view(), name='page'),\n        re_path(r'^(?P&lt;url&gt;.*?)/$', PageView.as_view(), name='page'),\n        path('', IndexView.as_view()),\n        catch=(Http404, ContinueResolving),\n    ),\n    prefix_default_language=settings.USE_DEFAULT_LANGUAGE_PREFIX,\n)\n\n</code></pre> <p>Models:</p> <pre><code># app/models/page.py\n\nfrom django.db import models\nfrom garpix_page.models import BasePage\n\n\nclass Page(BasePage):\n    content = models.TextField(verbose_name='Content', blank=True, default='')\n\n    template = 'pages/default.html'\n\n    class Meta:\n        verbose_name = \"Page\"\n        verbose_name_plural = \"Pages\"\n        ordering = ('-created_at',)\n\n\n# app/models/category.py\n\nfrom garpix_page.models import BasePage\n\n\nclass Category(BasePage):\n    template = 'pages/category.html'\n\n    def get_context(self, request=None, *args, **kwargs):\n        context = super().get_context(request, *args, **kwargs)\n        posts = Post.on_site.filter(is_active=True, parent=kwargs['object'])\n        context.update({\n            'posts': posts\n        })\n        return context\n\n    class Meta:\n        verbose_name = \"Category\"\n        verbose_name_plural = \"Categories\"\n        ordering = ('-created_at',)\n\n\n# app/models/post.py\n\nfrom django.db import models\nfrom garpix_page.models import BasePage\n\n\nclass Post(BasePage):\n    content = models.TextField(verbose_name='Content', blank=True, default='')\n\n    template = 'pages/post.html'\n\n    class Meta:\n        verbose_name = \"Post\"\n        verbose_name_plural = \"Posts\"\n        ordering = ('-created_at',)\n</code></pre> <p>Admins:</p> <pre><code># app/admin/__init__.py\n\nfrom .page import PageAdmin\nfrom .category import CategoryAdmin\nfrom .post import PostAdmin\n\n\n# app/admin/page.py\n\nfrom ..models.page import Page\nfrom django.contrib import admin\nfrom garpix_page.admin import BasePageAdmin\n\n\n@admin.register(Page)\nclass PageAdmin(BasePageAdmin):\n    pass\n\n# app/admin/category.py\n\nfrom ..models.category import Category\nfrom django.contrib import admin\nfrom garpix_page.admin import BasePageAdmin\n\n\n@admin.register(Category)\nclass CategoryAdmin(BasePageAdmin):\n    pass\n\n# app/admin/post.py\n\nfrom ..models.post import Post\nfrom django.contrib import admin\nfrom garpix_page.admin import BasePageAdmin\n\n\n@admin.register(Post)\nclass PostAdmin(BasePageAdmin):\n    pass\n\n</code></pre> <p>Translations:</p> <pre><code># app/translation/__init__.py\n\nfrom .page import PageTranslationOptions\nfrom .category import CategoryTranslationOptions\nfrom .post import PostTranslationOptions\n\n# app/translation/page.py\n\nfrom modeltranslation.translator import TranslationOptions, register\nfrom ..models import Page\n\n\n@register(Page)\nclass PageTranslationOptions(TranslationOptions):\n    fields = ('content',)\n\n\n# app/translation/category.py\n\nfrom modeltranslation.translator import TranslationOptions, register\nfrom ..models import Category\n\n\n@register(Category)\nclass CategoryTranslationOptions(TranslationOptions):\n    fields = []\n\n# app/translation/post.py\n\nfrom modeltranslation.translator import TranslationOptions, register\nfrom ..models import Post\n\n\n@register(Post)\nclass PostTranslationOptions(TranslationOptions):\n    fields = ('content',)\n\n</code></pre> <p>Templates:</p> <pre><code># templates/base.html\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    {% include 'garpix_page/seo.html' %}\n&lt;/head&gt;\n&lt;body&gt;\n{% include 'garpix_page/admin_toolbar.html' %}\n&lt;main&gt;\n    {% block content %}404{% endblock %}\n    {% block components %}\n        {% for component in components %}\n        {{ component.template }}\n        {% include component.template %}\n        {% endfor %}\n    {% endblock %}\n&lt;/main&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n\n# templates/pages/default.html\n\n{% extends 'base.html' %}\n\n{% block content %}\n&lt;h1&gt;{{object.title}}&lt;/h1&gt;\n&lt;div&gt;\n    {{object.content|safe}}\n&lt;/div&gt;\n{% endblock %}\n\n\n\n# templates/pages/category.html\n\n{% extends 'base.html' %}\n\n{% block content %}\n&lt;h1&gt;{{object.title}}&lt;/h1&gt;\n{% for post in posts %}\n    &lt;div&gt;\n        &lt;h3&gt;&lt;a href=\"{{post.get_absolute_url}}\"&gt;{{post.title}}&lt;/a&gt;&lt;/h3&gt;\n    &lt;/div&gt;\n{% endfor %}\n\n{% endblock %}\n\n\n\n# templates/pages/post.html\n\n{% extends 'base.html' %}\n\n{% block content %}\n&lt;h1&gt;{{object.title}}&lt;/h1&gt;\n&lt;div&gt;\n    {{object.content|safe}}\n&lt;/div&gt;\n{% endblock %}\n\n</code></pre> <p>Now you can auth in admin panel and starting add pages.</p> <p>If you need to use a serializer whose model is this page, use the get_serializer() method to avoid circular imports.</p>"},{"location":"packages/garpix_page/#page-permissions","title":"Page permissions","text":"<p>If you need to add login access to your model pages, add login_required static field to your model.</p> <p>To add some user permissions to page, add permissions  static field to your page model:</p> <pre><code>class Post(BasePage):\n    content = models.TextField(verbose_name='Content', blank=True, default='')\n\n    template = 'pages/post.html'\n\n    login_required = True\n    permissions = [IsAdminUser,]\n\n    class Meta:\n        verbose_name = \"Post\"\n        verbose_name_plural = \"Posts\"\n        ordering = ('-created_at',)\n\n</code></pre>"},{"location":"packages/garpix_page/#api","title":"API","text":"<p>You can use garpix_page with SPA sites.</p> <p>Add to settings API_URL parameter:</p> <pre><code>API_URL = 'api'\n</code></pre> <p>Add to <code>urls.py</code> this:</p> <pre><code>urlpatterns += [\n    re_path(r'{}/page_models_list/$'.format(settings.API_URL), PageApiListView.as_view()),\n    re_path(r'{}/page/(?P&lt;slugs&gt;.*)$'.format(settings.API_URL), PageApiView.as_view()),\n]\n</code></pre> <p>And you can test it:</p> <p><code>http://localhost:8000/api/page/</code> - home page (empty slug) <code>http://localhost:8000/api/page/another_page</code> - another page (slug) <code>http://localhost:8000/api/page/kategoriya/post-1</code> - sub page (slug)</p> <p>Example answer:</p> <pre><code>{\n    \"page_model\": \"Post\",\n    \"init_state\": {\n        \"object\": {\n            \"id\": 4,\n            \"title\": \"post 1\",\n            \"title_en\": \"post 1\",\n            \"is_active\": true,\n            \"display_on_sitemap\": true,\n            \"slug\": \"post-1\",\n            \"created_at\": \"2021-06-21T19:39:49.749460Z\",\n            \"updated_at\": \"2021-06-21T19:39:49.749488Z\",\n            \"seo_title\": \"\",\n            \"seo_title_en\": null,\n            \"seo_keywords\": \"\",\n            \"seo_keywords_en\": null,\n            \"seo_description\": \"\",\n            \"seo_description_en\": \"\",\n            \"seo_author\": \"\",\n            \"seo_author_en\": null,\n            \"seo_og_type\": \"website\",\n            \"seo_image\": null,\n            \"lft\": 2,\n            \"rght\": 3,\n            \"tree_id\": 3,\n            \"level\": 1,\n            \"content\": \"example\",\n            \"content_en\": \"example\",\n            \"polymorphic_ctype\": 11,\n            \"parent\": 3,\n            \"sites\": [\n                1\n            ]\n        }\n    }\n}\n</code></pre>"},{"location":"packages/garpix_page/#error-contexts","title":"Error contexts","text":"<p>Module consists of 3 reserved names for page models: <code>Page404</code>, <code>Page403</code> and <code>Page401</code>. These names are used for responses when corresponding error statuses are caught. Example answer on not found error:</p> <pre><code>{\n    \"page_model\": \"Page404\",\n    \"init_state\": {\n        \"object\": null,\n        \"global\": {}\n    }\n}\n</code></pre> <p>To add drf paginated list of objects to your page context use <code>GarpixPagePagination</code> class:</p> <pre><code>     # example\nfrom garpix_page.models import BasePage\nfrom garpix_page.pagination import GarpixPagePagination\n\nclass Post(BasePage):\n    ...\n\n    def get_context(self, request=None, *args, **kwargs):\n\n        ...\n        # get your_objects_list\n        # import objects serializer class YourObjectsSerializer\n        ...\n\n        paginator = GarpixPagePagination()\n\n        paginated_list = paginator.get_paginated_data(queryset=your_objects_list, serializer=YourObjectsSerializer,\n                                                       request=request)\n        context = {\n            'paginated_list': paginated_list\n        }\n ```\n\n# Components\n\nIt is possible to compose a page from components. You can do this in the same way as creating pages.\n\nModel\n\n```python\n# app/models/components.py\nfrom django.db import models\n\nfrom garpix_page.models import BaseComponent\n\nclass TextComponent(BaseComponent):\n    text = models.TextField(verbose_name='\u0422\u0435\u043a\u0441\u0442')\n\n    class Meta:\n        verbose_name = '\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442'\n        verbose_name_plural = '\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b'\n\n    def get_context_data(self, request):  # add overriding this method to customize component's context\n        context = super().get_context_data(request)\n        return context\n\n</code></pre> <p>Admin</p> <pre><code># app/admin/components.py\nfrom django.contrib import admin\n\nfrom garpix_page.admin.components.base_component import BaseComponentAdmin\nfrom app.models import TextComponent\n\n\n@admin.register(TextComponent)\nclass TextComponentAdmin(BaseComponentAdmin):\n    pass\n\n</code></pre> <p>Translations:</p> <pre><code># app/translation/components.py\n\nfrom modeltranslation.translator import TranslationOptions, register\nfrom app.models import TextComponent\n\n\n@register(TextComponent)\nclass TextComponentTranslationOptions(TranslationOptions):\n    fields = ('text',)\n\n\n</code></pre> <p>BaseComponent has m2m field <code>pages</code> to specify on which pages the component should be displayed. Through table also has <code>view_order</code> field to specify the ordering of components at the page (ascending order). You can override <code>get_context_data</code> method to add some info to component context.</p> <p>Example answer with some components:</p> <pre><code>{\n    \"page_model\": \"Page\",\n    \"init_state\": {\n        \"object\": {\n            \"id\": 1,\n            \"title\": \"page\",\n            \"title_en\": \"page\",\n            \"is_active\": true,\n            \"display_on_sitemap\": true,\n            \"slug\": \"page\",\n            \"created_at\": \"2022-02-28T15:33:26.083166Z\",\n            \"updated_at\": \"2022-04-12T07:45:34.695803Z\",\n            \"seo_title\": \"\",\n            \"seo_title_en\": null,\n            \"seo_keywords\": \"\",\n            \"seo_keywords_en\": null,\n            \"seo_description\": \"\",\n            \"seo_description_en\": \"\",\n            \"seo_author\": \"\",\n            \"seo_author_en\": null,\n            \"seo_og_type\": \"website\",\n            \"seo_image\": null,\n            \"lft\": 1,\n            \"rght\": 2,\n            \"tree_id\": 1,\n            \"level\": 0,\n            \"content\": \"\",\n            \"content_en\": \"\",\n            \"polymorphic_ctype\": 10,\n            \"parent\": null,\n            \"sites\": [\n                1\n            ],\n            \"components\": [\n                {\n                    \"component_model\": \"TextComponent\",\n                    \"object\": {\n                        \"id\": 1,\n                        \"title\": \"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u0431\u043b\u043e\u043a\",\n                        \"title_en\": \"Text block\",\n                        \"created_at\": \"2022-04-11T15:35:24.829579Z\",\n                        \"updated_at\": \"2022-04-11T15:37:09.898287Z\",\n                        \"text_title\": \"\",\n                        \"text\": \"\u0422\u0435\u043a\u0441\u0442\",\n                        \"text_en\": \"Text\",\n                        \"polymorphic_ctype\": 22,\n                        \"pages\": [\n                            1\n                        ]\n                    }\n                },\n                {\n                    \"component_model\": \"TextDescriptionComponent\",\n                    \"object\": {\n                        \"id\": 2,\n                        \"title\": \"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0443\u0431\u0440\u0438\u043a\u0438\",\n                        \"created_at\": \"2022-04-12T07:45:15.341862Z\",\n                        \"updated_at\": \"2022-04-12T07:45:15.341886Z\",\n                        \"text_title\": \"\",\n                        \"text\": \"\u0422\u0435\u043a\u0441\u0442\",\n                        \"description\": \"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\",\n                        \"polymorphic_ctype\": 21,\n                        \"pages\": [\n                            1\n                        ]\n                    }\n                }\n            ]\n        },\n        \"global\": {}\n    }\n}\n</code></pre> <p>Templates:</p> <p>If you want to override the base component template, add <code>template</code> parameter to component class:</p> <pre><code># app/models/components.py\n\nfrom garpix_page.models import BaseComponent\n\nclass TextComponent(BaseComponent):\n    # ...\n    template = 'text_component.html'\n    # ...\n\n</code></pre> <p>In html you can use <code>component</code> object:</p> <pre><code># templates/pages/components/default.html\n\n&lt;h1&gt;{{ component.title }}&lt;/h1&gt;\n</code></pre> <p>You can use <code>gx_component</code> tag in section with the component to add edit functionality for admin in template:</p> <pre><code>{% load gx_component %}\n&lt;section class=\"text-component\" {% gx_component component %}&gt;\n    ...\n&lt;/section&gt;\n</code></pre>"},{"location":"packages/garpix_page/#seo-templates","title":"Seo-templates","text":"<p>You can create seo-template from admin panel.  If you set <code>field</code> value to <code>Model title</code>, the template will be used for pages only for those model. In other cases the template will be used for pages with the <code>value</code> of the <code>field</code>.</p> <p>You can also specify the sites the template will be used on.</p> <p>You can add fields which will be used for template keys, using <code>get_seo_template_keys</code> method and <code>seo_template_keys_list</code> class method.</p> <pre><code>class Page(BasePage):\n    #...\n    def get_seo_template_keys(self):\n        seo_keys = super().get_seo_template_keys()\n        seo_keys.update({\n            'yourfield': self.yourfield\n        })\n        return seo_keys\n\n    @classmethod\n    def seo_template_keys_list(cls):\n        return [('yourfield', 'your field title')]\n</code></pre>"},{"location":"packages/garpix_page/#grapesjs","title":"Grapesjs","text":"<p>Grapesjs component implementation example:</p> <pre><code>const Grapesjs = ({ data }): React.ReactElement =&gt; {\n  const {css, js, object} = data;\n  useEffect(() =&gt; {\n    const jsId = `js_${object.id}`\n    const nodeScript = document.getElementById(jsId)\n    if(nodeScript === null) {\n      const script = document.createElement('script')\n      script.id = jsId\n      script.type = 'text/javascript'\n      script.src = js\n      document.body.appendChild(script)\n    }\n\n    const cssId = `css_${object.id}`\n    const nodeStyle = document.getElementById(cssId)\n    if(nodeStyle === null) {\n      const link = document.createElement('link')\n      link.id = cssId\n      link.rel = 'stylesheet'\n      link.href = css\n      document.body.appendChild(link)\n    }\n  }, [css, js])\n  const html = data.object.html\n  return (\n    &lt;div dangerouslySetInnerHTML={{__html: html}}&gt;&lt;/div&gt;\n  )\n}\n</code></pre> <p>\u0421omponent usage</p> <pre><code>{components.map((component) =&gt; {\n    return (\n        &lt;Grapesjs data={component} key={component.object.id} /&gt;\n    )\n})}\n</code></pre>"},{"location":"packages/garpix_page/#important_1","title":"Important!","text":"<p>Also, see this project for additional features (<code>BaseListPage</code>, <code>BaseSearchPage</code>, <code>sitemap.xml</code>, etc).</p>"},{"location":"packages/garpix_page/#todo","title":"TODO","text":"<ul> <li>Add information about GARPIX_PAGE_GLOBAL_CONTEXT</li> </ul>"},{"location":"packages/garpix_qa/","title":"Eqator","text":"<p>Checking the Django project for quality. It can be convenient if you include it in CI.</p> <p>Used packages: </p> <ul> <li>django unittest - unit testing in Django.</li> <li>flake8 - linter of source code.</li> <li>radon - tool that computes various metrics from the source code.</li> <li>bandit - a security linter from PyCQA.</li> <li>coverage - a test coverage for unittest.</li> </ul>"},{"location":"packages/garpix_qa/#quickstart","title":"Quickstart","text":"<p>Install with pip:</p> <pre><code>pip install eqator\n</code></pre> <p>Add the <code>eqator</code> to your <code>INSTALLED_APPS</code>:</p> <pre><code># settings.py\n\nINSTALLED_APPS = [\n    # ...\n    'eqator',\n]\n</code></pre> <p>To use Lighthouse scoring, install <code>Lighthouse CI</code> with <code>npm</code>:</p> <pre><code>npm install -g @lhci/cli\n</code></pre> <p>Check your project:</p> <pre><code>python manage.py qa\n</code></pre> <p>Check your project by separate options.</p> <p>Run checking style guide with flake8:</p> <pre><code>python manage.py qa -f\n</code></pre> <pre><code>python manage.py qa --flake\n</code></pre> <p>Run checking cyclomatic complexity with radon</p> <pre><code>python manage.py qa -r\n</code></pre> <pre><code>python manage.py qa --radon\n</code></pre> <p>Run security lint with bandit</p> <pre><code>python manage.py qa -l\n</code></pre> <pre><code>python manage.py qa --linter\n</code></pre> <p>Run django project migrations check</p> <pre><code>python manage.py qa -m\n</code></pre> <pre><code>python manage.py qa --migrations\n</code></pre> <p>Run django unittest</p> <pre><code>python manage.py qa -t\n</code></pre> <pre><code>python manage.py qa --tests\n</code></pre> <p>Run django unit tests for garpix_page</p> <pre><code>python manage.py qa -p\n</code></pre> <pre><code>python manage.py qa --garpix_page\n</code></pre> <p>Lighthouse CI check:</p> <p>(requires Lighthouse CI installed)</p> <pre><code>python manage.py qa -lh\n</code></pre> <pre><code>python manage.py qa --lighthouse\n</code></pre> <p>Run test coverage check</p> <pre><code>python manage.py qa -c\n</code></pre> <pre><code>python manage.py qa --test_coverage\n</code></pre> <p>Note, that you need to add <code>TEST_COVERAGE_RATE</code> variable to your <code>settings.py</code> file (default value is 70):</p> <pre><code>TEST_COVERAGE_RATE = 70\n</code></pre> <p>Optionally, do not save Lighthouse CI report files:</p> <pre><code>python manage.py qa --all --clear-reports\n</code></pre> <p>Check your project with all logs:</p> <pre><code>python manage.py qa --verbose\n</code></pre> <p>You can also add add <code>SENTRY_CHECK_METHOD</code> and <code>LIGHTHOUSE_CHECK_METHOD</code> variables to your <code>settings.py</code> file to controle the sentry SDK and lighthouse CI checking methods:</p> <pre><code># settings.py\nSENTRY_CHECK_METHOD = 'error'\nLIGHTHOUSE_CHECK_METHOD = 'warning'\n</code></pre>"},{"location":"packages/garpix_qa/#example-output-with-ok","title":"Example output with OK","text":"<pre><code>Input\n\n  Directory: /Users/aleksejkuznecov/projects/garpix_packages/eqator/backend\n  Start at: 2021-02-27 12:09:30.999142\n\nChecking\n\n  Checking style guide with flake8 (see \".flake8\") OK\n  Django unit tests OK\n  Cyclomatic complexity with radon (see \"radon.cfg\") OK\n  Security lint with bandit (only high-severity issues, see \".bandit\") OK\n\nResult\n\n  Problems found: 0\n  End at: 2021-02-27 12:09:33.789880\n  Duration: 0:00:02.790738\n\n</code></pre>"},{"location":"packages/garpix_qa/#example-output-with-problems","title":"Example output with problems","text":"<pre><code>Input\n\n  Directory: /Users/aleksejkuznecov/projects/garpix_packages/eqator/backend\n  Start at: 2021-02-27 12:23:41.066752\n\nChecking\n\n  Checking style guide with flake8 (see \".flake8\") ERROR\n/Users/aleksejkuznecov/projects/garpix_packages/eqator/backend/eqator/constants.py:18:4: W292 no newline at end of file\n/Users/aleksejkuznecov/projects/garpix_packages/eqator/backend/eqator/helpers.py:38:1: E302 expected 2 blank lines, found 1\n/Users/aleksejkuznecov/projects/garpix_packages/eqator/backend/eqator/colors.py:9:1: W391 blank line at end of file\n\n  Django unit tests OK\n  Cyclomatic complexity with radon (see \"radon.cfg\") OK\n  Security lint with bandit (only high-severity issues, see \".bandit\") ERROR\n[main]  INFO    Found project level .bandit file: /Users/aleksejkuznecov/projects/garpix_packages/eqator/backend/.bandit\n[main]  INFO    profile include tests: None\n[main]  INFO    cli include tests: None\n[main]  INFO    cli exclude tests: None\n[main]  INFO    running on Python 3.8.2\nRun started:2021-02-27 12:23:45.044503\n\nTest results:\n&gt;&gt; Issue: [B602:subprocess_popen_with_shell_equals_true] subprocess call with shell=True identified, security issue.\n   Severity: High   Confidence: High\n   Location: /Users/aleksejkuznecov/projects/garpix_packages/eqator/backend/eqator/helpers.py:39\n   More Info: https://bandit.readthedocs.io/en/latest/plugins/b602_subprocess_popen_with_shell_equals_true.html\n38      def shell_run(cmd):\n39          ps = subprocess.Popen(cmd, shell=True, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)\n40          lines = ps.communicate()[0]\n\n--------------------------------------------------\nCode scanned:\n        Total lines of code: 285\n        Total lines skipped (#nosec): 0\n\nRun metrics:\n        Total issues (by severity):\n                Undefined: 0.0\n                Low: 1.0\n                Medium: 0.0\n                High: 1.0\n        Total issues (by confidence):\n                Undefined: 0.0\n                Low: 0.0\n                Medium: 0.0\n                High: 2.0\nFiles skipped (0):\n\n\nResult\n\n  Problems found: 2\n  End at: 2021-02-27 12:23:45.098015\n  Duration: 0:00:04.031263\n\n</code></pre>"},{"location":"packages/garpix_qa/#configure-lighthouse-ci","title":"Configure Lighthouse CI","text":"<p>Edit <code>lighthouserc.json</code> to set URL and configure assertions. </p> <p>Reference: https://github.com/GoogleChrome/lighthouse-ci/blob/main/docs/configuration.md</p>"},{"location":"packages/garpix_qa/#configure-testcase-unit-tests","title":"Configure TestCase unit tests","text":"<p>Edit <code>testcaserc.json</code> to add configure options.</p> <p>All available configurations:</p> <ul> <li><code>apps</code> - list of apps must be tested;</li> <li><code>keepdb</code> - preserves the test DB between runs;</li> <li><code>top_level</code> - top level of project for unittest discovery;</li> <li><code>pattern</code> - the test matching pattern. Defaults to test*.py;</li> <li><code>reverse</code> - reverses test cases order;</li> <li><code>debug_sql</code> - sets settings.DEBUG to True;</li> <li><code>parallel</code> - run tests using up to N parallel processes;</li> <li><code>tags</code> - run only tests with the specified tag;</li> <li><code>exclude_tags</code> - do not run tests with the specified tag;</li> <li><code>pdb</code> - runs a debugger (pdb, or ipdb if installed) on error or failure;</li> <li><code>buffer</code> - discard output from passing tests;</li> <li><code>test_name_patterns</code> - Only run test methods and classes that match the pattern or substring</li> </ul> <p>Example:</p> <pre><code>{\n    \"apps\": [\"app\"],\n}\n</code></pre>"},{"location":"packages/garpix_qa/#send-report","title":"Send report","text":"<p>To send statistics you need to add <code>EQATOR_SEND_HOST</code>:</p> <pre><code># settings.py\n\nEQATOR_SEND_HOST = 'http://example.com/analytics/eqator/:project_name/'\n</code></pre> <pre><code>python manage.py qa --send\n</code></pre> <p>Data format</p> <pre><code>{\n  \"duration\": \"0:00:01.557757\",\n  \"start_at\": \"2022-09-20 11:56:41.230550\",\n  \"error_count\": 4,\n  \"flake_count\": 2,\n  \"radon_count\": 1,\n  \"sentry_count\": 0,\n  \"coverage_value\": 8,\n  \"coverage_result\": 0,\n  \"lighthouse_count\": 0,\n  \"migrations_count\": 1,\n  \"unit_tests_count\": 0,\n  \"security_linter_count\": 0,\n  \"garpix_page_tests_count\": 0\n}\n</code></pre>"},{"location":"packages/garpix_user/","title":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c","text":"<p>\u041c\u043e\u0434\u0443\u043b\u044c \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u0434\u043b\u044f Django/DRF. Part of GarpixCMS.</p> <p>Used packages: </p> <ul> <li>django rest framework</li> <li>social-auth-app-django</li> <li>django-rest-framework-social-oauth2</li> <li>etc; see setup.py</li> </ul>"},{"location":"packages/garpix_user/#_2","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","text":"<p>\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 pip:</p> <pre><code>pip install garpix_user\n</code></pre> <p>Add the <code>garpix_user</code> to your <code>INSTALLED_APPS</code>:</p> <pre><code># settings.py\n\n# ...\nINSTALLED_APPS = [\n    # ...\n    'garpix_user',\n]\n</code></pre> <p>and to migration modules:</p> <pre><code># settings.py\n\n# ...\nMIGRATION_MODULES = {\n    'garpix_user': 'app.migrations.garpix_user',\n}\n</code></pre> <p>Add to <code>urls.py</code>:</p> <pre><code>from garpix_user.views import LogoutView, LoginView\n\n# ...\nurlpatterns = [\n    # ...\n    # garpix_user\n    path('', include(('garpix_user.urls', 'user'), namespace='garpix_user')),\n\n]\n</code></pre> <p>Use <code>GarpixUser</code> from <code>garpix_user.models</code> as base for your user model class:</p> <pre><code># user.models.user.py\n\nfrom garpix_user.models import GarpixUser\n\n\nclass User(GarpixUser):\n\n    class Meta:\n        verbose_name = '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c'\n        verbose_name_plural = '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438'\n\n    def __str__(self):\n        return self.username\n\n</code></pre> <p>Use <code>UserAdmin</code> from <code>garpix_user.admin</code> as base for your user admin class:</p> <pre><code>\nfrom django.contrib import admin\n\nfrom garpix_user.admin import UserAdmin\nfrom user.models import User\n\n\n@admin.register(User)\nclass UserAdmin(UserAdmin):\n    pass\n\n</code></pre> <p>For custom auth with phone and/or email use this in <code>settings.py</code>:</p> <pre><code># ...\n\nAUTHENTICATION_BACKENDS = (\n    # Django\n    'garpix_user.utils.backends.CustomAuthenticationBackend',\n    'django.contrib.auth.backends.ModelBackend',\n)\n\n</code></pre> <p>and <code>USERNAME_FIELDS</code> to your <code>User</code> model:</p> <pre><code># user.models.user.py\n\nfrom garpix_user.models import GarpixUser\n\n\nclass User(GarpixUser):\n\n    USERNAME_FIELDS = ('email', ) # default is username\n\n    class Meta:\n        verbose_name = '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c'\n        verbose_name_plural = '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438'\n\n    def __str__(self):\n        return self.username\n\n</code></pre>"},{"location":"packages/garpix_user/#with-django-rest-framework","title":"With Django Rest Framework","text":"<p>Import settings from <code>garpix_user</code>:</p> <pre><code># settings.py\nfrom garpix_user.settings import *\n\n</code></pre> <p>Add this for SPA:</p> <pre><code># ...\nINSTALLED_APPS += [\n    # ...\n    'rest_framework',\n    'rest_framework.authtoken',\n    'oauth2_provider',\n    'social_django',\n    'rest_framework_social_oauth2',\n    # ...\n]\n\nREST_FRAMEWORK = {\n    'DEFAULT_AUTHENTICATION_CLASSES': {\n        'garpix_user.rest.authentication.MainAuthentication',\n        'oauth2_provider.contrib.rest_framework.OAuth2Authentication',\n        'rest_framework_social_oauth2.authentication.SocialAuthentication',\n    }\n}\n\n</code></pre>"},{"location":"packages/garpix_user/#registration","title":"Registration","text":"<p><code>garpix_user</code> adds default registration for with <code>phone</code> and/or <code>email</code> and <code>password</code> fields. To add fields to this form override <code>RegistrationSerializer</code> and add it to <code>settings</code>:</p> <pre><code># settings.py\n\nGARPIX_USER = {\n    # registration\n    'REGISTRATION_SERIALIZER': 'app.serializers.RegistrationCustSerializer'\n}\n\n# Hint: see all available settings in the end of this document.\n\n</code></pre> <pre><code># app.serializers.py\n\nfrom django.contrib.auth import get_user_model\nfrom rest_framework import serializers\n\nfrom garpix_user.serializers import RegistrationSerializer\n\nUser = get_user_model()\n\n\nclass RegistrationCustSerializer(RegistrationSerializer):\n    extra_field = serializers.CharField(write_only=True)\n\n    class Meta(RegistrationSerializer.Meta):\n        model = User\n        fields = RegistrationSerializer.Meta.fields + ('extra_field',)\n\n</code></pre> <p>You also can add password security settings:</p> <pre><code>\n# settings.py\n\nGARPIX_USER = {\n    # registration\n    'MIN_LENGTH_PASSWORD': 8,\n    'MIN_DIGITS_PASSWORD': 2,\n    'MIN_CHARS_PASSWORD': 2,\n    'MIN_UPPERCASE_PASSWORD': 1,\n}\n\n# Hint: see all available settings in the end of this document.\n\n</code></pre>"},{"location":"packages/garpix_user/#email-and-phone-confirmation-password-restoring","title":"Email and phone confirmation, password restoring","text":"<p>To use email and phone confirmation or (and) restore password functionality add the <code>garpix_notify</code> to your <code>INSTALLED_APPS</code>:</p> <pre><code># settings.py\n\n# ...\nINSTALLED_APPS = [\n    # ...\n    'garpix_notify',\n]\n</code></pre> <p>and to migration modules:</p> <pre><code># settings.py\n\nMIGRATION_MODULES = {\n    'garpix_notify': 'app.migrations.garpix_notify',\n}\n</code></pre> <p>Add corresponding settings:</p> <pre><code>\n# settings.py\n\nGARPIX_USER = {\n    'USE_EMAIL_CONFIRMATION': True,\n    'USE_PHONE_CONFIRMATION': True,\n    'USE_EMAIL_RESTORE_PASSWORD': True,\n    'USE_PHONE_RESTORE_PASSWORD': True,\n}\n\n# Hint: see all available settings in the end of this document.\n\n</code></pre> <p>You also need to add notify events:</p> <pre><code># settings.py\n\nfrom garpix_user.settings import GARPIX_USER_NOTIFY_EVENTS\n\nNOTIFY_EVENTS.update(GARPIX_USER_NOTIFY_EVENTS)\n\n</code></pre> <p>You can specify email and phone code length, lifetime and time delay before next attempt:</p> <pre><code>#settings.py \n\nGARPIX_USER = {\n    'CONFIRM_PHONE_CODE_LENGTH': 6,\n    'CONFIRM_EMAIL_CODE_LENGTH': 6,\n    'TIME_LAST_REQUEST': 1,\n    'CONFIRM_PHONE_CODE_LIFE_TIME': 5,  # in minutes\n    'CONFIRM_EMAIL_CODE_LIFE_TIME': 2,  # in days\n}\n\n# Hint: see all available settings in the end of this document.\n\n</code></pre> <p>Notice: the minimum and maximum values for <code>CONFIRM_CODE_LENGTH</code> are 4 and 255. These values will be hard used in case your settings are not in this interval.</p> <p>If you need to use pre-registration email or phone confirmation, you need to set corresponding variables to True:</p> <pre><code>\n# settings.py\n\nGARPIX_USER = {\n    'USE_PREREGISTRATION_EMAIL_CONFIRMATION': True,\n    'USE_PREREGISTRATION_PHONE_CONFIRMATION': True,\n}\n\n# Hint: see all available settings in the end of this document.\n\n</code></pre> <p>If you need to use email confirmation by link, you need to set corresponding variable:</p> <pre><code>\n# settings.py\n\nGARPIX_USER = {\n    'USE_EMAIL_LINK_CONFIRMATION': True,\n    'EMAIL_CONFIRMATION_LINK_REDIRECT': '',  # link to the page user needs to see after email confirmation\n}\n\n# Hint: see all available settings in the end of this document.\n\n</code></pre>"},{"location":"packages/garpix_user/#referral-links","title":"Referral links","text":"<p>You can also use referral links in your project with garpix_user. To add this functionality, just add the corresponding settings:</p> <pre><code>\n# settings.py\n\nGARPIX_USER = {\n    'USE_REFERRAL_LINKS': True,\n    'REFERRAL_REDIRECT_URL': '/', # link to the page user needs to see\n}\n# Hint: see all available settings in the end of this document.\n\n</code></pre>"},{"location":"packages/garpix_user/#usersession","title":"UserSession","text":"<p>Using <code>garpix_user</code> you can also store info about unregistered user sessions. The package already consists of model and views for it.</p> <p>To create the unregistered user send <code>POST</code> request to <code>{API_URL}/user_session/create_user_session/</code></p> <p>The request returns <code>UserSession</code> object with <code>token_number</code> field. You need to send this token number in each request passing in to header as <code>user-session-token</code>.</p>"},{"location":"packages/garpix_user/#all-available-settings-with-default-values","title":"All available settings with default values","text":"<pre><code>\n# settings.py\n\nGARPIX_USER = {\n    # base settings\n    'USE_REFERRAL_LINKS': False,\n    'REFERRAL_REDIRECT_URL': '/',\n    # email/phone confirmation\n    'USE_EMAIL_CONFIRMATION': True,\n    'USE_PHONE_CONFIRMATION': True,\n    'USE_PREREGISTRATION_EMAIL_CONFIRMATION': True,\n    'USE_PREREGISTRATION_PHONE_CONFIRMATION': True,\n    'USE_EMAIL_LINK_CONFIRMATION': True,\n    'EMAIL_CONFIRMATION_LINK_REDIRECT': '/',\n    'CONFIRM_PHONE_CODE_LENGTH': 6,\n    'CONFIRM_EMAIL_CODE_LENGTH': 6,\n    'TIME_LAST_REQUEST': 1,\n    'CONFIRM_PHONE_CODE_LIFE_TIME': 5,  # in minutes\n    'CONFIRM_EMAIL_CODE_LIFE_TIME': 2,  # in days\n    # restore password\n    'USE_RESTORE_PASSWORD': True,\n    # registration\n    'REGISTRATION_SERIALIZER': 'app.serializers.RegistrationCustSerializer',\n    'MIN_LENGTH_PASSWORD': 8,\n    'MIN_DIGITS_PASSWORD': 2,\n    'MIN_CHARS_PASSWORD': 2,\n    'MIN_UPPERCASE_PASSWORD': 1,\n    # response messages\n    'WAIT_RESPONSE': '\u041d\u0435 \u043f\u0440\u043e\u0448\u043b\u043e 1 \u043c\u0438\u043d \u0441 \u043c\u043e\u043c\u0435\u043d\u0442\u0430 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430',\n    'USER_REGISTERED_RESPONSE': '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c {field} \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d',  # as 'field' will be used email/phone according to the request\n    'INCORRECT_CODE_RESPONSE': '\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u0442\u043d\u044b\u0439 \u043a\u043e\u0434',\n    'NO_TIME_LEFT_RESPONSE': '\u041a\u043e\u0434 \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d. \u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e',\n    'NOT_AUTHENTICATED_RESPONSE': '\u0423\u0447\u0435\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0431\u044b\u043b\u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b'\n}\n\n</code></pre> <p>See <code>garpix_user/tests/test_api/*.py</code> for examples.</p> <pre><code>from garpix_user.models import UserSession\n</code></pre> <ul> <li> <p><code>get_from_request(cls, request)</code>: \u043c\u0435\u0442\u043e\u0434, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 request \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code> \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430:</p> <ul> <li>\u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d, \u043e\u043d \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code>, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c. </li> <li>\u0415\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0442\u043e\u043a\u0435\u043d \u0432 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0435, \u043e\u043d \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code>, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 \u044d\u0442\u0438\u043c \u0442\u043e\u043a\u0435\u043d\u043e\u043c. </li> <li>\u0415\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043a\u043b\u044e\u0447 \u0441\u0435\u0441\u0441\u0438\u0438, \u043e\u043d \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code>, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 \u044d\u0442\u0438\u043c \u043a\u043b\u044e\u0447\u043e\u043c \u0441\u0435\u0441\u0441\u0438\u0438. </li> <li>\u0415\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 <code>username</code> \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u043e\u043d \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code>, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0441 \u044d\u0442\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. </li> <li>\u0415\u0441\u043b\u0438 \u043d\u0438 \u043e\u0434\u043d\u043e \u0438\u0437 \u044d\u0442\u0438\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f, \u043e\u043d \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 <code>None</code>.</li> </ul> </li> <li> <p><code>create_from_request(cls, request, username, session):</code> \u043c\u0435\u0442\u043e\u0434 \u043a\u043b\u0430\u0441\u0441\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 request, \u0441\u0442\u0440\u043e\u043a\u0443 username \u0438 \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 session. \u041e\u043d \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043d\u043e\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code> \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430:</p> <ul> <li>\u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d, \u043e\u043d \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043d\u043e\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code>, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c.</li> <li>\u0415\u0441\u043b\u0438 session \u0440\u0430\u0432\u043d\u043e True, \u043e\u043d \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043d\u043e\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code>, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 \u043a\u043b\u044e\u0447\u043e\u043c \u0441\u0435\u0441\u0441\u0438\u0438.</li> <li>\u0415\u0441\u043b\u0438 username \u043d\u0435 \u0440\u0430\u0432\u043d\u043e <code>None</code>, \u043e\u043d \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043d\u043e\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code>, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0441 \u044d\u0442\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.</li> <li>\u0415\u0441\u043b\u0438 \u043d\u0438 \u043e\u0434\u043d\u043e \u0438\u0437 \u044d\u0442\u0438\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u0439 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f, \u043e\u043d \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043d\u043e\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 <code>UserSession</code></li> </ul> </li> </ul>"},{"location":"packages/packages/","title":"\u0412\u0441\u0435 \u043f\u0430\u043a\u0435\u0442\u044b","text":""},{"location":"packages/packages/#_2","title":"\u0412\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0435 \u043f\u0430\u043a\u0435\u0442\u044b","text":"<ul> <li>garpix_utils - \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0443\u0442\u0438\u043b\u0438\u0442\u044b, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0449\u0438\u0435 \u0432 \u0441\u0435\u0431\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u044b, \u043c\u0438\u043a\u0441\u0438\u043d\u044b, \u0440\u0430\u0431\u043e\u0442\u0443 \u0441\u043e \u0441\u0442\u0440\u043e\u043a\u0430\u043c\u0438 \u0438 \u0442.\u043f.</li> <li>garpix_qa - \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u0434\u0430 \u043d\u0430 \u043a\u043e\u0434\u0441\u0442\u0430\u0439\u043b, \u043e\u0448\u0438\u0431\u043a\u0438, \u0443\u044f\u0437\u0432\u0438\u043c\u043e\u0441\u0442\u0438, \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c.</li> <li>garpix_page - \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0438\u0437 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438 \u0441 \u0427\u041f\u0423 \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044f.</li> <li>garpix_menu - \u043c\u0435\u043d\u044e \u0438\u0437 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438 \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u0441\u044b\u043b\u043e\u043a.</li> <li>garpix_auth - \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0432\u0445\u043e\u0434\u0430 \u0447\u0435\u0440\u0435\u0437 \u0444\u043e\u0440\u043c\u0443 \u0438 \u043f\u043e API, \u0432\u044b\u0445\u043e\u0434\u0430, \u0432\u0445\u043e\u0434\u0430 \u0447\u0435\u0440\u0435\u0437 \u0441\u043e\u0446\u0441\u0435\u0442\u0438.</li> <li>garpix_package - \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0438 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u044b\u0445 \u043f\u0430\u043a\u0435\u0442\u043e\u0432 \u043d\u0430 pypi.org.</li> <li>garpix_notify - \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043d\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u043f\u043e Email, SMS, PUSH, Viber, Telegram.</li> </ul>"},{"location":"packages/packages/#_3","title":"\u0412\u043d\u0435\u0448\u043d\u0438\u0435 \u043f\u0430\u043a\u0435\u0442\u044b","text":"<ul> <li>(\u0412 \u0420\u0410\u0417\u0420\u0410\u0411\u041e\u0422\u041a\u0415) garpix_blog - \u0431\u043b\u043e\u0433 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 (\u043d\u043e\u0432\u043e\u0441\u0442\u0438, \u0430\u043a\u0446\u0438\u0438 \u0438 \u0442.\u043f.).</li> <li>garpix_vacancy - \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435.</li> </ul>"},{"location":"packages/packages/#_4","title":"\u0412\u043d\u0435\u0448\u043d\u0438\u0435 \u043f\u0430\u043a\u0435\u0442\u044b \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u043c\u0438","text":"<ul> <li>garpix_profitbase - \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u043c \u0432 \u0441\u0444\u0435\u0440\u0435 \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438 profitbase.ru.</li> <li>(\u0412 \u0420\u0410\u0417\u0420\u0410\u0411\u041e\u0422\u041a\u0415) garpix_instagram - \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 Instagram.</li> <li>garpix_jira - \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 Jira Server.</li> </ul>"},{"location":"packages/utils/","title":"Utils","text":"<p>\u041d\u0430\u0431\u043e\u0440 \u0443\u0442\u0438\u043b\u0438\u0442 \u0434\u043b\u044f GARPIX CMS.</p> <p>\u0423\u0442\u0438\u043b\u0438\u0442\u044b:</p> <ul> <li><code>file.get_file_path</code> - \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0443\u0442\u0438 \u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430 (\u0434\u043b\u044f FileField)</li> <li><code>string.get_random_string</code> - \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u043e\u043a\u0438 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432</li> <li><code>signature.make_signature_sha512</code> - \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u0438</li> <li><code>models.ActiveMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u043b\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u043b\u0435 \"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c\"</li> <li><code>models.EmptyMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d-\u043f\u0443\u0441\u0442\u044b\u0448\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0438 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043c\u0438\u043a\u0441\u0438\u043d\u0430\u0445</li> <li><code>models.AvailableMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u043b\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u043e\u0431\u043b\u0430\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044f\u043c\u0438 \"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c\" \u0438 \"\u0423\u0434\u0430\u043b\u0435\u043d\u043e\"</li> <li><code>models.PolymorphicActiveMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u043b\u0438 <code>garpix_page.BasePage</code>, \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u0431\u043e\u0440\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 (\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b). \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432\u043d\u0443\u0442\u0440\u0438 GARPIX CMS.</li> <li><code>templatetags.url_replace</code> - \u043f\u043e\u0434\u043c\u0435\u043d\u0430 \u043e\u0434\u043d\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432 dict \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u0435 \u0432 Django-\u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445.</li> <li><code>models.DeleteMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u043b\u0435\u0439, \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b \u043c\u044f\u0433\u043a\u043e\u0433\u043e/\u0436\u0435\u0441\u0442\u043a\u043e\u0433\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f, <code>models.AdminDeleteMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d.\u043c\u043e\u0434\u0435\u043b\u0438.</li> <li><code>models.PolymorphicAvailableMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u043b\u0438 <code>garpix_page.BasePage</code>, \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u0431\u043e\u0440\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 (\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b \u0438 \u043d\u0435\u0443\u0434\u0430\u043b\u0435\u043d\u044b). \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432\u043d\u0443\u0442\u0440\u0438 GARPIX CMS.</li> <li><code>models.GarpixSiteConfiguration</code> - \u043a\u043b\u0430\u0441\u0441 \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u0443\u043b\u044c\u0442\u0438\u0441\u0430\u0439\u0442\u043e\u0432\u044b\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435, <code>admin.GarpixSiteConfigurationAdmin</code> - \u043a\u043b\u0430\u0441\u0441 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d.\u043f\u0430\u043d\u0435\u043b\u0438</li> </ul>"},{"location":"packages/utils/#_1","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","text":"<p>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e pip:</p> <pre><code>pip install garpix_utils\n</code></pre>"},{"location":"packages/utils/#_2","title":"\u0423\u0442\u0438\u043b\u0438\u0442\u044b","text":""},{"location":"packages/utils/#fileget_file_path-filefield","title":"<code>file.get_file_path</code> - \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0443\u0442\u0438 \u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430 (\u0434\u043b\u044f FileField)","text":"<p>\u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 \u043f\u0443\u0442\u044c \u0444\u0430\u0439\u043b\u0430 \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0433\u043e\u0434\u0430 \u0438 \u043c\u0435\u0441\u044f\u0446\u0430, \u0447\u0442\u043e\u0431\u044b \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0444\u0430\u0439\u043b\u043e\u0432 \u043d\u0435 \u0441\u043a\u0430\u043f\u043b\u0438\u0432\u0430\u043b\u0438\u0441\u044c \u043d\u0430 \u043e\u0434\u043d\u043e\u043c \u0443\u0440\u043e\u0432\u043d\u0435.</p> <p>\u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f 'upload_to' \u043f\u043e\u043b\u044f FileField \u043c\u043e\u0434\u0435\u043b\u0438 Django. </p> <p>\u041f\u0420\u0418\u041c\u0415\u0420:</p> <pre><code>from garpix_utils.file import get_file_path\nfrom django.db import models\n\n\nclass FileModel(models.Model):\n    # ...\n    file = models.FileField(upload_to=get_file_path, blank=True, null=True, verbose_name=_('File'))\n    # ...\n</code></pre>"},{"location":"packages/utils/#stringget_random_string-","title":"<code>string.get_random_string</code> - \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u043e\u043a\u0438 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u0438 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u0430\u043c\u0438.</p> <p>\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b:</p> <ul> <li>size: int - \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e - 8.</li> <li>chars: str - \u0441\u0442\u0440\u043e\u043a\u0430 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0432 \u0441\u0442\u0440\u043e\u043a\u0435. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e <code>string.ascii_uppercase + string.digits</code>.</li> </ul> <p>\u041f\u0420\u0418\u041c\u0415\u0420:</p> <p>\u041f\u0440\u0438\u043c\u0435\u0440 1</p> <pre><code>from garpix_utils.string import get_random_string\n\nrandom_string = get_random_string(16)\n\n# random_string = '451DNCLZLY2HDDDX'\n</code></pre> <p>\u041f\u0440\u0438\u043c\u0435\u0440 2</p> <pre><code>import string\nfrom garpix_utils.string import get_random_string\n\nrandom_string = get_random_string(8, string.ascii_lowercase)\n\n# random_string = 'palsjpyz'\n</code></pre> <p>\u041f\u0440\u0438\u043c\u0435\u0440 3</p> <pre><code>from garpix_utils.string import get_random_string\n\nrandom_string = get_random_string(16, '01')\n\n# random_string = '0110111101010100'\n</code></pre>"},{"location":"packages/utils/#signaturemake_signature_sha512-","title":"<code>signature.make_signature_sha512</code> - \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u0438","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u0441\u0438\u0433\u043d\u0430\u0442\u0443\u0440\u0443 (\u0446\u0438\u0444\u0440\u043e\u0432\u0443\u044e \u043f\u043e\u0434\u043f\u0438\u0441\u044c) \u043f\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c \u0441 \u0445\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c SHA-512.</p> <p>\u041e\u0431\u044b\u0447\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u044d\u043a\u0432\u0430\u0439\u0440\u0438\u043d\u0433\u0430 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0437\u0430\u0449\u0438\u0442\u044b \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u044c\u044e.</p> <p>\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415! \u0415\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u0434\u0440\u0443\u0433\u043e\u0439 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f, \u0442\u043e \u0437\u0430\u0433\u043b\u044f\u043d\u0438\u0442\u0435 \u0432 \u044d\u0442\u0443 \u0444\u0443\u043d\u043a\u0446\u0438\u044e, \u043c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u043e \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0438.</p> <p>\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b:</p> <ul> <li>params: dict - \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432. \u0415\u0441\u043b\u0438 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 signature_key, \u0442\u043e \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d.</li> <li>signature_key: str - \u043a\u043b\u044e\u0447 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \u0441 \u0441\u0438\u0433\u043d\u0430\u0442\u0443\u0440\u043e\u0439. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \"sig\".</li> <li>secret: str - \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u043a\u043e\u043d\u043a\u0430\u0442\u0435\u043d\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u043a\u043e\u043d\u0446\u0435 \u043f\u0435\u0440\u0435\u0434 \u0445\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c.</li> </ul> <p>\u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c:</p> <ol> <li>\u0411\u0435\u0440\u0435\u0442 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432, \u0443\u0434\u0430\u043b\u044f\u0435\u0442 \u043e\u0442\u0442\u0443\u0434\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0441 \u043a\u043b\u044e\u0447\u043e\u043c \u0441\u0438\u0433\u043d\u0430\u0442\u0443\u0440\u044b (\u0441\u043c. \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e signature_key, \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \"sig\")</li> <li>\u041f\u043e\u043b\u0443\u0447\u0438\u0432\u0448\u0438\u0439\u0441\u044f \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0441\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u0442 \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e \u043a\u043b\u044e\u0447\u0430 \u0432 \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435. \u0412\u0441\u0435 \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0442\u043e\u0436\u0435 \u0441\u043e\u0440\u0442\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043f\u043e \u043a\u043b\u044e\u0447\u0443, \u0441\u043f\u0438\u0441\u043e\u0447\u043d\u044b\u0435 - \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443.</li> <li>\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043a\u043e\u043d\u043a\u0430\u0442\u0435\u043d\u0438\u0440\u0443\u0435\u0442 \u043a\u043b\u044e\u0447 \u0441\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c \u0432 \u0435\u0434\u0438\u043d\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443.</li> <li>\u0412 \u043a\u043e\u043d\u0446\u0435 \u043a\u043e\u043d\u043a\u0430\u0442\u0435\u043d\u0438\u0440\u0443\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 secret (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0440\u0430\u0432\u043d\u0430 \"secret\").</li> <li>\u0425\u044d\u0448\u0438\u0440\u0443\u0435\u0442 \u043f\u043e \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u0443 SHA-512 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u0442\u0440\u043e\u043a\u0443 \u0432 \u043d\u0438\u0436\u043d\u0435\u043c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0435.</li> <li>\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0432\u0448\u0438\u0439\u0441\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442.</li> </ol> <p>\u041f\u0420\u0418\u041c\u0415\u0420:</p> <pre><code># \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0432\u0430\u043c \u0444\u0430\u0439\u043b\n\nfrom garpix_utils.signature import make_signature_sha512\n\n\nsig = make_signature_sha512({'a': 'xxx', 'c': 'ggg', 'b': '111', 'sig': '123', 'd': [3, 1, 2], 'e': {'b': '2', 'a': '1'}}, signature_key='sig', secret='secret')\n\n# sig = '2123086085ec1fe67595d7b3d2b6a0dbf3f33e528d78366b8d62d7f0a7e3c090077b0f7b8dc84921a6087aa57b8284bd1e74702df7a16e96f73f627e6eea815a'\n</code></pre> <p>\u0420\u0430\u0437\u0431\u043e\u0440 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u043f\u043e \u0448\u0430\u0433\u0430\u043c:</p> <p>\u0428\u0430\u0433 1</p> <ul> <li>\u0411\u044b\u043b\u043e: {'a': 'xxx', 'c': 'ggg', 'b': '111', 'sig': '123', 'd': [3, 1, 2], 'e': {'b': '2', 'a': '1'}}</li> <li>\u0421\u0442\u0430\u043b\u043e: {'a': 'xxx', 'c': 'ggg', 'b': '111', 'd': [3, 1, 2], 'e': {'b': '2', 'a': '1'}}</li> </ul> <p>\u0428\u0430\u0433 2</p> <ul> <li>\u0411\u044b\u043b\u043e: {'a': 'xxx', 'c': 'ggg', 'b': '111', 'd': [3, 1, 2], 'e': {'b': '2', 'a': '1'}}</li> <li>\u0421\u0442\u0430\u043b\u043e: {'a': 'xxx', 'b': '111', 'c': 'ggg', 'd': [1, 2, 3], 'e': {'a': '1', 'b': '2'}}</li> </ul> <p>\u0428\u0430\u0433 3</p> <ul> <li>\u0411\u044b\u043b\u043e: {'a': 'xxx', 'b': '111', 'c': 'ggg', 'd': [1, 2, 3], 'e': {'a': '1', 'b': '2'}}</li> <li>\u0421\u0442\u0430\u043b\u043e: 'axxxb111cgggd123ea1b2'</li> </ul> <p>\u0428\u0430\u0433 4</p> <ul> <li>\u0411\u044b\u043b\u043e: 'axxxb111cgggd123ea1b2'</li> <li>\u0421\u0442\u0430\u043b\u043e: 'axxxb111cgggd123ea1b2secret'</li> </ul> <p>\u0428\u0430\u0433 5</p> <ul> <li>\u0411\u044b\u043b\u043e: 'axxxb111cgggd123ea1b2secret'</li> <li>\u0421\u0442\u0430\u043b\u043e: '2123086085ec1fe67595d7b3d2b6a0dbf3f33e528d78366b8d62d7f0a7e3c090077b0f7b8dc84921a6087aa57b8284bd1e74702df7a16e96f73f627e6eea815a'</li> </ul>"},{"location":"packages/utils/#modelsactivemixin-","title":"<code>models.ActiveMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u043b\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u043b\u0435 \"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c\"","text":"<p>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u0435 <code>is_active (Boolean, default=True)</code>. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430 <code>active_objects</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b (<code>is_active=True</code>).</p> <p>\u041f\u0420\u0418\u041c\u0415\u0420:</p> <pre><code># \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0432\u0430\u043c \u0444\u0430\u0439\u043b\n\nfrom django.db import models\nfrom garpix_utils.models import ActiveMixin\n\n\nclass Product(ActiveMixin, models.Model):\n    pass\n\n\nProduct.active_objects.all()\n\n# \u0411\u0443\u0434\u0443\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u044b \u0437\u0430\u043f\u0438\u0441\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0441 is_active == True.\n</code></pre>"},{"location":"packages/utils/#modelsemptymixin-","title":"<code>models.EmptyMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d-\u043f\u0443\u0441\u0442\u044b\u0448\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0438 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043c\u0438\u043a\u0441\u0438\u043d\u0430\u0445","text":"<p>\u041f\u0420\u0418\u041c\u0415\u0420:</p> <pre><code># \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0432\u0430\u043c \u0444\u0430\u0439\u043b\n\nfrom django.db import models\nfrom garpix_utils.models import EmptyMixin\n\n\nclass Product(EmptyMixin, models.Model):\n    pass\n\n# \u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u043e\u0441\u044c.\n</code></pre> <p>\u0418\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u043f\u0430\u043a\u0435\u0442\u0435 <code>garpix_blog</code>:</p> <pre><code># app/settings.py\n\nGARPIX_BLOG_MIXIN = 'garpix_utils.models.EmptyMixin'\n\n</code></pre>"},{"location":"packages/utils/#modelsavailablemixin-","title":"<code>models.AvailableMixin</code> - \u043c\u0438\u043a\u0441\u0438\u043d \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u043b\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u043e\u0431\u043b\u0430\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044f\u043c\u0438 \"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c\" \u0438 \"\u0423\u0434\u0430\u043b\u0435\u043d\u043e\"","text":"<p>\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u044f <code>is_active (Boolean, default=True)</code> \u0438 <code>is_deleted (Boolean, default=False)</code>. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430 <code>available_objects</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b (<code>is_active=True, is_deleted=False</code>).</p> <p>\u041f\u0420\u0418\u041c\u0415\u0420:</p> <pre><code># \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0432\u0430\u043c \u0444\u0430\u0439\u043b\n\nfrom django.db import models\nfrom garpix_utils.models import AvailableMixin\n\n\nclass Product(AvailableMixin, models.Model):\n    pass\n\n\nProduct.available_objects.all()\n\n# \u0411\u0443\u0434\u0443\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u044b \u0437\u0430\u043f\u0438\u0441\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0441 is_active == True.\n</code></pre>"},{"location":"packages/utils/#templatetagsurl_replace-dict-django-","title":"<code>templatetags.url_replace</code> - \u043f\u043e\u0434\u043c\u0435\u043d\u0430 \u043e\u0434\u043d\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432 dict \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u0435 \u0432 Django-\u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445.","text":"<p>\u041f\u0420\u0418\u041c\u0415\u0420 \u0434\u043b\u044f \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u0438 (\u0432\u0437\u044f\u0442\u043e \u0438\u0437 https://github.com/garpixcms/garpix_page/):</p> <pre><code>{% load url_replace %}\n\n&lt;nav&gt;\n    &lt;ul class=\"pagination\"&gt;\n        {% for page_num in page_range %}\n            &lt;li class=\"page-item {% if page_num == page %}active{% endif %}\"&gt;\n                &lt;a class=\"page-link\" href=\"?{% url_replace request 'page' page_num %}\"&gt;{{ page_num }}&lt;/a&gt;\n            &lt;/li&gt;\n        {% endfor %}\n    &lt;/ul&gt;\n&lt;/nav&gt;\n</code></pre>"}]}